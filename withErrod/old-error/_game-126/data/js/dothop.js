var DotHop;!function(t){var e=function(){function t(){}return t.GAMEE=!0,t.game=null,t.GAME_WIDTH=640,t.GAME_HEIGHT=640,t.MAX_GAME_WIDTH=640,t.MAX_GAME_HEIGHT=640,t.scaleX=1,t.scaleY=1,t.correctOrientation=!1,t.musicOn=!0,t.soundOn=!0,t.showLanguages=!1,t.supportedLanguages=["en"],t.currentLanguage="en",t}();t.Global=e}(DotHop||(DotHop={}));var PhaserGlobal={stopFocus:!0};window.onload=function(){var t=new Gamee.Gamee("OneButton",!0),e=new DotHop.Game;DotHop.Global.game=e,t.setGame(e)};var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},DotHop;!function(t){var e=function(e){function i(){var n=(window.innerWidth,window.innerHeight,Utils.ScreenUtils.calculateScreenMetrics(t.Global.GAME_WIDTH,t.Global.GAME_HEIGHT,Utils.Orientation.PORTRAIT,t.Global.MAX_GAME_WIDTH,t.Global.MAX_GAME_HEIGHT)),o=Phaser.AUTO;e.call(this,{width:n.gameWidth,height:n.gameHeight,renderer:o,parent:"content",transparent:!1,antialias:!0,physicsConfig:null,preserveDrawingBuffer:!0}),i.game=this,Utils.PhaserUtils.ChangeAnimationPhaserJSONData(this.additionalFrameProperties),Utils.PhaserUtils.AdjustTweenFunctions(),this.state.add("Boot",t.Boot),this.state.add("Preloader",t.Preloader),this.state.add("Menu",t.Menu),this.state.add("Play",t.Play),this.state.start("Boot")}return __extends(i,e),i.prototype.onMute=function(){Utils.AudioUtils.stopMusic(),t.Global.soundOn=!1,t.Global.musicOn=!1},i.prototype.onUnmute=function(){t.Global.soundOn=!0,t.Global.musicOn=!0},i.prototype.additionalFrameProperties=function(t,e){e.anchor&&(t.anchorX=e.anchor.w,t.anchorY=e.anchor.h),e.nextitem&&(t.nextItemX=e.nextitem.w,t.nextItemY=e.nextitem.h)},i}(Phaser.Game);t.Game=e}(DotHop||(DotHop={}));var Gamee;!function(t){var e=function(){function t(e,i){void 0===i&&(i=!1),this._game=null,this._gameeController=null,this._indices={right:1,up:2,left:4,down:8,A:16,B:32,button:64},this._pressesCache=0,this._isDown=0,this._justDown=0,this._justUp=0,this._gameRunning=!1,this._score=0,void 0!==window.gamee&&("Touch"!==e?(this._gameeController=window.gamee.controller.requestController(e,{enableKeyboard:i}),this.keyHandlers()):(this._gameeController=window.gamee.controller.requestController("Touch"),this.touchHandlers())),this.eventHandlers(),t._instance=this}return Object.defineProperty(t,"instance",{get:function(){return null===t._instance,t._instance},enumerable:!0,configurable:!0}),t.prototype.setGame=function(t){this._game=t},Object.defineProperty(t.prototype,"gameRunning",{get:function(){return this._gameRunning},enumerable:!0,configurable:!0}),t.prototype.keyHandlers=function(){var t=this;this._gameeController.on("keydown",function(e){t._pressesCache|=t._indices[e.button];var i=t._game.state.getCurrentState();"function"==typeof i.onGameeButtonDown&&i.onGameeButtonDown(e.button)}),this._gameeController.on("keyup",function(e){t._pressesCache&=~t._indices[e.button];var i=t._game.state.getCurrentState();"function"==typeof i.onGameeButtonUp&&i.onGameeButtonUp(e.button)})},t.prototype.processKeys=function(){var t=this._isDown;this._isDown=this._pressesCache;var e=t^this._isDown;this._justDown=e&this._isDown,this._justUp=e&~this._isDown},t.prototype.clearKeys=function(){this._pressesCache=0,this._isDown=0,this._justDown=0,this._justUp=0},t.prototype.isDown=function(t){return(this._isDown&this._indices[t])>0},t.prototype.justDown=function(t){return(this._justDown&this._indices[t])>0},Object.defineProperty(t.prototype,"anyIsDown",{get:function(){return this._isDown>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anyJustDown",{get:function(){return this._justDown>0},enumerable:!0,configurable:!0}),t.prototype.isUp=function(t){return!this.isDown(t)},t.prototype.justUp=function(t){return(this._justUp&this._indices[t])>0},t.prototype.touchHandlers=function(){var t=this;this._gameeController.on("touchstart",function(e){var i=t._game.state.getCurrentState();"function"==typeof i.onGameeTouchStart&&i.onGameeTouchStart(e)}),this._gameeController.on("touchend",function(e){var i=t._game.state.getCurrentState();"function"==typeof i.onGameeTouchEnd&&i.onGameeTouchEnd(e)}),this._gameeController.on("touchmove",function(e){var i=t._game.state.getCurrentState();"function"==typeof i.onGameeTouchMove&&i.onGameeTouchMove(e)}),this._gameeController.on("touchleave",function(e){var i=t._game.state.getCurrentState();"function"==typeof i.onGameeTouchLeave&&i.onGameeTouchLeave(e)}),this._gameeController.on("touchcancel",function(e){var i=t._game.state.getCurrentState();"function"==typeof i.onGameeTouchCancel&&i.onGameeTouchCancel(e)})},t.prototype.eventHandlers=function(){var t=this;window.gamee.onPause=function(){t.onPause()},window.gamee.onUnpause=function(){t.onUnpause()},window.gamee.onRestart=function(){t.onRestart()},window.gamee.onMute=function(){t._game.onMute()},window.gamee.onUnmute=function(){t._game.onUnmute()}},t.prototype.onPause=function(){var t=this._game.state.getCurrentState();"function"==typeof t.onGameePause&&t.onGameePause()},t.prototype.onUnpause=function(){var t=this._game.state.getCurrentState();"function"==typeof t.onGameeUnpause&&t.onGameeUnpause()},t.prototype.onRestart=function(){var t=this._game.state.getCurrentState();"function"==typeof t.onGameeRestart&&t.onGameeRestart()},Object.defineProperty(t.prototype,"score",{get:function(){return this._score},set:function(t){this._score=t,window.gamee.score=t},enumerable:!0,configurable:!0}),t.prototype.addScore=function(t){this.score+=t},t.prototype.gameStart=function(){this._gameRunning,window.gamee.gameStart(),this._gameRunning=!0},t.prototype.gameOver=function(){!this._gameRunning,window.gamee.gameOver(),this._gameRunning=!1},t._instance=null,t}();t.Gamee=e}(Gamee||(Gamee={}));var DotHop;!function(t){var e;!function(t){function e(t,e,i){var n=t*Math.PI*2*e,o=t*Math.PI*2*i;return Math.sin(n)*Math.cos(o)}function i(t,e,i){var n=t*Math.PI*2*e,o=-t*i;return Math.sin(n)*Math.exp(o)}function n(t){return-2*t*t+3*t}function o(t){return-(n(1-t)-1)}function s(t){return Math.sin(2*t*Math.PI)}function a(t){return Math.sin(2*t*Math.PI)}function r(t,e){return Math.sin(2*t*Math.PI*e)}t.wiggle=e,t.sinWithExpDecay=i,t.pop5=n,t.pop5rev=o,t.sin=s,t.sinRotate=a,t.sinWithPeriod=r}(e=t.Easing||(t.Easing={}))}(DotHop||(DotHop={}));var Helper;!function(t){var e=function(){function t(){}return t.create=function(e,i,n,o,s,a,r,h,l,c){return void 0===a&&(a=0),void 0===r&&(r=0),void 0===h&&(h=0),void 0===l&&(l=0),void 0===c&&(c=!1),t._image=new Phaser.Image(e,0,0,o),"string"==typeof s?t._frame=e.cache.getFrameByName(o,s):t._frame=e.cache.getFrameByIndex(o,s),t.calculateNineImage(i,n,a,r,h,l,c),t._nineImage=new Phaser.BitmapData(e,"NineImage"+t._textureKey++,t._width,t._height),t.renderNineImage(),t._nineImage},t.calculateNineImage=function(e,i,n,o,s,a,r){var h=t._frame;if(t._centralWidth=h.width-o-a,t._centralHeight=h.height-n-s,r)t._horizontalRepeats=e,t._verticalRepeats=i,t._width=o+a+t._centralWidth*e,t._height=n+s+t._centralHeight*i,t._lastWidth=0,t._lastHeight=0;else{var l=e-o-a;t._horizontalRepeats=Math.floor(l/t._centralWidth),t._lastWidth=l%t._centralWidth;var c=i-n-s;t._verticalRepeats=Math.floor(c/t._centralHeight),t._lastHeight=c%t._centralHeight,t._width=e,t._height=i}t._leftWidth=o,t._rightWidth=a,t._topHeight=n,t._bottomHeight=s},t.renderNineImage=function(){var e=t._frame.y,i=0;t._topHeight>0&&(t.renderNineImageRow(t._image,e,i,t._topHeight),e+=t._topHeight,i+=t._topHeight);for(var n=0;n<t._verticalRepeats;n++)t.renderNineImageRow(t._image,e,i,t._centralHeight),i+=t._centralHeight;t._lastHeight>0&&(t.renderNineImageRow(t._image,e,i,t._lastHeight),i+=t._lastHeight),e+=t._centralHeight,t._bottomHeight>0&&t.renderNineImageRow(t._image,e,i,t._bottomHeight)},t.renderNineImageRow=function(e,i,n,o){var s=t._frame.x,a=0;t._leftWidth>0&&(t._nineImage.copy(e,s,i,t._leftWidth,o,a,n),a+=t._leftWidth,s+=t._leftWidth);for(var r=0;r<t._horizontalRepeats;r++)t._nineImage.copy(e,s,i,t._centralWidth,o,a,n),a+=t._centralWidth;t._lastWidth>0&&(t._nineImage.copy(e,s,i,t._lastWidth,o,a,n),a+=t._lastWidth),s+=t._centralWidth,t._rightWidth>0&&t._nineImage.copy(e,s,i,t._rightWidth,o,a,n)},t._textureKey=0,t}();t.NineImage=e}(Helper||(Helper={}));var Helper;!function(t){var e;!function(t){t[t.UNDEFINED=-1]="UNDEFINED",t[t.SPACE=1]="SPACE",t[t.NEWLINE=2]="NEWLINE",t[t.CHARACTER=3]="CHARACTER"}(e||(e={}));var i=function(){function t(){}return t.hasNext=function(){return t.textPosition<t.text.length},t.getChar=function(){return t.text.charAt(t.textPosition++)},t.peekChar=function(){return t.text.charAt(t.textPosition)},t.getPosition=function(){return t.textPosition},t.setPosition=function(e){t.textPosition=e},t.getCharAdvance=function(e,i){var n=t.fontData.chars[e],o=n.xAdvance;return i>0&&n.kerning[i]&&(o+=n.kerning[i]),o},t.getCharType=function(t){return" "===t?e.SPACE:/(?:\r\n|\r|\n)/.test(t)?e.NEWLINE:e.CHARACTER},t.wrapText=function(i,n,o,s,a,r){t.text=n,t.setPosition(0),t.fontData=i.cache.getBitmapFont(a).font,void 0===r&&(r=t.fontData.size);var h=r/t.fontData.size,l=t.fontData.lineHeight*h,c=o/h,u=[],p=[],_=[],m=0,f=!0,g=0,d=0;u[m]=d,_[g++]=0;for(var y=s;t.hasNext();){for(var v=0,P=0,S=-1,E=e.UNDEFINED,C=e.UNDEFINED,T=c,D=-1;t.hasNext();){d=t.getPosition();var w=t.getChar();E=t.getCharType(w);var O=w.charCodeAt(0);if(E===e.SPACE)C!==e.SPACE&&(P=v),++v,T-=t.getCharAdvance(O,D);else if(E===e.CHARACTER){if(C!==e.CHARACTER&&(S=d),T-=t.getCharAdvance(O,D),0>T)break;++v}else if(E===e.NEWLINE){var L=!1;if(t.hasNext()&&(L=!0,P=v,S=t.getPosition(),d=S,T=-1,E=e.CHARACTER),L)break}C=E,D=O}y-=l,0>y&&(_[g++]=m),0>T&&E===e.CHARACTER?(0!==P?p[m]=P:p[m]=v,f=!1,0>y&&(f=!0,y=s-l),0!==P?(u[++m]=S,t.setPosition(S)):(u[++m]=d,t.setPosition(d))):t.hasNext()||(E===e.CHARACTER?p[m]=v:E===e.SPACE&&(p[m]=P))}_[g]=m+1;for(var M=[],A=1;g>=A;A++){for(var G=_[A-1],I=_[A],x=[],b=G;I>b;b++)x.push(t.text.substr(u[b],p[b]));M.push(x.join("\n"))}return M},t}();t.TextWrapper=i}(Helper||(Helper={}));var DotHop;!function(t){var e=function(){function e(t){this.maxVelocity=e.MAX_VELOCITY,this._velocity=new Phaser.Point(0,0),this._angularVelocity=0,this._friction=0,this._angularDrag=0,this._gravity=0,this._alpha=1,this._scaleChange=0,this._alphaChange=0,this._game=t}return Object.defineProperty(e.prototype,"visual",{get:function(){return this._visual},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"on",{set:function(t){this._on=t,this._visual.exists=t,this._visual.visible=t},enumerable:!0,configurable:!0}),e.prototype.remove=function(){var t=this._visual.parent;null!==t&&(t instanceof Phaser.Group?t.remove(this._visual):t.removeChild(this._visual),t=null)},e.prototype.bringToTop=function(){var t=this._visual.parent;t instanceof Phaser.Group&&t.bringToTop(this._visual)},e.prototype.sendToBack=function(){var t=this._visual.parent;t instanceof Phaser.Group&&t.sendToBack(this._visual)},Object.defineProperty(e.prototype,"textureKey",{set:function(t){this._textureKey=t},enumerable:!0,configurable:!0}),e.prototype.setScaleChange=function(t,e){void 0===e&&(e=0),this._scaleChangeType=t,this._scaleChange=e},Object.defineProperty(e.prototype,"alpha",{set:function(t){this._alpha=t,this._visual.alpha=Phaser.Math.clamp(t,0,1)},enumerable:!0,configurable:!0}),e.prototype.setAlphaChange=function(t,e){void 0===e&&(e=0),this._alphaChangeType=t,this._alphaChange=e},e.prototype.setPhysics=function(t,e,i,n,o,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),this._velocity.setTo(t,e),this._angularVelocity=i,this._friction=n,this._angularDrag=o,this._gravity=s,this._simplePhysics=0===s&&0===n&&0===o},e.prototype.setFrame=function(t){},e.prototype.onEmit=function(t){t.add(this._visual)},e.prototype.onKill=function(t){},e.prototype.update=function(e){void 0===e&&(e=!0);var i=this._game.time.physicsElapsed;if(this.lifetime>0&&(this.lifetime-=i)<=0)return!1;if((0!==this._velocity.x||0!==this._velocity.y)&&(this._visual.x+=this._velocity.x*i,this._visual.y+=this._velocity.y*i),0!==this._angularVelocity&&(this._visual.angle+=this._angularVelocity*i),this._simplePhysics||(this._velocity.x+=-this._friction*this._velocity.x*i,this._velocity.y+=(this._gravity-this._friction*this._velocity.y)*i,this._angularVelocity+=-this._angularDrag*this._angularVelocity*i),!e)return!0;if(this._scaleChangeType!=t.eParameterChangeType.NO_CHANGE)switch(this._scaleChangeType){case t.eParameterChangeType.IN_TIME:(this._visual.scale.x+=this._scaleChange*i)<0&&(this._visual.scale.x=0,this._scaleChange<0&&(this._scaleChangeType=t.eParameterChangeType.NO_CHANGE)),(this._visual.scale.y+=this._scaleChange*i)<0&&(this._visual.scale.y=0,this._scaleChange<0&&(this._scaleChangeType=t.eParameterChangeType.NO_CHANGE))}if(this._alphaChangeType!=t.eParameterChangeType.NO_CHANGE)switch(this._alphaChangeType){case t.eParameterChangeType.IN_TIME:this._alpha+=this._alphaChange*i,this._alpha<0?(this._visual.alpha=0,this._alphaChange<0&&(this._alphaChangeType=t.eParameterChangeType.NO_CHANGE)):this._alpha>1?(this._visual.alpha=1,this._alphaChange>0&&(this._alphaChangeType=t.eParameterChangeType.NO_CHANGE)):this._visual.alpha=this._alpha}return!0},e.MAX_VELOCITY=1e3,e}();t.Particle=e}(DotHop||(DotHop={}));var DotHop;!function(t){var e;!function(t){t[t.FLOW=0]="FLOW",t[t.EXPLODE=1]="EXPLODE"}(e||(e={})),function(t){t[t.NO_CHANGE=0]="NO_CHANGE",t[t.IN_TIME=1]="IN_TIME"}(t.eParameterChangeType||(t.eParameterChangeType={}));var i=t.eParameterChangeType,n=function(n){function o(s,a,r,h){n.call(this,s,null),this._maxParticles=o.MAX_PARTICELES,this.emitPoint=new Phaser.Point(0,0),this.area=new Phaser.Point(0,0),this.gravity=100,this.particleClass=t.SpriteParticle,this.particleBringToTop=!1,this.particleSendToBack=!1,this.frequency=100,this.minLifetime=1,this.maxLifetime=2,this.minParticleScale=1,this.maxParticleScale=1,this.scaleChange=0,this.scaleChangeType=i.NO_CHANGE,this.minParticleSpeed=new Phaser.Point(-100,-100),this.maxParticleSpeed=new Phaser.Point(100,100),this.particleFriction=0,this.minAngularSpeed=-360,this.maxAngularSpeed=360,this.angularDrag=0,this.minParticleAlpha=1,this.maxParticleAlpha=1,this.alphaChange=0,this.alphaChangeType=i.NO_CHANGE,this.forceEmit=!1,this._on=!1,this._mode=e.FLOW,this._flowQuantity=0,this._flowTotal=0,this._flowCounter=0,this._particlesPool=[],this._counterPool=0,this._particlesUsed=[],this._counterUsed=0,this._timer=0,this._frames=null,this._emitPoint=new Phaser.Point(0,0),this._minParticleScale=new Phaser.Point(1,1),this._maxParticleScale=new Phaser.Point(1,1),this.position.setTo(a,r),this._maxParticles=h}return __extends(o,n),o.prototype.update=function(){if(this._on&&this.game.time.time>=this._timer&&(this._timer=this.game.time.time+this.frequency*this.game.time.slowMotion,this._mode===e.FLOW))if(-1!==this._flowTotal&&this._flowCounter>=this._flowTotal)this.on=!1;else for(var t=Math.max(1,this._flowQuantity),i=0;t>i&&!(this.emitParticle(this.forceEmit)&&(this._flowCounter++,-1!==this._flowTotal&&this._flowCounter>=this._flowTotal));i++);for(var i=this._counterUsed-1;i>=0;i--){var n=this._particlesUsed[i];n.update()||(n.on=!1,n.remove(),n.onKill(this),this._particlesUsed[i]=this._particlesUsed[--this._counterUsed],this._particlesPool[this._counterPool++]=n)}},o.prototype.makeParticles=function(t,e,i){(void 0===i||i>this._maxParticles)&&(i=this._maxParticles),void 0!==e&&(this._frames=e);for(var n=0;i>n;n++){var o=new this.particleClass(this.game);o.textureKey=t,o.onCreate(this),o.on=!1,this._particlesPool[this._counterPool++]=o}},Object.defineProperty(o.prototype,"on",{set:function(t){this._on=t,this.exists=t,this.visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"lifetime",{set:function(t){this.minLifetime=this.maxLifetime=t},enumerable:!0,configurable:!0}),o.prototype.explode=function(t,i,n){this._mode=e.EXPLODE,this.on=!0,this.emitParticles(t,i,n)},o.prototype.flow=function(t,i,n,o,s,a){this._mode=e.FLOW,this.on=!0,(void 0===i||0===i)&&(i=1),void 0===n&&(n=-1),void 0===o&&(o=!0),i>this._maxParticles&&(i=this._maxParticles),this.frequency=t,this._flowCounter=0,this._flowQuantity=i,this._flowTotal=n,o&&(this.emitParticles(i,s,a),this._flowCounter+=i,this._timer=this.game.time.time+t*this.game.time.slowMotion)},o.prototype.killAllParticles=function(t){for(void 0===t&&(t=!0);this._counterUsed>0;){var e=this._particlesUsed[--this._counterUsed];e.remove(),t||e.onKill(this),this._particlesPool[this._counterPool++]=e}},o.prototype.emitParticles=function(t,e,i){for(var n=0;t>n;n++){var o=this.emitParticle(this.forceEmit);if(null===o)break;void 0!==e&&null!==e&&e.call(i,o)}},o.prototype.emitParticle=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),0===this._counterPool){if(!t)return null;var n=this._particlesUsed[0];this._particlesUsed[0]=this._particlesUsed[--this._counterUsed],n.remove(),n.onKill(this),this._particlesPool[this._counterPool++]=n}var o=this._particlesPool[--this._counterPool];if(this._particlesUsed[this._counterUsed++]=o,o.on=!0,this.randomEmitPoint(this._emitPoint),o.visual.position.set(this._emitPoint.x,this._emitPoint.y),o.visual.angle=0,e)o.lifetime=-1,o.visual.scale.set(1,1),o.setScaleChange(i.NO_CHANGE),o.alpha=1,o.setAlphaChange(i.NO_CHANGE),o.setPhysics();else{if(o.lifetime=this.game.rnd.realInRange(this.minLifetime,this.maxLifetime),1!==this.minParticleScale||1!==this.maxParticleScale){var s=this.game.rnd.realInRange(this.minParticleScale,this.maxParticleScale);o.visual.scale.set(s,s)}else this._minParticleScale.x!==this._maxParticleScale.x||this._minParticleScale.y!==this._maxParticleScale.y?o.visual.scale.set(this.game.rnd.realInRange(this._minParticleScale.x,this._maxParticleScale.x),this.game.rnd.realInRange(this._minParticleScale.y,this._maxParticleScale.y)):o.visual.scale.set(1,1);o.setScaleChange(this.scaleChangeType,this.scaleChange),o.alpha=this.game.rnd.realInRange(this.minParticleAlpha,this.maxParticleAlpha),o.setAlphaChange(this.alphaChangeType,this.alphaChange),o.setPhysics(this.game.rnd.realInRange(this.minParticleSpeed.x,this.maxParticleSpeed.x),this.game.rnd.realInRange(this.minParticleSpeed.y,this.maxParticleSpeed.y),this.game.rnd.realInRange(this.minAngularSpeed,this.maxAngularSpeed),this.particleFriction,this.angularDrag,this.gravity),null!==this._frames&&o.setFrame(this.randomFrame())}return o.onEmit(this),this.particleBringToTop?o.bringToTop():this.particleSendToBack&&o.sendToBack(),o},o.prototype.destroy=function(){t.ParticlesManager.instance.remove(this),n.prototype.destroy.call(this,!0,!1)},o.prototype.randomFrame=function(){var t=null;return null!==this._frames&&(t=Array.isArray(this._frames)?"string"==typeof this._frames[0]?this.game.rnd.pick(this._frames):this.game.rnd.pick(this._frames):this._frames),t},o.prototype.randomEmitPoint=function(t){return this.area instanceof Phaser.Point?t.setTo(0,0):this.area.random(t),t.x+=this.emitPoint.x,t.y+=this.emitPoint.y,t},o.prototype.setXSpeed=function(t,e){t=t||0,e=e||0,this.minParticleSpeed.x=t,this.maxParticleSpeed.x=e},o.prototype.setYSpeed=function(t,e){t=t||0,e=e||0,this.minParticleSpeed.y=t,this.maxParticleSpeed.y=e},o.prototype.setAngularSpeed=function(t,e){t=t||0,e=e||0,this.minAngularSpeed=t,this.maxAngularSpeed=e},o.prototype.setAlpha=function(t,e){void 0===t&&(t=1),void 0===e&&(e=1),this.minParticleAlpha=t,this.maxParticleAlpha=e},o.prototype.setAlphaChange=function(t,e,n){switch(void 0===e&&(e=0),void 0===n&&(n=0),this.alphaChangeType=t,t){case i.NO_CHANGE:this.alphaChange=0;break;case i.IN_TIME:0===n&&(n=1),this.alphaChange=e/n}},o.prototype.setScale=function(t,e,i,n){void 0===t&&(t=1),void 0===e&&(e=1),void 0===i&&(i=1),void 0===n&&(n=1),this._minParticleScale.setTo(t,i),this._maxParticleScale.setTo(e,n)},o.prototype.setScaleChange=function(t,e,n){switch(void 0===e&&(e=0),void 0===n&&(n=0),this.scaleChangeType=t,t){case i.NO_CHANGE:this.scaleChange=0;break;case i.IN_TIME:0===n&&(n=1),this.scaleChange=e/n}},o.prototype.emitAt=function(t,e){this.emitPoint.setTo(t,e)},o.prototype.emitAtObject=function(t){t.center?this.emitPoint.setTo(t.center.x,t.center.y):this.emitPoint.setTo(t.x,t.y)},o.MAX_PARTICELES=16,o}(Phaser.Group);t.ParticlesEmitter=n}(DotHop||(DotHop={}));var DotHop;!function(t){var e=function(){function t(){this._emitters=[],this._emittersCount=0}return Object.defineProperty(t,"instance",{get:function(){return null===t._instance&&(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.add=function(t){this._emitters[this._emittersCount++]=t},t.prototype.remove=function(t){for(var e=this._emittersCount-1;e>=0&&this._emitters[e]!==t;e--);-1!==e&&(this._emitters[e]=this._emitters[--this._emittersCount])},t.prototype.update=function(){for(var t=0;t<this._emittersCount;t++){var e=this._emitters[t];e.exists&&e.update()}},t._instance=null,t}();t.ParticlesManager=e}(DotHop||(DotHop={}));var DotHop;!function(t){var e=function(e){function i(){e.apply(this,arguments)}return __extends(i,e),i.prototype.setFrame=function(t){var e=this._visual;"string"==typeof t?e.frameName=t:e.frame=t},i.prototype.onCreate=function(e){var i=new Phaser.Sprite(this._game,0,0,this._textureKey);i.anchor.setTo(.5,.5),this._visual=i,this._parent=t.Scroller.instance},i.prototype.onEmit=function(t){this._parent.add(this._visual)},i}(t.Particle);t.SpriteParticle=e}(DotHop||(DotHop={}));var DotHop;!function(t){var e=function(t){function e(e){t.call(this,e,0,0,"Sprites"),this._isBonus=!1,this.anchor.set(.5,.5)}return __extends(e,t),Object.defineProperty(e.prototype,"isBonus",{get:function(){return this._isBonus},enumerable:!0,configurable:!0}),e.prototype.setDotFrame=function(t){this._isBonus=!1,this.frameName=t},e.prototype.setRandomBonus=function(){this._isBonus=!0;var t=this.game.rnd.integerInRange(0,e.BONUSES.length-1);this.frameName=e.BONUSES[t]},e.BONUSES=["Bonus1"],e}(Phaser.Sprite);t.Dot=e}(DotHop||(DotHop={}));var DotHop;!function(t){var e=function(){function e(){}return Object.defineProperty(e,"instance",{get:function(){return null===e._instance&&(e._instance=new t.Pool(t.Dot,30,function(){return new t.Dot(t.Global.game)})),e._instance},enumerable:!0,configurable:!0}),e._instance=null,e}();t.DotsPool=e}(DotHop||(DotHop={}));var DotHop;!function(t){var e=function(){function t(){}return t.FIRST_LINE_OFFSET=100,t.LINE_SPREAD=160,t.LINE_SPREAD_MULTIPLIER_MIN=1,t.LINE_SPREAD_MULTIPLIER_MAX=1.5,t.LINE_SPEED_MIN=80,t.LINE_SPEED_MAX=160,t.SCROLL_SPEED_MIN=150,t.SCROLL_SPEED_MAX=200,t.DOT_SPEED=7.35,t.DIFFICULTY_STEP=3,t.DIFFICULTY_COEF=.96,t.BONUS_PROBABILITY_PERCENT=3,t.PATTERNS=[[150],[70,200],[70,150,210,270]],t.COLORS_LIST=["blueDark","blueLight","green","pink","orange","white"],t.COLORS_TABLE={blueDark:"Dot_Blue1",blueLight:"Dot_Blue2",green:"Dot_Green2",pink:"Dot_Pink",orange:"Dot_Red",white:"Dot_White"},t.COLOR_LINES_COUNTER=4,t.COLOR_CHANGES={blueDark:["blueLight","green"],blueLight:["blueDark","white","green"],green:["blueLight","white","pink"],pink:["orange","white","green"],orange:["white","pink"],white:["blueLight","green","pink"]},t}();t.Gameplay=e}(DotHop||(DotHop={}));var DotHop;!function(t){var e=function(e){function i(t,i){void 0===i&&(i=null),e.call(this,t,i),this._dots=[],this._dotsCount=0,this._nextLine=null,this._line=new Phaser.Sprite(t,0,0,"Sprites","Line"),this._line.anchor.y=.5,this.add(this._line)}return __extends(i,e),Object.defineProperty(i.prototype,"nextLine",{get:function(){return this._nextLine},set:function(t){this._nextLine=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"speed",{get:function(){return this._speed},set:function(t){this._speed=t},enumerable:!0,configurable:!0}),i.prototype.clear=function(){for(var e=this._dotsCount-1;e>=0;e--){var i=this._dots[e];this.remove(i),t.DotsPool.instance.destroyItem(i)}this._dotsCount=0,this._nextLine=null,this._speed=0},i.prototype.init=function(t,e,i){this._originalSpeed=t,this._speed=t,this._dotsFrame=e,this._pattern=i,this._patternPosition=0,this.generateDots()},i.prototype.generateDots=function(){var t=this._speed>0,e=this.game.width+i.SCREEN_OFFSET,n=0-i.SCREEN_OFFSET,o=null;this._dotsCount>0&&(o=this._dots[this._dotsCount-1]),null===o&&(o=this.placeDot(t?e-i.SCREEN_OFFSET:0));for(var s=o.x;t&&s-this._pattern[this._patternPosition]>n||!t&&s+this._pattern[this._patternPosition]<e;){var a=this._pattern[this._patternPosition];s+=t?-a:a,o=this.placeDot(s),++this._patternPosition>=this._pattern.length&&(this._patternPosition=0)}},i.prototype.placeDot=function(e){var i=t.DotsPool.instance.createItem();return this.game.rnd.integerInRange(0,99)<t.Gameplay.BONUS_PROBABILITY_PERCENT?i.setRandomBonus():i.setDotFrame(this._dotsFrame),i.x=e,i.y=0,this._dots[this._dotsCount++]=i,i.parent!==this&&(this.add(i),this.bringToTop(i)),i},i.prototype.tick=function(e){this._speed=this._originalSpeed*e;for(var n=this._speed*this.game.time.physicsElapsed,o=0;o<this._dotsCount;o++){var s=this._dots[o];if(s.x+=n,s.isBonus){var a=s.x/70,r=a-Math.floor(a),h=Math.sin(2*Math.PI*r);s.y=h*i.BONUS_AMPLITUDE}}for(var l=this._speed>0,c=this.game.width+i.SCREEN_OFFSET,u=0-i.SCREEN_OFFSET;this._dotsCount>0&&(l&&this._dots[0].x>=c||!l&&this._dots[0].x<=u);){var s=this._dots[0];this.remove(s),t.DotsPool.instance.destroyItem(s),this.removeDotAtPosition(0)}this.generateDots()},i.prototype.removeDot=function(t){for(var e=0;e<this._dotsCount;e++)if(this._dots[e]===t)return void this.removeDotAtPosition(e)},i.prototype.removeDotAtPosition=function(t){for(var e=t+1;e<this._dotsCount;e++)this._dots[e-1]=this._dots[e];--this._dotsCount},i.prototype.collision=function(e,i){for(var n=this.game.cache.getFrameByName("Sprites",e.frameName),o=.97*n.width,s=o*o,a=e.x,r=e.y-this.y,h=this._dotsCount-1;h>=0;h--){var l=this._dots[h],c=l.x-a,u=l.y-r;if(s>c*c+u*u){if(!l.isBonus)return!0;i.addPoint(!0,l.x,this.y),this.remove(l),t.DotsPool.instance.destroyItem(l),this.removeDot(l),Utils.AudioUtils.playSound("Bonus")}}return!1},i.DOTS_MAX=16,i.SCREEN_OFFSET=200,i.BONUS_AMPLITUDE=5,i}(Phaser.Group);t.Line=e}(DotHop||(DotHop={}));var DotHop;!function(t){var e=function(){function e(){}return Object.defineProperty(e,"instance",{get:function(){return null===e._instance&&(e._instance=new t.Pool(t.Line,6,function(){return new t.Line(t.Global.game)})),e._instance},enumerable:!0,configurable:!0}),e._instance=null,e}();t.LinesPool=e}(DotHop||(DotHop={}));var DotHop;!function(t){var e=function(e){function i(t){e.call(this,t),this._jumping=!1,this.setDotFrame(i.PLAYER_COLOR),this.createTweens()}return __extends(i,e),i.prototype.createTweens=function(){this._landTween=this.game.add.tween(this.scale),this._landTween.to({y:1.5,x:.75},300,function(e){return t.Easing.sinWithExpDecay(e,2,2)},!1,0)},i.prototype.clear=function(){this._jumping=!1,this.scale.set(1,1),this.alpha=1},Object.defineProperty(i.prototype,"Line",{get:function(){return this._line},set:function(t){this._line=t},enumerable:!0,configurable:!0}),i.prototype.jumpToNextLine=function(t){if(!this._jumping){var e=this._line.nextLine;this._jumpFrom=this._line.position.y,this._jumpTo=e.position.y,this._jumpTime=(this._jumpTo-this._jumpFrom)/t,this._jumpTimeCurrent=0,this._jumping=!0,this._line=e,Utils.AudioUtils.playSound("Jump")}},i.prototype.tick=function(t){if(this._jumping){this._jumpTimeCurrent+=this.game.time.physicsElapsed;var e=Phaser.Math.clamp(this._jumpTimeCurrent/this._jumpTime,0,1);this.position.y=Phaser.Math.linear(this._jumpFrom,this._jumpTo,e),this._jumpTimeCurrent>=this._jumpTime&&(this._jumping=!1,this.playLandingTween(),t.addPoint(!1))}else this.position.x+=this._line.speed*this.game.time.physicsElapsed},i.prototype.outOfScreen=function(t){var e=this.position.x-this.game.width/2,i=this.position.y+t;return e<-this.game.width/2||e>this.game.width/2||i<-this.game.height/2||i>this.game.height/2},i.prototype.collision=function(t){var e=this._line.collision(this,t);return e&&this.stopLandingTween(),e},i.prototype.playLandingTween=function(){this.stopLandingTween(),this.scale.set(1,1),this._landTween.start()},i.prototype.stopLandingTween=function(){this._landTween.isRunning&&this._landTween.stopAndRemoveFromUpdateQueue()},i.PLAYER_COLOR="Dot_Green1",i}(t.Dot);t.PlayerDot=e}(DotHop||(DotHop={}));var DotHop;!function(t){var e=function(){function t(t,e,i){void 0===i&&(i=null),this._newFunction=null,this._count=0,this._pool=[],this._canGrow=!0,this._maxPoolSize=0,this._classType=t,this._newFunction=i;for(var n=0;e>n;n++){var o=this.newItem();this._pool[this._count++]=o}}return t.prototype.createItem=function(){return 0===this._count?this._canGrow?this.newItem():null:this._pool[--this._count]},t.prototype.destroyItem=function(t){this._pool[this._count++]=t},Object.defineProperty(t.prototype,"newFunction",{set:function(t){this._newFunction=t},enumerable:!0,configurable:!0}),t.prototype.newItem=function(){return null!==this._newFunction?this._newFunction():new this._classType},Object.defineProperty(t.prototype,"canGrow",{set:function(t){this._canGrow=t},enumerable:!0,configurable:!0}),t}();t.Pool=e}(DotHop||(DotHop={}));var DotHop;!function(t){var e=function(e){function i(n){e.call(this,n),this._lineOffset=0,this._lines=[],this._linesCount=0,this._firstLineDirection=1,i._scroller=this;t.LinesPool.instance}return __extends(i,e),Object.defineProperty(i,"instance",{get:function(){return i._scroller},enumerable:!0,configurable:!0}),i.prototype.reset=function(){this.lineOffset=0;for(var e=this._linesCount-1;e>=0;e--){var n=this._lines[e];n.clear(),t.LinesPool.instance.destroyItem(n),n.y=-i.TOP_OFFSCREEN_OFFSET}this._linesCount=0,this._firstLine=!0,this._firstLineDirection=this.game.rnd.integerInRange(0,99)<50?-1:1,this._colorLinesCounter=0,this._currentColor=t.Gameplay.COLORS_LIST[this.game.rnd.integerInRange(0,t.Gameplay.COLORS_LIST.length-1)]},Object.defineProperty(i.prototype,"lineOffset",{get:function(){return this._lineOffset},set:function(t){this._lineOffset=t},enumerable:!0,configurable:!0}),i.prototype.generateLines=function(){var e=-(this.position.y+this.game.height/2),n=e+this.game.height;for(n+=i.BOTTOM_OFFSCREEN_OFFSET;this._lineOffset<n;){var o=t.LinesPool.instance.createItem();if(o.parent!==this&&(this.add(o),this.sendToBack(o)),o.position.y=this._lineOffset,o.nextLine=null,this._firstLine)o.speed=0,this._firstLine=!1;else{var s=this.game.rnd,a=s.integerInRange(t.Gameplay.LINE_SPEED_MIN,t.Gameplay.LINE_SPEED_MAX)*this._firstLineDirection,r=this.getColorFrame(),h=t.Gameplay.PATTERNS[s.integerInRange(0,t.Gameplay.PATTERNS.length-1)];o.init(a,r,h),this._firstLineDirection*=-1}this._linesCount>0&&(this._lines[this._linesCount-1].nextLine=o),this._lines[this._linesCount++]=o;var l=Math.floor(this.game.rnd.realInRange(t.Gameplay.LINE_SPREAD_MULTIPLIER_MIN,t.Gameplay.LINE_SPREAD_MULTIPLIER_MAX)*t.Gameplay.LINE_SPREAD);this._lineOffset+=l}},i.prototype.removeOldLines=function(){if(0!==this._linesCount){var e=-(this.position.y+this.game.height/2);for(e-=i.TOP_OFFSCREEN_OFFSET;this._lines[0].y<e;){var n=this._lines[0];n.clear(),t.LinesPool.instance.destroyItem(n),n.y=-i.TOP_OFFSCREEN_OFFSET,this.shiftLinesArray()}}},i.prototype.shiftLinesArray=function(){for(var t=1;t<this._linesCount;t++)this._lines[t-1]=this._lines[t];--this._linesCount},i.prototype.tick=function(t){for(var e=0;e<this._linesCount;e++){var i=this._lines[e];0!==i.speed&&i.tick(t)}},i.prototype.placePlayerDot=function(t){t.parent!==this&&this.add(t);var e=this._lines[0];t.Line=e,t.position.set(this.game.width/2,e.position.y)},i.prototype.getColorFrame=function(){if(this._colorLinesCounter<=0){this._colorLinesCounter=t.Gameplay.COLOR_LINES_COUNTER;var e=t.Gameplay.COLOR_CHANGES[this._currentColor];this._currentColor=e[this.game.rnd.integerInRange(0,e.length-1)]}return--this._colorLinesCounter,t.Gameplay.COLORS_TABLE[this._currentColor]},i.TOP_OFFSCREEN_OFFSET=80,i.BOTTOM_OFFSCREEN_OFFSET=240,i._scroller=null,i}(Phaser.Group);t.Scroller=e}(DotHop||(DotHop={}));var DotHop;!function(t){var e=function(t){
function e(){t.call(this),this._ignoreNextResize=!1}return __extends(e,t),e.prototype.init=function(){this.input.maxPointers=1,this.stage.disableVisibilityChange=!0;var t=Utils.ScreenUtils.screenMetrics;this.game.device.desktop?(this.scale.scaleMode=Phaser.ScaleManager.USER_SCALE,this.scale.setMinMax(.25*this.game.width,.25*this.game.height,2.5*this.game.width,2.5*this.game.height),this.scale.setUserScale(t.scaleX,t.scaleY),this.scale.pageAlignHorizontally=!0,this.scale.pageAlignVertically=!0,this.scale.setResizeCallback(this.gameResized,this)):(this.scale.scaleMode=Phaser.ScaleManager.USER_SCALE,this.scale.setUserScale(t.scaleX,t.scaleY),this.scale.pageAlignHorizontally=!0,this.scale.pageAlignVertically=!0,this.scale.forceOrientation(!0,!1),this.scale.setResizeCallback(this.gameResized,this),this.scale.onOrientationChange.add(this.orientationChange,this)),this.orientationChange(this.scale,"",!0)},e.prototype.create=function(){this.game.state.start("Preloader",!0,!1)},e.prototype.gameResized=function(t,e){},e.prototype.orientationChange=function(t,e,i){},e}(Phaser.State);t.Boot=e}(DotHop||(DotHop={}));var DotHop;!function(t){var e=function(t){function e(){t.call(this)}return __extends(e,t),e.prototype.create=function(){var t=this.add.image(0,0,"Bg");t.anchor.setTo(.5,.5);var e=this.add.button(0,0,"Sprites",function(){this.game.state.start("Play",!0,!1)},this,"Play","Play","Play","Play",this.world);e.anchor.setTo(.5,.5)},e}(Phaser.State);t.Menu=e}(DotHop||(DotHop={}));var DotHop;!function(t){var e=function(e){function i(){e.call(this),this._moving=!1,this._gameOver=!1,this._paused=!1,this._runFromRestart=!1}return __extends(i,e),Object.defineProperty(i.prototype,"scrollSpeed",{get:function(){return this._scrollSpeed},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scrollSpeedCoef",{get:function(){return this._scrollSpeed/t.Gameplay.SCROLL_SPEED_MIN},enumerable:!0,configurable:!0}),i.prototype.create=function(){var e=this.game.cache.getFrameData("Bg");e.addFrame(new Phaser.Frame(1,0,0,0,0,"bottom")),this._topFrame=e.getFrame(0),this._bottomFrame=e.getFrame(1),this._topBg=this.game.make.sprite(0,0,"Bg"),this._bottomBG=this.game.make.sprite(0,0,"Bg"),this.world.add(this._topBg),this.world.add(this._bottomBG),this._scroller=new t.Scroller(this.game),this.world.add(this._scroller),this._player=new t.PlayerDot(this.game),this._particlesEmitter=new t.ParticlesEmitter(this.game,0,0,i.PARTICLES_MAX),this._particlesEmitter.lifetime=.7,this._particlesEmitter.gravity=0,this._particlesEmitter.setXSpeed(0,0),this._particlesEmitter.setYSpeed(-300,-300),this._particlesEmitter.setAngularSpeed(0,0),this._particlesEmitter.particleFriction=4,this._particlesEmitter.makeParticles("Sprites","BonusPts",i.PARTICLES_MAX),this.world.add(this._particlesEmitter),t.Global.GAMEE?this._paused=!0:this.game.input.onDown.add(this.onTouch,this),this.reset()},i.prototype.onGameePause=function(){this._paused=!0,this.game.paused=!0},i.prototype.onGameeUnpause=function(){this._paused=!1,this.game.paused=!1},i.prototype.onGameeRestart=function(){t.Global.game.paused=!1,this._paused=!1,this.reset(),Gamee.Gamee.instance.gameStart(),Utils.AudioUtils.playSound("Start")},i.prototype.onGameeButtonDown=function(t){var e=Gamee.Gamee.instance;e.gameRunning?this.onTouch(null,null):this._runFromRestart||(e.gameStart(),Utils.AudioUtils.playSound("Start"),this._paused=!1)},i.prototype.reset=function(){this._scroller.reset(),this._scroller.position.set(-this.game.width/2,-this.game.height/2),this._scroller.lineOffset=t.Gameplay.FIRST_LINE_OFFSET,this._scroller.generateLines(),this._scrollerY=0,this.moveBg(),this._scroller.placePlayerDot(this._player),this._player.clear(),this._moving=!1,this._gameOver=!1,this._particlesEmitter.killAllParticles(),this._gameTime=0,this._lastTimeStep=0,this._scrollSpeed=t.Gameplay.SCROLL_SPEED_MIN,this._score=0,t.Global.GAMEE&&(Gamee.Gamee.instance.score=0)},i.prototype.update=function(){t.Global.GAMEE&&this._paused||(this._moving&&(this._scrollerY-=this._scrollSpeed*this.time.physicsElapsed,this.moveLines(),this.moveBg(),this.adjustDifficulty()),this._gameOver||(this._scroller.tick(this.scrollSpeedCoef),this._player.tick(this),(this._player.outOfScreen(this._scroller.y)||this._player.collision(this))&&(this._moving=!1,this._gameOver=!0,Utils.AudioUtils.playSound("Explosion"),this.game.add.tween(this._player.scale).to({x:2,y:2},500,Phaser.Easing.Bounce.In,!0),this.game.add.tween(this._player).to({alpha:0},500,Phaser.Easing.Bounce.In,!0),this.game.time.events.add(1e3,function(){t.Global.GAMEE?(this._runFromRestart=!0,Gamee.Gamee.instance.gameOver()):this.reset()},this))))},i.prototype.adjustDifficulty=function(){this._gameTime+=this.game.time.physicsElapsed;var e=Math.floor(this._gameTime/t.Gameplay.DIFFICULTY_STEP);if(e>this._lastTimeStep){this._lastTimeStep=e;var i=1-Math.pow(t.Gameplay.DIFFICULTY_COEF,e);this._scrollSpeed=Math.floor(t.Gameplay.SCROLL_SPEED_MIN+(t.Gameplay.SCROLL_SPEED_MAX-t.Gameplay.SCROLL_SPEED_MIN)*i)}},i.prototype.moveLines=function(){this._scroller.y=Math.floor(this._scrollerY)-this.game.height/2,this._scroller.removeOldLines(),this._scroller.generateLines()},i.prototype.moveBg=function(){var t=this.game.cache.getImage("Bg").height,e=Math.floor(.75*-this._scrollerY%t),i=Math.min(t-e,this.game.height),n=this._topFrame;n.x=0,n.y=e,n.width=this.game.width,n.height=i,this._topBg.setFrame(n),this._topBg.position.set(-this.game.width/2,-this.game.height/2),n=this._bottomFrame,n.x=0,n.y=(e+i)%t,n.width=this.game.width,n.height=this.game.height-i,this._bottomBG.setFrame(n),this._bottomBG.position.set(-this.game.width/2,i-this.game.height/2)},i.prototype.onTouch=function(e,i){this._gameOver||(this._moving||(this._moving=!0),this._player.jumpToNextLine(this.scrollSpeed*t.Gameplay.DOT_SPEED))},i.prototype.addPoint=function(e,i,n){void 0===i&&(i=0),void 0===n&&(n=0),e&&(this._particlesEmitter.emitAt(i,n-32),this._particlesEmitter.emitParticle(!0,!1)),++this._score,t.Global.GAMEE&&(Gamee.Gamee.instance.score=this._score)},i.prototype.shutdown=function(){},i.PARTICLES_MAX=4,i}(Phaser.State);t.Play=e}(DotHop||(DotHop={}));var DotHop;!function(t){var e=function(e){function i(){e.call(this),this._ready=!1}return __extends(i,e),i.prototype.preload=function(){var t="assets/";this.load.audio("SFX",["assets/sfx.ogg","assets/sfx.m4a"]),this.load.image("Bg",t+"Bg.jpg"),this.load.atlas("Sprites",t+"Sprites.png",t+"Sprites.json"),this.load.json("Config",t+"config.json")},i.prototype.loadUpdate=function(){this.setLoadingText(this.load.progress)},i.prototype.create=function(){this.readConfig();var t=this.add.audio("SFX");Utils.AudioUtils.setSounds(t),t.allowMultiple=!0;var e=0;this.game.device.ie&&this.game.device.ieVersion<=10?e=.02:this.game.device.iOS&&(e=.1),t.addMarker("Start",0,1.5783),t.addMarker("Bonus",3-e,.8789+e),t.addMarker("Explosion",5-e,.76057+e),t.addMarker("Jump",7-e,.3516+e)},i.prototype.readConfig=function(){var e=this.game.cache.getJSON("Config");void 0!==e.firstLineOffset&&(t.Gameplay.FIRST_LINE_OFFSET=e.firstLineOffset),void 0!==e.lineSpread&&(t.Gameplay.LINE_SPREAD=e.lineSpread),void 0!==e.lineSpreadMultiplierMin&&(t.Gameplay.LINE_SPREAD_MULTIPLIER_MIN=e.lineSpreadMultiplierMin),void 0!==e.lineSpreadMultiplierMax&&(t.Gameplay.LINE_SPREAD_MULTIPLIER_MAX=e.lineSpreadMultiplierMax),void 0!==e.lineSpeedMin&&(t.Gameplay.LINE_SPEED_MIN=e.lineSpeedMin),void 0!==e.lineSpeedMax&&(t.Gameplay.LINE_SPEED_MAX=e.lineSpeedMax),void 0!==e.scrollSpeedMin&&(t.Gameplay.SCROLL_SPEED_MIN=e.scrollSpeedMin),void 0!==e.scrollSpeedMax&&(t.Gameplay.SCROLL_SPEED_MAX=e.scrollSpeedMax),void 0!==e.dotSpeed&&(t.Gameplay.DOT_SPEED=e.dotSpeed),void 0!==e.difficultyCoef&&(t.Gameplay.DIFFICULTY_COEF=e.difficultyCoef),void 0!==e.difficultyStep&&(t.Gameplay.DIFFICULTY_STEP=e.difficultyStep),void 0!==e.patterns&&(t.Gameplay.PATTERNS=e.patterns),void 0!==e.colorLinesCounter&&(t.Gameplay.COLOR_LINES_COUNTER=e.colorLinesCounter),void 0!==e.colorChanges&&(t.Gameplay.COLOR_CHANGES=e.colorChanges),void 0!==e.bonusProbabilityPercent&&(t.Gameplay.BONUS_PROBABILITY_PERCENT=e.bonusProbabilityPercent)},i.prototype.update=function(){this._ready===!1&&(this._ready=!0,this.world.setBounds(-320,-320,320,320),this.camera.focusOnXY(0,0),t.Global.GAMEE?this.game.state.start("Play"):this.game.state.start("Menu"))},i.prototype.setLoadingText=function(t){},i}(Phaser.State);t.Preloader=e}(DotHop||(DotHop={}));var Utils;!function(t){var e=function(){function t(){}return t.setSounds=function(e){t._sfx=e},t.playSound=function(e){DotHop.Global.soundOn&&null!==t._sfx&&t._sfx.play(e)},t.addMusic=function(e,i){t._music[e]=i},t.playMusic=function(e,i){if(void 0===i&&(i=!0),t._currentMusic!==e&&(null!==t._currentMusic&&t._currentMusic.length>0&&t.stopMusic(),e in t._music&&DotHop.Global.musicOn)){t._currentMusic=e;var n=t._music[e];n.loop=i,n.play()}},t.stopMusic=function(){null!==t._currentMusic&&t._currentMusic.length>0&&(t._music[t._currentMusic].stop(),t._currentMusic="")},t.pauseMusic=function(){null!==t._currentMusic&&t._currentMusic.length>0&&t._music[t._currentMusic].pause()},t.resumeMusic=function(){null!==t._currentMusic&&t._currentMusic.length>0&&t._music[t._currentMusic].resume()},t._sfx=null,t._music={},t._currentMusic="",t}();t.AudioUtils=e}(Utils||(Utils={}));var Utils;!function(t){var e=function(){function t(){}return t.supported=function(){var t=DotHop.Global.game;return t.scale.compatibility.supportsFullScreen},t.isFullscreen=function(){return DotHop.Global.game.scale.isFullScreen},t.changeFullscreen=function(){var e=DotHop.Global.game;t._fullscreen?e.scale.stopFullScreen():e.scale.startFullScreen(!1,!1)},t.onEnterFullscreen=function(){t._fullscreen=!0,null!==t._listener&&t._listener.call(t._listenerContext,!0)},t.onLeaveFullscreen=function(){t._fullscreen=!1,null!==t._listener&&t._listener.call(t._listenerContext,!1)},t.setListener=function(e,i){t._listener=e,t._listenerContext=i},t.removeListener=function(){t._listener=null,t._listenerContext=null},t._fullscreen=!1,t._listener=null,t._listenerContext=null,t}();t.FullscreenUtils=e}(Utils||(Utils={}));var Utils;!function(t){var e=function(){function t(){}return t.ChangeAnimationPhaserJSONData=function(t){Phaser.AnimationParser.myCallback=t,Phaser.AnimationParser.JSONData=function(t,e){if(e.frames){for(var i=new Phaser.FrameData,n=e.frames,o=0;o<n.length;o++){var s=i.addFrame(new Phaser.Frame(o,n[o].frame.x,n[o].frame.y,n[o].frame.w,n[o].frame.h,n[o].filename));n[o].trimmed&&s.setTrim(n[o].trimmed,n[o].sourceSize.w,n[o].sourceSize.h,n[o].spriteSourceSize.x,n[o].spriteSourceSize.y,n[o].spriteSourceSize.w,n[o].spriteSourceSize.h),Phaser.AnimationParser.myCallback(s,n[o])}return i}}},t.AdjustTweenFunctions=function(){Phaser.TweenManager.prototype.removeFromUpdateQueue=function(t){var e=this._tweens.indexOf(t);-1!==e?this._tweens.splice(e,1):(e=this._add.indexOf(t),-1!==e&&this._add.splice(e,1))},Phaser.Tween.prototype.stopAndRemoveFromUpdateQueue=function(t){var e=this,i=e.stop(t);return e.manager.removeFromUpdateQueue(e),e.pendingDelete=!1,i}},t}();t.PhaserUtils=e}(Utils||(Utils={}));var Utils;!function(t){var e=function(){function t(){}return t}();t.ScreenMetrics=e,function(t){t[t.PORTRAIT=0]="PORTRAIT",t[t.LANDSCAPE=1]="LANDSCAPE"}(t.Orientation||(t.Orientation={}));var i=t.Orientation,n=function(){function t(){}return t.calculateScreenMetrics=function(t,n,o,s,a){void 0===o&&(o=i.LANDSCAPE);var r,h;r=window.innerWidth,h=window.innerHeight,r=Math.min(r,1.5*t),h=Math.min(h,1.5*n),("undefined"==typeof s||"undefined"==typeof a)&&(o===i.LANDSCAPE?(s=Math.round(640*t/640),a=Math.round(640*n/640)):(s=Math.round(640*t/640),a=Math.round(640*n/640)));var l=(o===i.LANDSCAPE,1),c=r/h,u=0,p=0,_=0,m=0;c>l?(m=n,_=2*Math.ceil(m*c/2),_=Math.min(_,s),u=(_-t)/2,p=0):(_=t,m=2*Math.ceil(_/c/2),m=Math.min(m,a),u=0,p=(m-n)/2);var f=r/_,g=h/m;return this.screenMetrics=new e,this.screenMetrics.windowWidth=r,this.screenMetrics.windowHeight=h,this.screenMetrics.defaultGameWidth=t,this.screenMetrics.defaultGameHeight=n,this.screenMetrics.maxGameWidth=s,this.screenMetrics.maxGameHeight=a,this.screenMetrics.gameWidth=_,this.screenMetrics.gameHeight=m,this.screenMetrics.scaleX=f,this.screenMetrics.scaleY=g,this.screenMetrics.offsetX=u,this.screenMetrics.offsetY=p,this.screenMetrics},t}();t.ScreenUtils=n}(Utils||(Utils={}));var Utils;!function(t){var e=function(){function t(){}return t}(),i=function(){function t(){}return t.save=function(){if(t.localStorageSupported()){var i=new e;i.musicOn=DotHop.Global.musicOn,i.soundOn=DotHop.Global.soundOn,i.currentLanguage=DotHop.Global.currentLanguage;var n=JSON.stringify(i);localStorage.setItem("dothop_save",n)}},t.load=function(){if(t.localStorageSupported()){var e=JSON.parse(localStorage.getItem("dothop_save"));return null===e||void 0===e?!1:(DotHop.Global.musicOn=e.musicOn,DotHop.Global.soundOn=e.soundOn,DotHop.Global.currentLanguage=e.currentLanguage,!0)}},t.localStorageSupported=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}},t}();t.StorageUtils=i}(Utils||(Utils={}));var Utils;!function(t){var e=function(){function t(){}return t.padNumber=function(t,e,i){void 0===i&&(i="0");var n=t+"";return n.length>=e?n:new Array(e-n.length+1).join(i)+n},t}();t.StringUtils=e}(Utils||(Utils={}));var Utils;!function(t){var e=function(){function t(){}return t.isAndroidStockBrowser=function(){var t=navigator.userAgent,e=/Android/.test(t),i=/Chrome/.test(t);return e&&!i},t}();t.SystemUtils=e}(Utils||(Utils={}));var Utils;!function(t){var e=function(){function t(){}return t.setTexts=function(e){t._texts=e},t.getText=function(e){if(null===t._texts)return"Texts not set";var i=t._texts;if(void 0===i[e])return"";var n=i[e][DotHop.Global.currentLanguage];return void 0===n&&(DotHop.Global.currentLanguage="en",n=i[e][DotHop.Global.currentLanguage]),n},t.game=null,t._texts=null,t}();t.TextUtils=e}(Utils||(Utils={}));
