var Gamee;!function(t){var e=function(){function t(e,i,s,a){this._game=null,this._controller=null,this._saveState=null,this._replayData=null,this._socialData=null,this._indices={right:1,up:2,left:4,down:8,A:16,B:32,button:64},this._pressesCache=0,this._isDown=0,this._justDown=0,this._justUp=0,this._gameRunning=!1,this._score=0,this._ghostScore=0,this._gameReady=!1,this._gameReady=!1,void 0!==window.gamee&&(this.setEventHandlers(),window.gamee.gameInit("OneButton",{},s,function(t,e){this.initResponse(t,e),a()}.bind(this))),t._instance=this}return Object.defineProperty(t,"instance",{get:function(){return null===t._instance,t._instance},enumerable:!0,configurable:!0}),t.prototype.initResponse=function(t,e){var i=e.sound;"undefined"==typeof i&&(i=!0),this._controller=e.controller,this._sound=i,null!=e.saveState&&0!==e.saveState.length&&(this._saveState=JSON.parse(e.saveState)),null!=e.replayData&&null!=e.replayData.data&&0!==e.replayData.data.length&&(this._replayData=JSON.parse(e.replayData.data)),null!=e.socialData&&0!==e.socialData.length&&(this._socialData=JSON.parse(e.socialData)),this.setKeyHandlers()},t.prototype.setGame=function(t){this._game=t},Object.defineProperty(t.prototype,"gameRunning",{get:function(){return this._gameRunning},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sound",{get:function(){return this._sound},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"replayData",{get:function(){return this._replayData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"saveState",{get:function(){return this._saveState},enumerable:!0,configurable:!0}),t.prototype.gameReady=function(){window.gamee.gameReady(),this._gameReady=!0},t.prototype.setKeyHandlers=function(){var t=this;this._controller.on("keydown",function(e){t._pressesCache|=t._indices[e.button];var i=t._game.state.getCurrentState();"function"==typeof i.onGameeButtonDown&&i.onGameeButtonDown(e.button)}),this._controller.on("keyup",function(e){t._pressesCache&=~t._indices[e.button];var i=t._game.state.getCurrentState();"function"==typeof i.onGameeButtonUp&&i.onGameeButtonUp(e.button)})},t.prototype.setEventHandlers=function(){var t=this;window.gamee.emitter.addEventListener("pause",function(){t.onPause()}),window.gamee.emitter.addEventListener("resume",function(){t.onUnpause()}),window.gamee.emitter.addEventListener("mute",function(){t._game.onSound(!1)}),window.gamee.emitter.addEventListener("unmute",function(){t._game.onSound(!0)}),window.gamee.emitter.addEventListener("start",function(e){t.onStart(e)})},t.prototype.onPause=function(){var t=this._game.state.getCurrentState();"function"==typeof t.onGameePause&&t.onGameePause()},t.prototype.onUnpause=function(){var t=this._game.state.getCurrentState();"function"==typeof t.onGameeUnpause&&t.onGameeUnpause()},t.prototype.onStart=function(t){if(!this._gameReady)throw new Error("Game received 'start' event before gameReady() was called!");this.gameStart();var e=this._game.state.getCurrentState();if("function"==typeof e.onGameeRestart){var i="undefined"==typeof t.detail.opt_resetState?!1:t.detail.opt_resetState,s="undefined"==typeof t.detail.opt_replay?!1:t.detail.opt_replay,a="undefined"==typeof t.detail.opt_ghostMode?!1:t.detail.opt_ghostMode;e.onGameeRestart(i,s,a)}t.detail.callback()},Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),t.prototype.setScore=function(t,e){void 0===e&&(e=!1),e?(this._ghostScore=t,window.gamee.updateScore(t,!0)):(this._score=t,window.gamee.updateScore(t))},t.prototype.gameStart=function(){this._gameRunning,this._gameRunning=!0},t.prototype.gameOver=function(t){!this._gameRunning,this._gameRunning=!1,null!=typeof t&&(t={data:JSON.stringify(t)}),window.gamee.gameOver(t)},t.prototype.gameSave=function(t,e,i){window.gamee.gameSave(t,e,i)},t._instance=null,t}();t.Gamee=e}(Gamee||(Gamee={}));var FootballStar;!function(t){var e=function(){function t(){}return t.FACEBOOK=!1,t.GAMEE=!0,t.FB_TEST=!t.FACEBOOK&&!t.GAMEE,t.RESET_SAVEBUTTON=!1,t.game=null,t.paralax=!0,t.GAME_WIDTH=640,t.GAME_HEIGHT=640,t.MAX_GAME_WIDTH=640,t.MAX_GAME_HEIGHT=640,t.scaleX=1,t.scaleY=1,t.correctOrientation=!1,t.musicOn=!0,t.soundOn=!0,t.showLanguages=!1,t.supportedLanguages=["en"],t.currentLanguage="en",t.playerStats=null,t}();t.Global=e}(FootballStar||(FootballStar={})),FootballStar.Global.FACEBOOK?window.FBInstant.initializeAsync().then(function(){window.FBInstant.player.getDataAsync(["saveData"]).then(function(t){null===t.saveData||"undefined"==typeof t.saveData?FootballStar.Global.playerStats=FBUI.Stats.createEmptyStats():(FootballStar.Global.playerStats=t.saveData,FBUI.Stats.adjustLoadedData());var e=new FootballStar.Game;FootballStar.Global.game=e})}):FootballStar.Global.GAMEE?window.onload=function(){var t=new Gamee.Gamee("OneButton",{},["saveState"],function(){FootballStar.Global.playerStats=Gamee.Gamee.instance.saveState,null===FootballStar.Global.playerStats&&(FootballStar.Global.playerStats=FBUI.Stats.createEmptyStats()),FBUI.Stats.adjustLoadedData();var e=new FootballStar.Game;FootballStar.Global.game=e,t.setGame(e)})}:window.onload=function(){Utils.StorageUtils.load(),null===FootballStar.Global.playerStats&&(FootballStar.Global.playerStats=FBUI.Stats.createEmptyStats()),FBUI.Stats.adjustLoadedData();var t=new FootballStar.Game;FootballStar.Global.game=t};var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},FootballStar;!function(t){var e=function(e){function i(){var s=(window.innerWidth,window.innerHeight,Phaser.AUTO),a=navigator.userAgent.toLowerCase(),n=/ip[ao]d|iphone/i.test(a);t.Global.FACEBOOK&&n&&(s=Phaser.CANVAS),e.call(this,{width:t.Global.GAME_WIDTH,height:t.Global.GAME_HEIGHT,renderer:s,parent:"content",transparent:!1,antialias:!0,physicsConfig:null,preserveDrawingBuffer:!0}),i.game=this,Utils.PhaserUtils.ChangeAnimationPhaserJSONData(this.additionalFrameProperties),Utils.PhaserUtils.AdjustTweenFunctions(),Utils.PhaserUtils.AddBitmapFontAddMethod(),this.state.add("Boot",t.Boot),this.state.add("Preloader",t.Preloader),this.state.add("Play",t.Play),this.state.add("Test",t.Play),this.state.start("Boot")}return __extends(i,e),i.prototype.onSound=function(e){this.sound.mute=!e,t.Global.soundOn=e,t.Global.musicOn=e,e?Utils.AudioUtils.playMusic("Music"):Utils.AudioUtils.stopMusic()},i.prototype.additionalFrameProperties=function(t,e){e.anchor&&(t.anchorX=e.anchor.w,t.anchorY=e.anchor.h),e.nextitem&&(t.nextItemX=e.nextitem.w,t.nextItemY=e.nextitem.h)},i.version="v10",i}(Phaser.Game);t.Game=e}(FootballStar||(FootballStar={}));var Helper;!function(t){var e=function(){function t(){}return t.randomizeArray=function(t,e,i,s){void 0===i&&(i=!1),void 0===s&&(s=!1);var a=i?e.slice():e;return Phaser.ArrayUtils.shuffle(a),s?a.slice(0,t):a},t.sort=function(e,i,s,a){if(void 0===s&&(s=0),void 0===a&&(a=e.length),a>s){for(var n,o=s,r=s+1;a>=r;r++)i(e[s],e[r])>0&&(n=e[++o],e[o]=e[r],e[r]=n);n=e[s],e[s]=e[o],e[o]=n,t.sort(e,i,s,o-1),t.sort(e,i,o+1,a)}},t}();t.ArrayUtils=e}(Helper||(Helper={}));var Helper;!function(t){var e;!function(t){function e(t,e,i){var s=t*Math.PI*2*e,a=t*(2*Math.PI*i+Math.PI/2);return Math.sin(s)*Math.cos(a)}function i(t,e,i){var s=t*Math.PI*2*e,a=-t*i;return Math.sin(s)*Math.exp(a)}function s(t){return t=t/2+.5,-2*t*t+3*t}function a(t){return-(s(1-t)-1)}function n(t){return Math.sin(2*t*Math.PI)}function o(t){return Math.sin(t*(Math.PI-Math.PI/3)+Math.PI/3)}function r(t,e){return Math.sin(2*t*Math.PI*e)}function h(t){return t=Math.sin(t*Math.PI/2),-1.8633*t*t+2.8633*t}function l(t){return-(-1.8633*t*t+.8633*t)}t.wiggle=e,t.sinWithExpDecay=i,t.pop5=s,t.pop5rev=a,t.sin=n,t.halfSin=o,t.sinWithPeriod=r,t.parabolicOvershoot10In=h,t.parabolicOvershoot10Out=l}(e=t.Easing||(t.Easing={}))}(Helper||(Helper={}));var Helper;!function(t){var e=function(){function t(){}return t.create=function(e,i,s,a,n,o,r,h,l,c){return void 0===o&&(o=0),void 0===r&&(r=0),void 0===h&&(h=0),void 0===l&&(l=0),void 0===c&&(c=!1),t._image=new Phaser.Image(e,0,0,a),"string"==typeof n?t._frame=e.cache.getFrameByName(a,n):t._frame=e.cache.getFrameByIndex(a,n),t.calculateNineImage(i,s,o,r,h,l,c),t._nineImage=new Phaser.BitmapData(e,"NineImage"+t._textureKey++,t._width,t._height),t.renderNineImage(),t._nineImage},t.calculateNineImage=function(e,i,s,a,n,o,r){var h=t._frame;if(t._centralWidth=h.width-a-o,t._centralHeight=h.height-s-n,r)t._horizontalRepeats=e,t._verticalRepeats=i,t._width=a+o+t._centralWidth*e,t._height=s+n+t._centralHeight*i,t._lastWidth=0,t._lastHeight=0;else{var l=e-a-o;t._horizontalRepeats=Math.floor(l/t._centralWidth),t._lastWidth=l%t._centralWidth;var c=i-s-n;t._verticalRepeats=Math.floor(c/t._centralHeight),t._lastHeight=c%t._centralHeight,t._width=e,t._height=i}t._leftWidth=a,t._rightWidth=o,t._topHeight=s,t._bottomHeight=n},t.renderNineImage=function(){var e=t._frame.y,i=0;t._topHeight>0&&(t.renderNineImageRow(t._image,e,i,t._topHeight),e+=t._topHeight,i+=t._topHeight);for(var s=0;s<t._verticalRepeats;s++)t.renderNineImageRow(t._image,e,i,t._centralHeight),i+=t._centralHeight;t._lastHeight>0&&(t.renderNineImageRow(t._image,e,i,t._lastHeight),i+=t._lastHeight),e+=t._centralHeight,t._bottomHeight>0&&t.renderNineImageRow(t._image,e,i,t._bottomHeight)},t.renderNineImageRow=function(e,i,s,a){var n=t._frame.x,o=0;t._leftWidth>0&&(t._nineImage.copy(e,n,i,t._leftWidth,a,o,s),o+=t._leftWidth,n+=t._leftWidth);for(var r=0;r<t._horizontalRepeats;r++)t._nineImage.copy(e,n,i,t._centralWidth,a,o,s),o+=t._centralWidth;t._lastWidth>0&&(t._nineImage.copy(e,n,i,t._lastWidth,a,o,s),o+=t._lastWidth),n+=t._centralWidth,t._rightWidth>0&&t._nineImage.copy(e,n,i,t._rightWidth,a,o,s)},t._textureKey=0,t}();t.NineImage=e}(Helper||(Helper={}));var Helper;!function(t){var e;!function(t){t[t.UNDEFINED=-1]="UNDEFINED",t[t.SPACE=1]="SPACE",t[t.NEWLINE=2]="NEWLINE",t[t.CHARACTER=3]="CHARACTER"}(e||(e={}));var i=function(){function t(){}return t.hasNext=function(){return t.textPosition<t.text.length},t.getChar=function(){return t.text.charAt(t.textPosition++)},t.peekChar=function(){return t.text.charAt(t.textPosition)},t.getPosition=function(){return t.textPosition},t.setPosition=function(e){t.textPosition=e},t.getCharAdvance=function(e,i){var s=t.fontData.chars[e],a=s.xAdvance;return i>0&&s.kerning[i]&&(a+=s.kerning[i]),a},t.getCharType=function(t){return" "===t?e.SPACE:/(?:\r\n|\r|\n)/.test(t)?e.NEWLINE:e.CHARACTER},t.wrapText=function(i,s,a,n,o,r){t.text=s,t.setPosition(0),t.fontData=i.cache.getBitmapFont(o).font,void 0===r&&(r=t.fontData.size);var h=r/t.fontData.size,l=t.fontData.lineHeight*h,c=a/h,_=[],u=[],p=[],d=0,f=!0,m=0,g=0;_[d]=g,p[m++]=0;for(var y=n;t.hasNext();){for(var S=0,v=0,b=-1,P=e.UNDEFINED,I=e.UNDEFINED,E=c,T=-1;t.hasNext();){g=t.getPosition();var A=t.getChar();P=t.getCharType(A);var F=A.charCodeAt(0);if(P===e.SPACE)I!==e.SPACE&&(v=S),++S,E-=t.getCharAdvance(F,T);else if(P===e.CHARACTER){if(I!==e.CHARACTER&&(b=g),E-=t.getCharAdvance(F,T),0>E)break;++S}else if(P===e.NEWLINE){var w=!1;if(t.hasNext()&&(w=!0,v=S,b=t.getPosition(),g=b,E=-1,P=e.CHARACTER),w)break}I=P,T=F}y-=l,0>y&&(p[m++]=d),0>E&&P===e.CHARACTER?(0!==v?u[d]=v:u[d]=S,f=!1,0>y&&(f=!0,y=n-l),0!==v?(_[++d]=b,t.setPosition(b)):(_[++d]=g,t.setPosition(g))):t.hasNext()||(P===e.CHARACTER?u[d]=S:P===e.SPACE&&(u[d]=v))}p[m]=d+1;for(var C=[],O=1;m>=O;O++){for(var x=p[O-1],L=p[O],U=[],B=x;L>B;B++)U.push(t.text.substr(_[B],u[B]));C.push(U.join("\n"))}return C},t}();t.TextWrapper=i}(Helper||(Helper={}));var Log;!function(t){var e=function(){function t(){}return t.msg=function(e){if(t._messages.length<t.MAX_LENGTH)t._messages.push(e);else{for(var i=1;i<t.MAX_LENGTH;i++)t._messages[i-1]=t._messages[i];t._messages[t.MAX_LENGTH-1]=e}},t.print=function(e){for(var i=0;i<t._messages.length;i++)e.text(t._messages[i],50,70+16*i,"RGB(255, 0, 0)")},t.MAX_LENGTH=30,t._messages=[],t}();t.Log=e}(Log||(Log={}));var FootballStar;!function(t){var e=function(){function t(){}return t.PARALAX_SPEED=160,t.FAIL_TIME=1800,t.GRAVITY=1e3,t.NEXT_BALL_TIME_MIN=.3,t.NEXT_BALL_TIME_MAX=1,t.THREE_BALLS_SCORE=30,t.TWO_BALLS_SCORE=10,t.BALL_RESTITUTION=.78,t.BALL_ELASTICITY=.6,t.BALL_Y_LIMIT=500,t.BALL_X_VEL=480,t.BALL_RADIUS=22,t.MAX_REACHABLE_HEIGHT=275,t.KICK_SPOT_CENTER_X=185,t.KICK_SPOT_CENTER_Y=60,t.FROM_SPOT_TO_OFFSCREEN=640-t.KICK_SPOT_CENTER_X+32,t.KICK_SPOT_LIMIT_X_FAIL=50,t.KICK_SPOT_LIMIT_PERFECT_PERCENT=.4,t.FLOOR_LEVEL=786,t.MIN_KICK_SPEED_START=.85,t.MAX_KICK_SPEED_START=1.5,t.MIN_KICK_SPEED_END=1.2,t.MAX_KICK_SPEED_END=2.5,t.MIN_KICK_SPEED_STEPS=10,t.MAX_KICK_SPEED_STEPS=10,t.COINS_FOR_PRIZE_PLAY=250,t.COINS_FOR_LAST_LEVEL=250,t}();t.Gameplay=e}(FootballStar||(FootballStar={}));var FootballStar;!function(t){var e=function(){function t(t,e,i){void 0===i&&(i=null),this.name="<no name>",this.debug=0,this._newFunction=null,this._count=0,this._pool=[],this._canGrow=!0,this._poolSize=0,this._classType=t,this._newFunction=i;for(var s=0;e>s;s++){var a=this.newItem();this._pool[this._count++]=a}this._poolSize=e}return t.prototype.createItem=function(){return 0===this._count?((this.debug&t.DEBUG_ALLOCATION)>0,this._canGrow?this.newItem():null):((this.debug&t.DEBUG_CREATE)>0,this._pool[--this._count])},t.prototype.destroyItem=function(e){(this.debug&t.DEBUG_DESTROY)>0,this._pool[this._count++]=e},Object.defineProperty(t.prototype,"newFunction",{set:function(t){this._newFunction=t},enumerable:!0,configurable:!0}),t.prototype.newItem=function(){return null!==this._newFunction?this._newFunction():new this._classType},Object.defineProperty(t.prototype,"canGrow",{set:function(t){this._canGrow=t},enumerable:!0,configurable:!0}),t.DEBUG_ALLOCATION=1,t.DEBUG_CREATE=2,t.DEBUG_DESTROY=4,t.DEBUG_ALL=7,t}();t.Pool=e}(FootballStar||(FootballStar={}));var FootballStar;!function(t){var e=function(){function e(t,i){this.maxVelocity=e.MAX_VELOCITY,this._velocity=new Phaser.Point(0,0),this._angularVelocity=0,this._friction=0,this._angularDrag=0,this._gravity=0,this._alpha=1,this._scaleChange=0,this._alphaChange=0,this._game=t}return Object.defineProperty(e.prototype,"visual",{get:function(){return this._visual},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"on",{set:function(t){this._on=t,this._visual.exists=t,this._visual.visible=t},enumerable:!0,configurable:!0}),e.prototype.remove=function(){var t=this._visual.parent;null!==t&&(t instanceof Phaser.Group?t.remove(this._visual):t.removeChild(this._visual),t=null)},e.prototype.bringToTop=function(){var t=this._visual.parent;t instanceof Phaser.Group&&t.bringToTop(this._visual)},e.prototype.sendToBack=function(){var t=this._visual.parent;t instanceof Phaser.Group&&t.sendToBack(this._visual)},Object.defineProperty(e.prototype,"textureKey",{set:function(t){this._textureKey=t},enumerable:!0,configurable:!0}),e.prototype.setScaleChange=function(t,e){void 0===e&&(e=0),this._scaleChangeType=t,this._scaleChange=e},Object.defineProperty(e.prototype,"alpha",{set:function(t){this._alpha=t,this._visual.alpha=Phaser.Math.clamp(t,0,1)},enumerable:!0,configurable:!0}),e.prototype.setAlphaChange=function(t,e){void 0===e&&(e=0),this._alphaChangeType=t,this._alphaChange=e},e.prototype.setPhysics=function(t,e,i,s,a,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===n&&(n=0),this._velocity.setTo(t,e),this._angularVelocity=i,this._friction=s,this._angularDrag=a,this._gravity=n,this._simplePhysics=0===n&&0===s&&0===a},e.prototype.setFrame=function(t){},e.prototype.onEmit=function(t){t.add(this._visual)},e.prototype.onKill=function(t){},e.prototype.update=function(e){void 0===e&&(e=!0);var i=this._game.time.physicsElapsed;if(this.lifetime>0&&(this.lifetime-=i)<=0)return!1;if((0!==this._velocity.x||0!==this._velocity.y)&&(this._visual.x+=this._velocity.x*i,this._visual.y+=this._velocity.y*i),0!==this._angularVelocity&&(this._visual.angle+=this._angularVelocity*i),this._simplePhysics||(this._velocity.x+=-this._friction*this._velocity.x*i,this._velocity.y+=(this._gravity-this._friction*this._velocity.y)*i,this._angularVelocity+=-this._angularDrag*this._angularVelocity*i),!e)return!0;if(this._scaleChangeType!=t.eParameterChangeType.NO_CHANGE)switch(this._scaleChangeType){case t.eParameterChangeType.IN_TIME:(this._visual.scale.x+=this._scaleChange*i)<0&&(this._visual.scale.x=0,this._scaleChange<0&&(this._scaleChangeType=t.eParameterChangeType.NO_CHANGE)),(this._visual.scale.y+=this._scaleChange*i)<0&&(this._visual.scale.y=0,this._scaleChange<0&&(this._scaleChangeType=t.eParameterChangeType.NO_CHANGE))}if(this._alphaChangeType!=t.eParameterChangeType.NO_CHANGE)switch(this._alphaChangeType){case t.eParameterChangeType.IN_TIME:this._alpha+=this._alphaChange*i,this._alpha<0?(this._visual.alpha=0,this._alphaChange<0&&(this._alphaChangeType=t.eParameterChangeType.NO_CHANGE)):this._alpha>1?(this._visual.alpha=1,this._alphaChange>0&&(this._alphaChangeType=t.eParameterChangeType.NO_CHANGE)):this._visual.alpha=this._alpha}return!0},e.MAX_VELOCITY=1e3,e}();t.Particle=e}(FootballStar||(FootballStar={}));var FootballStar;!function(t){var e;!function(t){t[t.NONE=0]="NONE",t[t.FLOW=1]="FLOW",t[t.EXPLODE=2]="EXPLODE"}(e||(e={})),function(t){t[t.NO_CHANGE=0]="NO_CHANGE",t[t.IN_TIME=1]="IN_TIME"}(t.eParameterChangeType||(t.eParameterChangeType={}));var i=t.eParameterChangeType,s=function(s){function a(n,o,r,h){s.call(this,n,null),this._maxParticles=a.MAX_PARTICELES,this.emitPoint=new Phaser.Point(0,0),this.area=new Phaser.Point(0,0),this.emitObject=null,this.gravity=100,this.particleClass=t.SpriteParticle,this.particleBringToTop=!1,this.particleSendToBack=!1,this.frequency=100,this.minLifetime=1,this.maxLifetime=2,this.minParticleScale=1,this.maxParticleScale=1,this.scaleChange=0,this.scaleChangeType=i.NO_CHANGE,this.minParticleSpeed=new Phaser.Point(-100,-100),this.maxParticleSpeed=new Phaser.Point(100,100),this.particleFriction=0,this.minAngularSpeed=-360,this.maxAngularSpeed=360,this.angularDrag=0,this.minParticleAlpha=1,this.maxParticleAlpha=1,this.alphaChange=0,this.alphaChangeType=i.NO_CHANGE,this.forceEmit=!1,this._on=!1,this._mode=e.NONE,this._flowQuantity=0,this._flowTotal=0,this._flowCounter=0,this._particlesPool=[],this._counterPool=0,this._particlesUsed=[],this._counterUsed=0,this._timer=0,this._frames=null,this._emitPoint=new Phaser.Point(0,0),this._minParticleScale=new Phaser.Point(1,1),this._maxParticleScale=new Phaser.Point(1,1),this.position.setTo(o,r),this._maxParticles=h}return __extends(a,s),a.prototype.update=function(){if(this._on&&this.game.time.time>=this._timer&&(this._timer=this.game.time.time+this.frequency*this.game.time.slowMotion,this._mode===e.FLOW))if(-1!==this._flowTotal&&this._flowCounter>=this._flowTotal)this._mode=e.NONE;else for(var t=Math.max(1,this._flowQuantity),i=0;t>i&&!(this.emitParticle(this.forceEmit)&&(this._flowCounter++,-1!==this._flowTotal&&this._flowCounter>=this._flowTotal));i++);for(var i=this._counterUsed-1;i>=0;i--){var s=this._particlesUsed[i];s.update()||(s.on=!1,s.remove(),s.onKill(this),this._particlesUsed[i]=this._particlesUsed[--this._counterUsed],this._particlesPool[this._counterPool++]=s)}},a.prototype.makeParticles=function(t,e,i,s){(void 0===i||i>this._maxParticles)&&(i=this._maxParticles),void 0!==e&&(this._frames=e);for(var a=0;i>a;a++){var n=new this.particleClass(this.game,s);n.textureKey=t,n.onCreate(this),n.on=!1,this._particlesPool[this._counterPool++]=n}},Object.defineProperty(a.prototype,"on",{set:function(t){this._on=t,this.exists=t,this.visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"lifetime",{set:function(t){this.minLifetime=this.maxLifetime=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"count",{get:function(){return this._counterUsed},enumerable:!0,configurable:!0}),a.prototype.explode=function(t,i,s){this._mode=e.EXPLODE,this.on=!0,this.emitParticles(t,i,s)},a.prototype.flow=function(t,i,s,a,n,o){this._mode=e.FLOW,this.on=!0,(void 0===i||0===i)&&(i=1),void 0===s&&(s=-1),void 0===a&&(a=!0),i>this._maxParticles&&(i=this._maxParticles),this.frequency=t,this._flowCounter=0,this._flowQuantity=i,this._flowTotal=s,a&&(this.emitParticles(i,n,o),this._flowCounter+=i,this._timer=this.game.time.time+t*this.game.time.slowMotion)},a.prototype.stop=function(){this._mode=e.NONE},a.prototype.killAllParticles=function(t){for(void 0===t&&(t=!0),this._mode=e.NONE;this._counterUsed>0;){var i=this._particlesUsed[--this._counterUsed];i.remove(),t||i.onKill(this),this._particlesPool[this._counterPool++]=i}},a.prototype.emitParticles=function(t,e,i){for(var s=0;t>s;s++){var a=this.emitParticle(this.forceEmit);if(null===a)break;void 0!==e&&null!==e&&e.call(i,a)}},a.prototype.emitParticle=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),0===this._counterPool){if(!t)return null;var s=this._particlesUsed[0];this._particlesUsed[0]=this._particlesUsed[--this._counterUsed],s.remove(),s.onKill(this),this._particlesPool[this._counterPool++]=s}var a=this._particlesPool[--this._counterPool];if(this._particlesUsed[this._counterUsed++]=a,a.on=!0,this.randomEmitPoint(this._emitPoint),a.visual.position.set(this._emitPoint.x,this._emitPoint.y),a.visual.angle=0,e)a.lifetime=-1,a.visual.scale.set(1,1),a.setScaleChange(i.NO_CHANGE),a.alpha=1,a.setAlphaChange(i.NO_CHANGE),a.setPhysics();else{if(a.lifetime=this.game.rnd.realInRange(this.minLifetime,this.maxLifetime),1!==this.minParticleScale||1!==this.maxParticleScale){var n=this.game.rnd.realInRange(this.minParticleScale,this.maxParticleScale);a.visual.scale.set(n,n)}else this._minParticleScale.x!==this._maxParticleScale.x||this._minParticleScale.y!==this._maxParticleScale.y?a.visual.scale.set(this.game.rnd.realInRange(this._minParticleScale.x,this._maxParticleScale.x),this.game.rnd.realInRange(this._minParticleScale.y,this._maxParticleScale.y)):a.visual.scale.set(1,1);a.setScaleChange(this.scaleChangeType,this.scaleChange),a.alpha=this.game.rnd.realInRange(this.minParticleAlpha,this.maxParticleAlpha),a.setAlphaChange(this.alphaChangeType,this.alphaChange),a.setPhysics(this.game.rnd.realInRange(this.minParticleSpeed.x,this.maxParticleSpeed.x),this.game.rnd.realInRange(this.minParticleSpeed.y,this.maxParticleSpeed.y),this.game.rnd.realInRange(this.minAngularSpeed,this.maxAngularSpeed),this.particleFriction,this.angularDrag,this.gravity),null!==this._frames&&a.setFrame(this.randomFrame())}return a.onEmit(this),this.particleBringToTop?a.bringToTop():this.particleSendToBack&&a.sendToBack(),a},a.prototype.destroy=function(){t.ParticlesManager.instance.remove(this),s.prototype.destroy.call(this,!0,!1)},a.prototype.randomFrame=function(){var t=null;return null!==this._frames&&(t=Array.isArray(this._frames)?"string"==typeof this._frames[0]?this.game.rnd.pick(this._frames):this.game.rnd.pick(this._frames):this._frames),t},a.prototype.randomEmitPoint=function(t){return this.area instanceof Phaser.Point?t.setTo(0,0):this.area.random(t),t.x+=this.emitPoint.x,t.y+=this.emitPoint.y,null!==this.emitObject&&(t.x+=this.emitObject.x,t.y+=this.emitObject.y),t},a.prototype.setXSpeed=function(t,e){t=t||0,e=e||0,this.minParticleSpeed.x=t,this.maxParticleSpeed.x=e},a.prototype.setYSpeed=function(t,e){t=t||0,e=e||0,this.minParticleSpeed.y=t,this.maxParticleSpeed.y=e},a.prototype.setAngularSpeed=function(t,e){t=t||0,e=e||0,this.minAngularSpeed=t,this.maxAngularSpeed=e},a.prototype.setAlpha=function(t,e){void 0===t&&(t=1),void 0===e&&(e=1),this.minParticleAlpha=t,this.maxParticleAlpha=e},a.prototype.setAlphaChange=function(t,e,s){switch(void 0===e&&(e=0),void 0===s&&(s=0),this.alphaChangeType=t,t){case i.NO_CHANGE:this.alphaChange=0;break;case i.IN_TIME:0===s&&(s=1),this.alphaChange=e/s}},a.prototype.setScale=function(t,e,i,s){void 0===t&&(t=1),void 0===e&&(e=1),void 0===i&&(i=1),void 0===s&&(s=1),this._minParticleScale.setTo(t,i),this._maxParticleScale.setTo(e,s)},a.prototype.setScaleChange=function(t,e,s){switch(void 0===e&&(e=0),void 0===s&&(s=0),this.scaleChangeType=t,t){case i.NO_CHANGE:this.scaleChange=0;break;case i.IN_TIME:0===s&&(s=1),this.scaleChange=e/s}},a.prototype.emitAt=function(t,e){this.emitPoint.setTo(t,e)},a.prototype.emitAtObject=function(t){t.center?this.emitPoint.setTo(t.center.x,t.center.y):this.emitPoint.setTo(t.x,t.y)},a.MAX_PARTICELES=16,a}(Phaser.Group);t.ParticlesEmitter=s}(FootballStar||(FootballStar={}));var FootballStar;!function(t){var e=function(){function t(){this._emitters=[],this._emittersCount=0}return Object.defineProperty(t,"instance",{get:function(){return null===t._instance&&(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.add=function(t){this._emitters[this._emittersCount++]=t},t.prototype.remove=function(t){for(var e=this._emittersCount-1;e>=0&&this._emitters[e]!==t;e--);-1!==e&&(this._emitters[e]=this._emitters[--this._emittersCount])},t.prototype.update=function(){for(var t=0;t<this._emittersCount;t++){var e=this._emitters[t];e.exists&&e.update()}},t._instance=null,t}();t.ParticlesManager=e}(FootballStar||(FootballStar={}));var FootballStar;!function(t){var e=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.setFrame=function(t){var e=this._visual;"string"==typeof t?e.frameName=t:e.frame=t},e.prototype.onCreate=function(t){var e=new Phaser.Sprite(this._game,0,0,this._textureKey);e.anchor.setTo(.5,.5),this._visual=e},e}(t.Particle);t.SpriteParticle=e}(FootballStar||(FootballStar={}));var FootballStar;!function(t){var e=function(){function e(t){this._samples=[],this._sections=[],this._sampleIdx=[],this._speedStep=[],this._rnd=t,this.calc(),this.analyze()}return e.prototype.calc=function(){for(var i=1/60/e.SUBSAMPLES,s=t.Gameplay.BALL_Y_LIMIT,a=-Math.sqrt(2*t.Gameplay.BALL_Y_LIMIT*t.Gameplay.GRAVITY),n=!0,o=0,r=0;n;r++)this._samples[o++]=s,a+=t.Gameplay.GRAVITY*i,s+=a*i,s>t.Gameplay.BALL_Y_LIMIT&&(s=t.Gameplay.BALL_Y_LIMIT,a*=-t.Gameplay.BALL_ELASTICITY,Math.abs(a)<e.VEL_EPSILON&&(n=!1))},e.prototype.analyze=function(){for(var e=!0,i=null,s=0;s<this._samples.length;s++){var a=t.Gameplay.BALL_Y_LIMIT-this._samples[s],n=s===this._samples.length-1;e&&!n?a<=t.Gameplay.MAX_REACHABLE_HEIGHT&&(i=new t.HeightSection,i.startIndex=s,e=!1):(a>t.Gameplay.MAX_REACHABLE_HEIGHT||n)&&null!==i&&(i.endIndex=s,this._sections.push(i),e=!0,i=null)}},e.prototype.reset=function(i,s,a){void 0===a&&(a=!1),this._speedStep[i]=60*e.SUBSAMPLES/s;for(var n=Math.ceil(t.Gameplay.FROM_SPOT_TO_OFFSCREEN*this._speedStep[i]),o=0,r=0;r<this._sections.length;r++){var h=this._sections[r];h.newStart=Math.min(Math.max(h.startIndex,n),h.endIndex),o+=h.endIndex-h.newStart}var l=this._rnd.integerInRange(0,o-1);a&&(l=o-1);for(var c=l,r=0;r<this._sections.length;r++){var h=this._sections[r],_=h.endIndex-h.newStart;if(!(c>=_)){this._sampleIdx[i]=h.newStart+c-n;break}c-=_}},e.prototype.getHeight=function(t,e){var i=this._samples[Math.floor(this._sampleIdx[t])];return this._sampleIdx[t]+=e*this._speedStep[t],this._sampleIdx[t]=Math.min(this._sampleIdx[t],this._samples.length-1),i},e.SUBSAMPLES=20,e.VEL_EPSILON=30,e}();t.BallPath=e}(FootballStar||(FootballStar={}));var FootballStar;!function(t){var e=function(){function t(){}return t}();t.HeightSection=e}(FootballStar||(FootballStar={}));var FBUI;!function(t){t.SMALL_FONT_SIZE=36,t.BIG_FONT_SIZE=72,t.TABLE_FONT_SIZE=62,t.SKILL_BAR_FONT_SIZE=48,t.RESULTS_FONT_SIZE_PERCENT=32,t.RESULTS_FONT_SIZE=40,t.RESULTS_FONT_SIZE_BIG=56,t.RESULTS_FONT_SIZE_SMALL=24,t.WIN_FONT_SIZE=96,t.TUTORIAL_HEIGHT=260}(FBUI||(FBUI={}));var FBUI;!function(t){var e=function(e){function i(i,s){e.call(this,i,s),this._cards=[],this._height=0,this._cardSelection=i.add.sprite(132,110,"UI","card_selection",this),this._cardSelection.anchor.set(.5);for(var a=0;a<t.PLAYERS.length;a++){var n=new t.PlayerCard(i,this,a,"card_unknow");this.add(n),this._cards.push(n)}}return __extends(i,e),i.prototype.updateCards=function(){for(var e=FootballStar.Global.playerStats,s=0,a=0;a<t.PLAYERS.length;a++){var n=Math.floor(a/3),o=a%3,r=this._cards[a];r.position.set(320+(o-1)*i.STEP,i.STEP/2+n*i.STEP);var h=e.cards[a];this._cards[a].frameName=h?t.PLAYERS[a]:"card_unknow",++s}this._height=Math.ceil(s/3)*i.STEP},i.prototype.getHeight=function(){return this._height},Object.defineProperty(i.prototype,"selection",{get:function(){return this._cardSelection},enumerable:!0,configurable:!0}),i.prototype.getCard=function(t){return this._cards[t]},i.prototype.selectCard=function(t){this._cardSelection.alpha=1;var e=Math.floor(t/3),s=t%3;this._cardSelection.position.set(320+(s-1)*i.STEP,i.STEP/2+e*i.STEP)},Object.defineProperty(i.prototype,"selectedCardY",{get:function(){return this._cardSelection.y},enumerable:!0,configurable:!0}),i.STEP=210,i}(Phaser.Group);t.CardsList=e}(FBUI||(FBUI={}));var FBUI;!function(t){var e=function(e){function i(i,s){e.call(this,i,s);var a=-110;this._icon=i.add.sprite(a,0,"UI","DailyBonus",this),this._icon.anchor.set(0,.5),a+=60,this._text=new Phaser.BitmapText(i,a,-15,"FontSmall","DAILY BONUS",t.SMALL_FONT_SIZE,"left"),this._text.anchor.set(0,.42),this.add(this._text),this._timeText=new Phaser.BitmapText(i,a,15,"FontSmall","0",t.SMALL_FONT_SIZE,"left"),this._timeText.anchor.set(0,.42),this.add(this._timeText)}return __extends(i,e),Object.defineProperty(i.prototype,"timeText",{set:function(t){this._timeText.text=t},enumerable:!0,configurable:!0}),i}(Phaser.Group);t.DailyCoinTimeout=e}(FBUI||(FBUI={}));var FBUI;!function(t){var e=function(t){function e(e,i){t.call(this,e,i),this.alpha=.85,this._center=e.add.sprite(0,0,"UI","tmaDira",this),this._center.anchor.set(.5),this._top=e.add.sprite(0,0,"UI","tma",this),this._top.anchor.set(.5,1),this._bottom=e.add.sprite(0,0,"UI","tma",this),this._bottom.anchor.set(.5,0),this._left=e.add.sprite(0,0,"UI","tma",this),this._left.anchor.set(1,0),this._right=e.add.sprite(0,0,"UI","tma",this),this._right.anchor.set(0,0)}return __extends(e,t),e.prototype.focusOn=function(t,e,i,s){this._center.width=i,this._center.height=s,this._center.position.set(t,e);var a=i,n=s;this._top.width=this.game.width+10,this._top.height=e-n/2+10,this._top.position.set(this.game.width/2,e-n/2),this._bottom.width=this.game.width+10,this._bottom.height=this.game.height-e-n/2+10,this._bottom.position.set(this.game.width/2,e+n/2),this._left.width=t-a/2+10,this._left.height=n,this._left.position.set(t-a/2,e-n/2),this._right.width=this.game.width-t-a/2+10,this._right.height=n,this._right.position.set(t+a/2,e-n/2)},e}(Phaser.Group);t.PeekHole=e}(FBUI||(FBUI={}));var FBUI;!function(t){var e=function(t){function e(e,i,s,a){t.call(this,e,0,0,"UI",a),this._id=-1,i.add(this),this._id=s,this.anchor.set(.5),this.inputEnabled=!0}return __extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),e.prototype.setCard=function(t,e){this._id=t,this.frameName=e},e}(Phaser.Sprite);t.PlayerCard=e}(FBUI||(FBUI={}));var FBUI;!function(t){var e=function(e){function i(s,a){e.call(this,s,0,0,"UI",i.FRAME_BACK),this.onFlip=new Phaser.Signal,this._frameOrValue="card_unknow",this._flipped=!1,this._id=0,a.add(this),this.anchor.set(.5),this._text=new Phaser.BitmapText(s,0,0,"FontSmall","",t.SMALL_FONT_SIZE,"center"),this._text.anchor.set(.5),this._text.tint=0,this._text.visible=!1,this.addChild(this._text),this.flipped=!1}return __extends(i,e),i.prototype.setCard=function(t,e,i){this._id=t,this._isCoins=e,this._frameOrValue=i,e&&(this._text.text="+"+i+"\nCOINS"),this.flipped=!1},Object.defineProperty(i.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"flipped",{get:function(){return this._flipped},set:function(t){this._flipped=t,this.frameName=t?this._isCoins?i.FRAME_COINS:this._frameOrValue:i.FRAME_BACK,this._text.visible=t&&this._isCoins,this.inputEnabled=!t,t&&this.onFlip.dispatch(this,this._id)},enumerable:!0,
configurable:!0}),i.FRAME_BACK="cardplayerempty",i.FRAME_COINS="cardplayercoins",i}(Phaser.Sprite);t.PrizePlayCard=e}(FBUI||(FBUI={}));var FBUI;!function(t){var e=function(e){function i(i,s,a){e.call(this,i,s),this._bar=new t.Bar(i,this,"pasek_bg","pasek_yellow");var n=this._bar.width;this._bar.position.x=-n/2,this._icon=i.add.sprite(-n/2-53,0,"UI",a,this),this._icon.anchor.set(.5),this._text=new Phaser.BitmapText(i,n/2+36,0,"FontBig","",t.SKILL_BAR_FONT_SIZE,"left"),this._text.anchor.set(0,.42),this.add(this._text)}return __extends(i,e),Object.defineProperty(i.prototype,"percent",{set:function(t){t=Phaser.Math.clamp(t,0,1),this._text.text=Math.floor(100*t)+"%",this._bar.percent=t},enumerable:!0,configurable:!0}),i}(Phaser.Group);t.SkillsBar=e}(FBUI||(FBUI={}));var FBUI;!function(t){var e=function(e){function i(i,s){e.call(this,i,s),this._items=new Phaser.Group(i,this),this._hand=i.add.sprite(365,663,"UI","handtutor",this._items),this._hand.anchor.set(.5),this._tapText=new Phaser.BitmapText(this.game,326,740,"FontSmall","TAP WHEN BALL",t.SMALL_FONT_SIZE,"left"),this._items.add(this._tapText),this._hitText=new Phaser.BitmapText(this.game,326,776,"FontSmall","HITS",t.SMALL_FONT_SIZE,"left"),this._hitText.tint=3460088,this._items.add(this._hitText),this._kickZoneText=new Phaser.BitmapText(this.game,326+this._hitText.textWidth+20,776,"FontSmall","KICK ZONE",t.SMALL_FONT_SIZE,"left"),this._items.add(this._kickZoneText),this._items.visible=!1}return __extends(i,e),Object.defineProperty(i.prototype,"itemsVisible",{set:function(t){this._items.visible=t},enumerable:!0,configurable:!0}),i}(t.PeekHole);t.Tutorial=e}(FBUI||(FBUI={}));var FBUI;!function(t){t.LEVELS=["text_Park_Kickabout","text_Pub_League","text_Sunday_League","text_District_Cup","text_Amateur_League","text_Regional_Cup","text_Northern_League","text_Non-League_Trophy","text_National_League","text_Premier_League","text_Champions_League","text_World_Club_Cup"],t.LEVEL_NAMES=["PARK KICKABOUT","PUB LEAGUE","SUNDAY LEAGUE","DISTRICT CUP","AMATEUR LEAGUE","REGIONAL CUP","NORTHERN LEAGUE","NON-LEAGUE TROPHY","NATIONAL LEAGUE","PREMIER LEAGUE","CHAMPIONS LEAGUE","WORLD CLUB CUP"],t.PLAYERS=["card_stones","card_ederson","card_kompany","card_otamendi","card_walker","card_mendy","card_toure","card_aguero","card_debruyne","card_silva","card_jesus","card_sane"];var e=function(){function t(){this.version=0,this.firstTimeEver=!0,this.lastDailyCoinDayMillis=0,this.lastPrizePlayDayMillis=0,this.selectedPlayer=0,this.level=0,this.levelUp=!1,this.currentCoins=0,this.totalCoins=0,this.currentScore=0,this.totalScore=0,this.highScore=0,this.cards=[],this.cardUnlockedInPrizePlay=-1,this.cardsForPrizePlayThisDay=[]}return t}();t.PlayerStats=e;var i=function(){function i(){}return i.createEmptyStats=function(){var s=new e;s.version=i.STATS_VERSION;for(var a=0;a<t.PLAYERS.length;a++)s.cards[a]=0===a;return s},i.adjustLoadedData=function(){var e=FootballStar.Global.playerStats;if(e.cards.length!==t.PLAYERS.length){e.cards.length=t.PLAYERS.length;for(var i=0;i<t.PLAYERS.length;i++)"undefined"==typeof e.cards[i]&&(e.cards[i]=0===i)}},i.resetScore=function(e){e.currentCoins=0,e.currentScore=0,i.onLevelUp.dispatch(t.LEVELS[e.level])},i.addScore=function(e){var s=FootballStar.Global.playerStats;s.currentScore+=e,s.totalScore=s.totalScore+e;var a=i.XP_TO_UNLOCK[Math.min(s.level+1,i.XP_TO_UNLOCK.length-1)];if(s.level<i.XP_TO_UNLOCK.length-2&&s.totalScore>=a)++s.level,s.levelUp=!0,i.onCoins.dispatch(25*s.level),i.onLevelUp.dispatch(t.LEVELS[s.level]);else if(s.level>=i.XP_TO_UNLOCK.length-2){var n=i.XP_TO_UNLOCK[i.XP_TO_UNLOCK.length-1]-i.XP_TO_UNLOCK[i.XP_TO_UNLOCK.length-2];(s.totalScore-i.XP_TO_UNLOCK[i.XP_TO_UNLOCK.length-1])%n===0&&i.onCoins.dispatch(FootballStar.Gameplay.COINS_FOR_LAST_LEVEL)}},i.addCoin=function(){var t=FootballStar.Global.playerStats;++t.currentCoins,++t.totalCoins},i.getLevelPercent=function(){return i.getCurrentLevelScore()/i.getCurrentLevelScoreRange()},i.getCurrentLevelScore=function(){var e=FootballStar.Global.playerStats;if(e.level<t.LEVELS.length-1){var s=i.XP_TO_UNLOCK[e.level];return e.totalScore-s}var a=i.XP_TO_UNLOCK[i.XP_TO_UNLOCK.length-1]-i.XP_TO_UNLOCK[i.XP_TO_UNLOCK.length-2],n=(e.totalScore-i.XP_TO_UNLOCK[i.XP_TO_UNLOCK.length-2])%a;return n},i.getCurrentLevelScoreRange=function(){var e=FootballStar.Global.playerStats;if(e.level<t.LEVELS.length-1){var s=i.XP_TO_UNLOCK[e.level],a=i.XP_TO_UNLOCK[Math.min(e.level+1,i.XP_TO_UNLOCK.length-1)];return a-s}var n=i.XP_TO_UNLOCK[i.XP_TO_UNLOCK.length-1]-i.XP_TO_UNLOCK[i.XP_TO_UNLOCK.length-2];return n},i.isNextDailyCoinDay=function(){var t=FootballStar.Global.playerStats,e=i.isNextDay(t.lastDailyCoinDayMillis);return e>0?(t.lastDailyCoinDayMillis=e,!0):!1},i.isNextPrizePlayDay=function(){var t=FootballStar.Global.playerStats,e=i.isNextDay(t.lastPrizePlayDayMillis);return e>0?(t.lastPrizePlayDayMillis=e,t.cardsForPrizePlayThisDay=i.getLockedPlayers(),!0):!1},i.isNextDay=function(t){var e=new Date;e.setHours(0,0,0,0);var i=e.valueOf();return i>t?i:0},i.hasUnlockedPlayers=function(){for(var t=FootballStar.Global.playerStats,e=0;e<t.cards.length;e++)if(!t.cards[e])return!0;return!1},i.getLockedPlayers=function(){for(var t=FootballStar.Global.playerStats,e=[],i=0;i<t.cards.length;i++)t.cards[i]||e.push(i);return e=Phaser.ArrayUtils.shuffle(e),e.splice(0,Math.min(3,e.length))},i.removeCardFromDailyPrizePlayList=function(t){var e=FootballStar.Global.playerStats.cardsForPrizePlayThisDay,i=e.indexOf(t);i>-1&&e.splice(i,1)},i.timeToNextDay=function(){var t=new Date,e=new Date;e.setHours(0,0,0,0),e.setDate(t.getDate()+1);var i=e.valueOf()-t.valueOf();return i/=1e3,Math.floor(i/3600)+" HR "+Math.floor(i%3600/60)+" MIN"},i.STATS_VERSION=3.1,i.onLevelUp=new Phaser.Signal,i.onCoins=new Phaser.Signal,i.XP_TO_UNLOCK=[0,20,60,140,300,620,1260,2220,3500,5100,7020,9260,11820],i}();t.Stats=i}(FBUI||(FBUI={}));var FBUI;!function(t){var e=function(t){function e(e,i,s){void 0===s&&(s=!0),t.call(this,e,i),this._bg=null,this.fixedToCamera=!0,this.cameraOffset.set(0,0),s&&(this._bg=e.add.sprite(0,0,"UI","tma",this),this._bg.alpha=.85),this.resize()}return __extends(e,t),e.prototype.resize=function(){null!==this._bg&&(this._bg.width=this.game.width,this._bg.height=this.game.height)},e}(Phaser.Group);t.ScreenBase=e}(FBUI||(FBUI={}));var FBUI;!function(t){var e=function(e){function i(i,s){e.call(this,i,s),this.onCardSelected=new Phaser.Signal,this._cards=[];var a=i.width/2,n=this.game.height/2,o=new Phaser.BitmapText(this.game,0,0,"FontBig","DAILY COIN",t.BIG_FONT_SIZE,"center");o.anchor.set(.5,.4),o.tint=3785979,o.position.set(a,n-332),this.add(o),this._t1=o,o=new Phaser.BitmapText(this.game,0,0,"FontBig","BONUS",t.BIG_FONT_SIZE,"center"),o.anchor.set(.5,.4),o.position.set(a,n-272),this.add(o),this._t2=o,o=new Phaser.BitmapText(this.game,0,0,"FontSmall","GET FREE COINS EVERY DAY",t.SMALL_FONT_SIZE,"center"),o.anchor.set(.5,.4),o.position.set(a,n-208),this.add(o),this._t3=o;var r=88,h=Math.floor((i.width-2*r)/3);r=Math.floor((i.width-3*h)/2);for(var l=0;4>l;l++){var c=new t.BonusCard(i,this);c.position.set(r,n+80),c.events.onInputDown.add(this.onCard,this),this._cards.push(c),r+=h}this._block=!0}return __extends(i,e),i.prototype.setCardValue=function(t,e){this._cards[t].value=e},i.prototype.onCard=function(t){if(!this._block){t.flipped=!0,Utils.AudioUtils.playSound("card_flip"),this._block=!0,FootballStar.Global.playerStats.totalCoins+=t.value;var e=this.game.add.tween(t).to({alpha:0},600,function(t){var e=600*t;return e%200>100?1:0},!0,500);e.onComplete.add(function(){this.onCardSelected.dispatch()},this),this.game.time.events.add(300,function(){Utils.AudioUtils.playSound("coins_multiple")},this)}},i.prototype.reset=function(){var t=FootballStar.Global.playerStats.firstTimeEver;FootballStar.Global.playerStats.firstTimeEver=!1;var e=i.CARD_VALUES_STANDARD;e=Phaser.ArrayUtils.shuffle(e),this.setLabels(!1);for(var s=0;s<this._cards.length;s++){var a=this._cards[s];a.flipped=!1,a.value=t?i.CARD_VALUE_FIRST_TIME:e[s]}this._block=!1},i.prototype.setLabels=function(t){var e=i.LABELS_DAILY;this._t1.text=e[0],this._t2.text=e[1],this._t3.text=e[2]},i.CARD_VALUE_FIRST_TIME=250,i.CARD_VALUES_STANDARD=[50,100,175,250],i.LABELS_DAILY=["DAILY COIN","BONUS","GET FREE COINS EVERY DAY"],i}(t.ScreenBase);t.ScreenDailyCoin=e}(FBUI||(FBUI={}));var FBUI;!function(t){var e=function(e){function i(i,s){e.call(this,i,s,!1),this._peekHole=new t.PeekHole(i,this),this._peekHole.focusOn(i.width-332,58,350,170);var a=i.width/2,n=this.game.height/2,o=new Phaser.BitmapText(this.game,0,0,"FontBig","WIN!",t.BIG_FONT_SIZE,"center");o.anchor.set(.5,.4),o.tint=16695808,o.position.set(a,n-112),this.add(o),i.add.sprite(a-154,n-112,"UI","star",this).anchor.set(.5),i.add.sprite(a+154,n-112,"UI","star",this).anchor.set(.5),o=new Phaser.BitmapText(this.game,0,0,"FontBig","NEW PLAYERS\nAVAILABLE",t.BIG_FONT_SIZE,"center"),o.anchor.set(.5,.4),o.position.set(a,n+100),this.add(o)}return __extends(i,e),i}(t.ScreenBase);t.ScreenOnboarding=e}(FBUI||(FBUI={}));var FBUI;!function(t){var e=function(e){function i(s,a){e.call(this,s,a),this.onClose=new Phaser.Signal,this.onPrizePlay=new Phaser.Signal,this.onPlayerSelected=new Phaser.Signal,this._pointerDown=!1,this._clickY=0,this._offsetY=0,this._pointerPos=new Phaser.Point,this._blockInput=!1;var n=s.width/2;this.game.height/2;i.PLAYERS_DIMS.y=Math.min(670,s.height-200-200),i.PLAYERS_OFFSET.y=.5*(s.height-i.PLAYERS_DIMS.y);var o=new Phaser.BitmapText(this.game,0,0,"FontBig","PLAYERS",t.BIG_FONT_SIZE,"center");o.anchor.set(.5,.4),o.tint=3785979,o.position.set(n,.65*i.PLAYERS_OFFSET.y),this.add(o),this._prize=new t.ButtonWithText(this.game,"Prize","UI","button_unlock",!1,null,null,"button_unlock_off"),this._prize.position.set(n,s.height-.5*(s.height-i.PLAYERS_OFFSET.y-i.PLAYERS_DIMS.y)),this._prize.textOffset=310,this._prize.text=""+FootballStar.Gameplay.COINS_FOR_PRIZE_PLAY,this._prize.onClick.add(this.onPrizePlayBtn,this),this.add(this._prize),this._timeText=new Phaser.BitmapText(s,0,60,"FontSmall","",t.SMALL_FONT_SIZE,"center"),this._timeText.anchor.set(.5),this._timeText.visible=!1,this._prize.add(this._timeText),this._coins=new t.TextWithIcon(s,this,"money",0,1),this._coins.position.set(35,58),this._dailyCoins=new t.DailyCoinTimeout(s,this),this._dailyCoins.position.set(s.width/2,58),this._close=new UI.Button(s,"Close","UI","x"),this._close.onClick.add(this.onCloseBtn,this),this._close.position.set(s.width-70,58),this.add(this._close),this._cards=new t.CardsList(s,null),this._cards.selectCard(FootballStar.Global.playerStats.selectedPlayer),this._cards.updateCards(),this._centerTexture=new Phaser.RenderTexture(s,i.PLAYERS_DIMS.x,i.PLAYERS_DIMS.y,"Center"),this._center=new Phaser.Sprite(s,n+i.PLAYERS_OFFSET.x,i.PLAYERS_OFFSET.y,this._centerTexture),this._center.anchor.set(.5,0),this.add(this._center),this._center.inputEnabled=!0,this._center.events.onInputDown.add(this.pointerDown,this),this._center.events.onInputUp.add(this.pointerUp,this),this._centerTexture.renderXY(this._cards,0,this._offsetY,!0),this._sliderUp=s.add.sprite(n,i.PLAYERS_OFFSET.y-6,"UI","up",this),this._sliderUp.anchor.set(.5,1),this._sliderDown=s.add.sprite(n,i.PLAYERS_OFFSET.y+i.PLAYERS_DIMS.y+6,"UI","down",this),this._sliderDown.anchor.set(.5,0),this.showSliders()}return __extends(i,e),Object.defineProperty(i.prototype,"coins",{set:function(t){this._coins.setText(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"enablePrizePlayButton",{set:function(e){this._prize.enabled=e,this._timeText.visible=!1,e||(this._timeText.text=t.Stats.timeToNextDay(),0===FootballStar.Global.playerStats.cardsForPrizePlayThisDay.length&&(this._timeText.visible=!0))},enumerable:!0,configurable:!0}),i.prototype.listenToMoves=function(t){t?this.game.input.addMoveCallback(this.pointerMove,this):this.game.input.deleteMoveCallback(this.pointerMove,this)},i.prototype.reset=function(){this._cards.updateCards(),this._centerTexture.renderXY(this._cards,0,this._offsetY,!0),t.Stats.isNextDay(FootballStar.Global.playerStats.lastDailyCoinDayMillis)?this._dailyCoins.visible=!1:(this._dailyCoins.visible=!0,this._dailyCoins.timeText=t.Stats.timeToNextDay()),this._blockInput=!1,this.showSliders()},i.prototype.selectPlayer=function(e){var s=Phaser.Point.distance(this._pointerPos,e.position);if(10>s){this._pointerPos.subtract((this.game.width-i.PLAYERS_DIMS.x)/2+i.PLAYERS_OFFSET.x,i.PLAYERS_OFFSET.y),this._pointerPos.add(0,-this._offsetY);var a=Phaser.Math.clamp(Math.floor(this._pointerPos.x/t.CardsList.STEP),0,3),n=Phaser.Math.max(0,Math.floor(this._pointerPos.y/t.CardsList.STEP)),o=3*n+a;if(o<t.PLAYERS.length){var r=FootballStar.Global.playerStats;if(r.cards[o]){r.selectedPlayer=o,this._cards.selectCard(o),this._centerTexture.renderXY(this._cards,0,this._offsetY,!0),this.onPlayerSelected.dispatch(),Utils.AudioUtils.playSound("button"),this.listenToMoves(!1),this._blockInput=!0;var h=this,l=this.game.add.tween(this._cards.selection).to({alpha:0},600,function(t){h._centerTexture.renderXY(h._cards,0,h._offsetY,!0);var e=600*t;return e%200>100?1:0},!0,500);l.onComplete.add(function(){this.onClose.dispatch()},this)}}}},i.prototype.pointerDown=function(t,e){this._blockInput||(this._clickY=e.y,this._pointerPos.copyFrom(e.position),this._pointerDown=!0)},i.prototype.pointerUp=function(t,e,i){this._blockInput||(this._pointerDown=!1,this.selectPlayer(e))},i.prototype.pointerMove=function(t,e,s,a){if(this._pointerDown){var n=s-this._clickY;this._offsetY+=n,this._offsetY=Phaser.Math.clamp(this._offsetY,-Math.max(0,this._cards.getHeight()-i.PLAYERS_DIMS.y),0),this._centerTexture.renderXY(this._cards,0,this._offsetY,!0),this._clickY=s,this.showSliders()}},i.prototype.showSliders=function(){this._sliderUp.visible=-this._offsetY>3,this._sliderDown.visible=-this._offsetY<this._cards.getHeight()-i.PLAYERS_DIMS.y-3},i.prototype.onPrizePlayBtn=function(){this._blockInput||(this.listenToMoves(!1),FootballStar.Global.playerStats.totalCoins-=FootballStar.Gameplay.COINS_FOR_PRIZE_PLAY,this.onPrizePlay.dispatch())},i.prototype.onCloseBtn=function(){this._blockInput||(this.listenToMoves(!1),this.onClose.dispatch())},i.PLAYERS_OFFSET=new Phaser.Point(0,240),i.PLAYERS_DIMS=new Phaser.Point(640,670),i}(t.ScreenBase);t.ScreenPlayers=e}(FBUI||(FBUI={}));var FBUI;!function(t){var e=function(e){function i(i,s){e.call(this,i,s),this.onPrizePlayEnded=new Phaser.Signal,this._cards=[],this._gameResult=null,this._blocked=!0;var a=i.width/2,n=this.game.height/2;this._blinkGourp=new Phaser.Group(i,this);for(var o=a,r=n+36,h=-1;1>=h;h++)for(var l=-1;1>=l;l++){var c=new t.PrizePlayCard(i,this);c.position.set(o+210*l,r+210*h),c.events.onInputDown.add(this.onCard,this),this._cards.push(c)}var _=r-210-105,u=new Phaser.BitmapText(this.game,0,0,"FontBig","GET PLAYER",t.BIG_FONT_SIZE,"center");u.anchor.set(.5,.4),u.tint=3785979,u.position.set(a,Math.max(n-410,.5*_)),this.add(u),u=new Phaser.BitmapText(this.game,0,0,"FontSmall","FIND 3 TO UNLOCK",t.SMALL_FONT_SIZE,"center"),u.anchor.set(.5,.4),u.position.set(a,Math.max(n-346,.8*_)),this.add(u)}return __extends(i,e),i.prototype.setCard=function(t,e,i,s){this._cards[t].setCard(e,i,s)},i.prototype.reset=function(){var e=Phaser.ArrayUtils.shuffle(Phaser.ArrayUtils.shuffle([0,1,2,3,4,5,6,7,8])),s=FootballStar.Global.playerStats.cardsForPrizePlayThisDay;s.length<3&&(s=s.slice(0,1));for(var a=0,n=0;3>n;n++)for(var o=0;3>o;o++,a++){var r=n>=s.length;if(r){var h=n-s.length;this.setCard(e[a],i.COIN_IDX+h,!0,""+i.COIN_VALUES[h])}else{var l=s[n];this.setCard(e[a],l,!1,t.PLAYERS[l])}}this._gameResult={},this._blocked=!1},i.prototype.onCard=function(e){if(!this._blocked&&(e.flipped=!0,Utils.AudioUtils.playSound("card_flip"),"undefined"==typeof this._gameResult[e.id]?this._gameResult[e.id]=1:++this._gameResult[e.id],3===this._gameResult[e.id])){this._blocked=!0;var s=e.id>=i.COIN_IDX;FootballStar.Global.playerStats.cardUnlockedInPrizePlay=-1,s?FootballStar.Global.playerStats.totalCoins+=i.COIN_VALUES[e.id-i.COIN_IDX]:(FootballStar.Global.playerStats.cards[e.id]=!0,FootballStar.Global.playerStats.cardUnlockedInPrizePlay=e.id,t.Stats.removeCardFromDailyPrizePlayList(e.id)),this.endGame(e.id)}},i.prototype.endGame=function(t){for(var e=0;e<this._cards.length;e++){var i=this._cards[e];i.id===t&&this._blinkGourp.add(i)}var s=this.game.add.tween(this._blinkGourp).to({alpha:0},600,function(t){var e=600*t;return e%200>100?1:0},!0,500);s.onComplete.add(function(){for(var t=this._blinkGourp.length-1;t>=0;t--)this.add(this._blinkGourp.getAt(t));this.game.time.events.add(1e3,function(){this.onPrizePlayEnded.dispatch()},this)},this)},i.COIN_VALUES=[50,100,150],i.COIN_IDX=1e3,i}(t.ScreenBase);t.ScreenPrizePlay=e}(FBUI||(FBUI={}));var FBUI;!function(t){var e=function(e){function i(i,s){e.call(this,i,s),this.onClose=new Phaser.Signal,this.onPrizePlay=new Phaser.Signal;var a=i.width/2,n=this.game.height/2,o=new Phaser.BitmapText(this.game,0,0,"FontBig","WIN A NEW\nMAN CITY\nPLAYER",t.BIG_FONT_SIZE,"center");o.anchor.set(.5,.4),o.position.set(a,n-150),this.add(o),this._title=o,this._prize=new t.ButtonWithText(this.game,"Prize","UI","button_unlock",!1,null,null,"button_unlock_off"),this._prize.position.set(a,n+150),this._prize.textOffset=310,this._prize.text=""+FootballStar.Gameplay.COINS_FOR_PRIZE_PLAY,this._prize.onClick.add(this.onPrizePlayBtn,this),this.add(this._prize),this._close=new UI.Button(i,"Close","UI","x"),this._close.onClick.add(this.onCloseBtn,this),this._close.position.set(i.width-70,58),this.add(this._close)}return __extends(i,e),i.prototype.onPrizePlayBtn=function(){FootballStar.Global.playerStats.totalCoins-=FootballStar.Gameplay.COINS_FOR_PRIZE_PLAY,this.onPrizePlay.dispatch()},i.prototype.onCloseBtn=function(){this.onClose.dispatch()},i}(t.ScreenBase);t.ScreenPrizePlayAsk=e}(FBUI||(FBUI={}));var FBUI;!function(t){var e=function(e){function i(i,s){e.call(this,i,s),this.onClose=new Phaser.Signal,this.onContinue=new Phaser.Signal;var a=i.width/2,n=this.game.height/2,o=new Phaser.BitmapText(this.game,0,0,"FontBig","YOU WON",t.BIG_FONT_SIZE,"center");o.anchor.set(.5,.4),o.position.set(a,n-250),this.add(o),this._title=o,this._card=i.add.sprite(a,n,"UI",0,this),this._card.anchor.set(.5),this._continue=new UI.Button(this.game,"Continue","UI","button_continue"),this._continue.position.set(a,n+250),this._continue.onClick.add(this.onContinueBtn,this),this.add(this._continue),this._close=new UI.Button(i,"Close","UI","x"),this._close.onClick.add(this.onCloseBtn,this),this._close.position.set(i.width-70,58),this.add(this._close)}return __extends(i,e),i.prototype.reset=function(){this._card.frameName=t.PLAYERS[FootballStar.Global.playerStats.cardUnlockedInPrizePlay],FootballStar.Global.playerStats.cardUnlockedInPrizePlay=-1},i.prototype.onContinueBtn=function(){this.onContinue.dispatch()},i.prototype.onCloseBtn=function(){this.onClose.dispatch()},i}(t.ScreenBase);t.ScreenPrizePlayWon=e}(FBUI||(FBUI={}));var FBUI;!function(t){var e=function(e){function i(i,s){e.call(this,i,s,!1),this.onShare=new Phaser.Signal,this.onOK=new Phaser.Signal;var a=i.width/2,n=a-242,o=a+242,r=this.game.height/2,h=i.add.sprite(a,r,"UI","bila",this);h.width=578,h.height=768,h.anchor.set(.5);var l=i.add.sprite(a,r+262,"UI","modra",this);l.width=578,l.height=122,l.anchor.set(.5,0);var c=i.add.sprite(a,r-300,"UI","logo_mancity",this);c.anchor.set(.5);var _=new Phaser.BitmapText(this.game,0,0,"FontBig","NICE JOB!",t.BIG_FONT_SIZE,"center");_.anchor.set(.5,.42),_.tint=14406124,_.position.set(a+2,r-202+2),this.add(_),this._nice=new Phaser.BitmapText(this.game,0,0,"FontBig","NICE JOB!",t.BIG_FONT_SIZE,"center"),this._nice.anchor.set(.5,.42),this._nice.tint=47871,this._nice.position.set(a,r-202),this.add(this._nice);var u=r-85,p=0;this._bar=new t.Bar(i,this,"pasek_bg","pasek_yellow"),p=a-this._bar.width/2-12,this._bar.position.set(p,u);var d=i.add.sprite(this._bar.width+2,0,"UI","pohar");this._bar.addChild(d),d.anchor.set(.5),this._trophy=d,this._leagueName=new Phaser.BitmapText(i,p,u-38,"FontSmall","",t.RESULTS_FONT_SIZE_SMALL,"left"),this._leagueName.anchor.set(0,.42),this._leagueName.tint=12566463,this.add(this._leagueName),this._progress=new Phaser.BitmapText(i,p+this._bar.width+d.width/2,u-38,"FontSmall","/",t.RESULTS_FONT_SIZE_SMALL,"right"),this._progress.anchor.set(1,.42),this._progress.tint=12566463,this.add(this._progress),this._coinsValue=new t.TextWithIcon(i,this,"money","0",0);var f=this._coinsValue.text;f.font="FontBig",f.tint=12566463,f.fontSize=t.RESULTS_FONT_SIZE_SMALL,f.anchor.y=.4,this._coinsValue.icon.scale.set(.5),this._coinsValue.space=5,this._coinsValue.setPositions(),this._coinsValue.position.set(p+this._bar.width,u+38),this._standardLabel=this.createText("STANDARD SHOTS",1),this._standardLabel.position.set(n,r+6),this._standardValue=this.createText("0",2),this._standardValue.position.set(o,r+6),this._perfectLabel=this.createText("PERFECT SHOTS",1),this._perfectLabel.position.set(n,r+66),this._perfectValue=this.createText("0",2),this._perfectValue.position.set(o,r+66),this._line=i.add.sprite(a,r+113,"UI","line",this),this._line.anchor.set(.5),this._totalLabel=this.createText("TOTAL SCORE",1),this._totalLabel.position.set(n,r+158),this._totalLabel.fontSize=t.RESULTS_FONT_SIZE_BIG,this._totalLabel.tint=178683,this._totalValue=this.createText("0",2),this._totalValue.position.set(o,r+158),this._totalValue.fontSize=t.RESULTS_FONT_SIZE_BIG,this._totalCoinsLabel=this.createText("COINS",1),this._totalCoinsLabel.position.set(n,r+214),this._totalCoinsValue=new t.TextWithIcon(i,this,"money","0",2),f=this._totalCoinsValue.text,f.font="FontBig",f.tint=0,f.fontSize=t.RESULTS_FONT_SIZE,f.anchor.y=.4,this._totalCoinsValue.space=25,this._totalCoinsValue.setPositions(),this._totalCoinsValue.position.set(o,r+214);var m=r+326;this._share=new UI.Button(i,"Share","UI","button_share",!1,null,null,"button_share_off"),this._share.position.set(a-145,m),this._share.onClick.add(this.onShareBtn,this),this.add(this._share),this._ok=new UI.Button(i,"OK","UI","button_ok",!1,null,null,"button_ok_off"),this._ok.position.set(a+145,m),this._ok.onClick.add(this.onOKBtn,this),this.add(this._ok)}return __extends(i,e),i.prototype.createText=function(e,i){var s=new Phaser.BitmapText(this.game,0,0,"FontBig",e,t.RESULTS_FONT_SIZE,1===i?"left":"right");return s.anchor.set(1===i?0:1,.42),1===i?s.tint=12566463:s.tint=0,this.add(s),s},i.prototype.setBarPercent=function(e,i){var s=e/i;this._bar.percent=s,this._trophy.frameName=FootballStar.Global.playerStats.level<t.LEVELS.length-1?"pohar":"money",this._progress.text=e+"/"+i,this._leagueName.text=t.LEVEL_NAMES[FootballStar.Global.playerStats.level]},Object.defineProperty(i.prototype,"standard",{set:function(t){this._standardValue.text=""+t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"perfect",{set:function(t){this._perfectValue.text=""+t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"total",{set:function(t){this._totalValue.text=""+t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"coins",{set:function(t){this._coinsValue.setText("+"+25*(FootballStar.Global.playerStats.level+1)),this._totalCoinsValue.setText(t)},enumerable:!0,configurable:!0}),i.prototype.onShareBtn=function(){this.onShare.dispatch()},i.prototype.onOKBtn=function(){this.onOK.dispatch()},Object.defineProperty(i.prototype,"buttonsEnabled",{set:function(t){this._share.enabled=t,this._ok.enabled=t},enumerable:!0,configurable:!0}),i}(t.ScreenBase);t.ScreenResults=e}(FBUI||(FBUI={}));var FBUI;!function(t){var e=function(t){function e(e,i){t.call(this,e,i)}return __extends(e,t),e}(t.ScreenBase);t.ScreenSkills=e}(FBUI||(FBUI={}));var FBUI;!function(t){var e=function(e){function i(i,s){e.call(this,i,s),this.onPlayers=new Phaser.Signal,this.onSkills=new Phaser.Signal,this._coin=new t.TextWithIcon(i,this,"money",0,0),this._coin.position.set(35,58),this._coinsTween=i.add.tween(this._coin.scale).to({x:1.1,y:1.1},75,Helper.Easing.halfSin,!1),this._coinValue=FootballStar.Global.playerStats.totalCoins,this.coins=this._coinValue,this._skills=new UI.Button(i,"Skills","UI","button_skills",!1,null,null,"button_skills_off"),this._skills.position.set(i.width-126,58),this._skills.onClick.add(this.onSkillsButton,this),this._skills.enabled=!1,this._skills.visible=!1,this._players=new UI.Button(i,"Players","UI","button_players",!1,null,null,"button_players_off"),this._players.position.set(i.width-126,58),this._players.onClick.add(this.onPlayersButton,this)}return __extends(i,e),Object.defineProperty(i.prototype,"coins",{set:function(t){this._coin.setText(t),this._coin.x=35+this._coin.labelWidth/2,this._coinsTween.isRunning||t===this._coinValue||(this._coinValue=t,this._coinsTween.start())},enumerable:!0,configurable:!0}),i.prototype.onPlayersButton=function(){this.onPlayers.dispatch()},i.prototype.onSkillsButton=function(){this.onSkills.dispatch()},i.prototype.enablePlayers=function(t){this._players.enabled=t},Object.defineProperty(i.prototype,"enableSkills",{set:function(t){},enumerable:!0,configurable:!0}),i.prototype.setVisible=function(t,e,i){this._coin.visible=t,this._players.visible=i},i}(Phaser.Group);t.TopUI=e}(FBUI||(FBUI={}));var FBUI;!function(t){var e=function(){function e(t){this._isOn=!1,this._screens={},this._currentScreen=null,this._game=t,this._world=t.world,this._hiddenGroup=new Phaser.Group(t,this._world),this._hiddenGroup.position.set(0,1e4),this._hiddenGroup.visible=!1}return Object.defineProperty(e.prototype,"isOn",{get:function(){return this._isOn},enumerable:!0,configurable:!0}),e.prototype.show=function(t){null!==this._currentScreen&&this.hide();var e=this.getScreen(t);return this._world.add(e),this._currentScreen=e,this._isOn=!0,e},e.prototype.hide=function(){null!==this._currentScreen&&(this._hiddenGroup.add(this._currentScreen),this._isOn=!1,this._currentScreen=null)},e.prototype.getScreen=function(e){var i=this._screens[e];if("undefined"==typeof i)switch(e){case"DailyCoin":i=new t.ScreenDailyCoin(this._game,null),this._screens.DailyCoin=i;break;case"Onboarding":i=new t.ScreenOnboarding(this._game,null),this._screens.Onboarding=i;break;case"Players":i=new t.ScreenPlayers(this._game,null),this._screens.Players=i;break;case"PrizePlay":i=new t.ScreenPrizePlay(this._game,null),this._screens.PrizePlay=i;break;case"Result":i=new t.ScreenResults(this._game,null),this._screens.Results=i;break;case"Skills":i=new t.ScreenSkills(this._game,null),this._screens.Skills=i;break;case"PrizePlayAsk":i=new t.ScreenPrizePlayAsk(this._game,null),this._screens.PrizePlayAsk=i;break;case"PrizePlayWon":i=new t.ScreenPrizePlayWon(this._game,null),this._screens.PrizePlayWon=i}return i},e.prototype.getCurrentScreen=function(){return this._currentScreen},e.prototype.getCurrentScreenName=function(){for(var t in this._screens)if(this._screens[t]===this._currentScreen)return t;return null},e}();t.UIManager=e}(FBUI||(FBUI={}));var FootballStar;!function(t){var e=function(){function t(){}return t.AUDIO_JSON={resources:["assets\\sfx\\Sfx.ogg","assets\\sfx\\Sfx.m4a"],spritemap:{fail:{start:0,end:2.839546485260771,loop:!1},head:{start:4,end:5.08,loop:!1},kick:{start:7,end:7.88,loop:!1},perfect:{start:9,end:13.84,loop:!1},start:{start:15,end:18,loop:!1},button:{start:19,end:19.765034013605444,loop:!1},card_flip:{start:21,end:21.46750566893424,loop:!1},coins:{start:23,end:23.22294784580499,loop:!1},coins_multiple:{start:25,end:26.358843537414966,loop:!1},fan1:{start:28,end:32.597528344671204,loop:!1},fan2:{start:34,end:39.40736961451247,loop:!1},fan3:{start:41,end:43.0375283446712,loop:!1}}},t}();t.Sounds=e}(FootballStar||(FootballStar={}));var UI;!function(t){var e=function(t){function e(e,i,s,a,n,o,r,h){t.call(this,e),this.onClick=new Phaser.Signal,this.onDown=new Phaser.Signal,this.scaleOnOver=new Phaser.Point(1,1),this.scaleOnDown=new Phaser.Point(1,1),this.offsetOnOver=new Phaser.Point(0,0),this.offsetOnDown=new Phaser.Point(0,0),this._tinted=!1,this._downTint=8421504,this._overTint=0,this._disabledTint=8421504,this._savePosition=new Phaser.Point,this._saveScale=new Phaser.Point,this._over=!1,this._down=!1;var l=new Phaser.Button(e,0,0,s);this.add(l),this._button=l,void 0!==n&&n&&(this._tinted=!0),void 0===o&&(o=a+"Down",(this._tinted||!e.cache.getFrameByName(s,o))&&(o=null)),void 0===r&&(r=a+"Over",(this._tinted||!e.cache.getFrameByName(s,r))&&(r=null)),void 0===h&&(h=a+"Over",(this._tinted||!e.cache.getFrameByName(s,h))&&(h=null)),this._frame=a,this._frameOver=r,this._frameDown=o,this._frameDisabled=h,l.setFrames(r,a,o,a),l.anchor.setTo(.5,.5),l.name=i,l.onInputOver.add(this.overEvent,this),l.onInputOut.add(this.outEvent,this),l.onInputDown.add(this.downEvent,this),l.onInputUp.add(this.upEvent,this),this.scaleOnOver.set(1.02,1.02),this.scaleOnDown.set(.95,.95)}return __extends(e,t),Object.defineProperty(e.prototype,"button",{get:function(){return this._button},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._button.anchor},enumerable:!0,configurable:!0}),e.prototype.setHitArea=function(t){this._button.hitArea=t},e.prototype.setTint=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=8421504),this._downTint=t,this._overTint=e,this._disabledTint=i},Object.defineProperty(e.prototype,"enabled",{get:function(){return this._button.inputEnabled},set:function(t){this._button.inputEnabled=t,t?(this._button.setFrames(this._frameOver,this._frame,this._frameDown,this._frame),this._button.tint=16777215):null!==this._frameDisabled?this._button.setFrames(this._frameOver,this._frameDisabled,this._frameDown,this._frameDisabled):this._button.tint=this._disabledTint},enumerable:!0,configurable:!0}),e.prototype.overEvent=function(){this.setButton(!0,this._down),this.overAction()},e.prototype.outEvent=function(){this.setButton(!1,!1),this.outAction()},e.prototype.downEvent=function(){this.setButton(this._over,!0),this.downAction(),this.onDown.dispatch(this)},e.prototype.upEvent=function(t,e,i){this.setButton(this._over,!1),this.upAction(),i&&this.onClick.dispatch(this)},e.prototype.setButton=function(t,e){this._over||this._down||(this._saveScale.copyFrom(this._button.scale),this._savePosition.copyFrom(this._button.position)),this._down=e,this._over=t,e?(Phaser.Point.multiply(this._saveScale,this.scaleOnDown,this._button.scale),Phaser.Point.add(this._button.position,this.offsetOnDown,this._button.position),this._tinted&&(this._button.tint=this._downTint)):t?(Phaser.Point.multiply(this._saveScale,this.scaleOnOver,this._button.scale),Phaser.Point.add(this._button.position,this.offsetOnOver,this._button.position),this._tinted&&(this._button.tint=this._overTint)):(this._button.scale.copyFrom(this._saveScale),this._button.position.copyFrom(this._savePosition),this._tinted&&(this._button.tint=16777215))},e.prototype.overAction=function(){},e.prototype.outAction=function(){},e.prototype.downAction=function(){Utils.AudioUtils.playSound("button")},e.prototype.upAction=function(){},e}(Phaser.Group);t.Button=e}(UI||(UI={}));var UI;!function(t){var e=function(t){function e(e,i,s,a,n,o,r,h){t.call(this,e,i,s,a,o,r,h),this._changeOnDown=!1,this._checkFramePosition=new Phaser.Point,this._checked=!1;var l=n+"On";!this.game.cache.getFrameByName(s,l),this._frameChecked=l;var c=n+"Off";this.game.cache.getFrameByName(s,l)||(c=null),this._frameUnchecked=c;var _=new Phaser.Sprite(e,0,0,s);_.anchor.set(.5,.5),this.addChild(_),this._checkSprite=_,this.checked=!1}return __extends(e,t),Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(t){if(this._checked=t,t)this._checkSprite.frameName=this._frameChecked,this._checkSprite.visible=!0;else{var e=null!==this._frameUnchecked;e&&(this._checkSprite.frameName=this._frameUnchecked),this._checkSprite.visible=e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeOnDown",{get:function(){return this._changeOnDown},set:function(t){this._changeOnDown=t},enumerable:!0,configurable:!0}),
Object.defineProperty(e.prototype,"checkSprite",{get:function(){return this._checkSprite},enumerable:!0,configurable:!0}),e.prototype.setCheckPosition=function(t,e){this._checkSprite.position.set(t,e)},e.prototype.downEvent=function(){this.setButton(this._over,!0),this._changeOnDown&&(this.checked=!this.checked),this.downAction(),this.onDown.dispatch(this,this._checked)},e.prototype.upEvent=function(t,e,i){this.setButton(this._over,!1),this.upAction(),i&&(this._changeOnDown||(this.checked=!this.checked),this.onClick.dispatch(this,this._checked))},e}(t.Button);t.CheckBox=e}(UI||(UI={}));var UI;!function(t){var e=function(t){function e(e,i,s,a,n,o){t.call(this,e,i,s,a,o,n),this._toggled=!1,this._changeOnDown=!0,this._frameToggled=n,this._frameUntoggled=a,this.toggled=this._toggled}return __extends(e,t),Object.defineProperty(e.prototype,"toggled",{get:function(){return this._toggled},set:function(t){this._toggled=t,t?(this._button.setFrames(null,this._frameToggled,this._frameToggled,this._frameToggled),this._changeOnDown&&(this._button.frameName=this._frameToggled)):(this._button.setFrames(null,this._frameUntoggled,this._frameUntoggled,this._frameUntoggled),this._changeOnDown&&(this._button.frameName=this._frameUntoggled))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeOnDown",{get:function(){return this._changeOnDown},set:function(t){this._changeOnDown=t},enumerable:!0,configurable:!0}),e.prototype.downEvent=function(){this.setButton(this._over,!0),this._changeOnDown&&(this.toggled=!this.toggled),this.downAction(),this.onDown.dispatch(this,this._toggled)},e.prototype.upEvent=function(t,e,i){this.setButton(this._over,!1),this.upAction(),i&&(this._changeOnDown||(this.toggled=!this.toggled),this.onClick.dispatch(this,this._toggled))},e}(t.Button);t.Toggle=e}(UI||(UI={}));var UI;!function(t){!function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP=1]="TOP",t[t.TOP_RIGHT=2]="TOP_RIGHT",t[t.LEFT=3]="LEFT",t[t.CENTER=4]="CENTER",t[t.RIGHT=5]="RIGHT",t[t.BOTTOM_LEFT=6]="BOTTOM_LEFT",t[t.BOTTOM=7]="BOTTOM",t[t.BOTTOM_RIGHT=8]="BOTTOM_RIGHT"}(t.eGroupPlacement||(t.eGroupPlacement={}));var e=(t.eGroupPlacement,function(t){function e(e,i){void 0===i&&(i=null),t.call(this,e,i),this._groups=[]}return __extends(e,t),e.prototype.hasGroupAt=function(t){var e=this._groups[t];return void 0!==e&&null!==e},e.prototype.groupAt=function(t,e){void 0===e&&(e=!0);var i=this._groups[t];return void 0!==i&&null!==i||!e||(i=new Phaser.Group(this.game,this),i.fixedToCamera=!0,this._groups[t]=i,this.arrangeGroup(t)),i},e.prototype.arrangeGroups=function(){for(var t=0;t<this._groups.length;t++){var e=this._groups[t];void 0!==e&&null!==e&&this.arrangeGroup(t)}},e.prototype.arrangeGroup=function(t){var e=t%3,i=Math.floor(t/3),s=this._groups[t];if(void 0!==s&&null!==s){var a=this.game.width*e/2,n=this.game.height*i/2;s.cameraOffset.set(a,n)}},e}(Phaser.Group));t.UILayer=e}(UI||(UI={}));var FootballStar;!function(t){var e=function(t){function e(e,i,s,a,n){t.call(this,e,i,s,a),void 0!==n&&this.setAnchoredFrame(n)}return __extends(e,t),e.prototype.setAnchoredFrame=function(t){if("string"==typeof this.key){var e=null;"string"==typeof t?(this.frameName=t,e=this.game.cache.getFrameByName(this.key,t)):(this.frame=t,e=this.game.cache.getFrameByIndex(this.key,t)),void 0!==e.anchorX&&void 0!==e.anchorY&&this.anchor.setTo(e.anchorX,e.anchorY)}},e}(Phaser.Sprite);t.AnchoredSprite=e}(FootballStar||(FootballStar={}));var FootballStar;!function(t){var e=function(e){function i(i,s){e.call(this,i,s),this._grass=[],this._rail=null,this._tribuneStep=0,this._grassStep=0,this._railStep=0,this._bg=i.add.sprite(0,0,"Sprites","bg",this),this._bg.width=640,this._tribune=new t.ParalaxLayer(i,this,"tribuna",1),this._tribune.y=775,this.createGrass(),i.height<=640&&this.createRail()}return __extends(i,e),i.prototype.createGrass=function(){for(var e=0;e<this._grass.length;e++){var i=this._grass[e];this.remove(i),i.destroy()}var s=764;this._grass=[],this._grass[0]=new t.ParalaxLayer(this.game,this,"travicka",0),this._grass[0].y=s,s+=this._grass[0].height-70;for(var a=this.game.height-640,n=(Math.floor(a*(1-.197))+70,this.game.cache.getFrameByName("Sprites","GrassBottom").height),o=Math.ceil(a/n),e=0;o>e;e++)this._grass[e+1]=new t.ParalaxLayer(this.game,this,"GrassBottom",0),this._grass[e+1].y=s,s+=n},i.prototype.createRail=function(){this._rail=new t.ParalaxLayer(this.game,this,"zabradli",1),this._rail.y=640},i.prototype.onResize=function(t){this._bg.y=-(t-640),this._bg.height=t,this.createGrass(),this.move()},i.prototype.move=function(){var e=t.Gameplay.PARALAX_SPEED*this.game.time.physicsElapsed;this._tribuneStep=(this._tribuneStep+.3*e)%640,this._tribune.move(this._tribuneStep),this._grassStep=(this._grassStep+e)%640;for(var i=0;i<this._grass.length;i++)this._grass[i].move(this._grassStep);null!==this._rail?this.game.height<=640?(this._rail.visible=!0,this._railStep=(this._railStep+1.25*e)%640,this._rail.move(this._railStep)):this._rail.visible=!1:this.game.height<=640&&this.createRail()},i}(Phaser.Group);t.Background=e}(FootballStar||(FootballStar={}));var FootballStar;!function(t){var e=function(e){function i(s,a,n){e.call(this,s,a),this._shadow=n,this._ball=s.add.sprite(0,0,"Sprites","balon",this),this._ball.anchor.set(.5,.5),this._swoosh=new t.AnchoredSprite(s,0,0,"Sprites","rychlost1"),this._swoosh.animations.add("swoosh",i.ANIM_SWOOSH,12,!0),this.add(this._swoosh),this._swoosh.visible=!1,this.position.set(800,-100)}return __extends(i,e),i.prototype.getAngle=function(){return this._ball.angle},i.prototype.setAngle=function(t){this._ball.angle=t},Object.defineProperty(i.prototype,"speed",{get:function(){return this._speed},set:function(t){this._speed=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"angularSpeed",{get:function(){return this._angularSpeed},set:function(t){this._angularSpeed=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"yVelocity",{get:function(){return this._yVelocity},set:function(t){this._yVelocity=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"state",{get:function(){return this._ballState},set:function(t){this._ballState=t},enumerable:!0,configurable:!0}),i.prototype.setSwoosh=function(t){this._swoosh.visible=t,this._swoosh.exists=t,t?this._swoosh.animations.play("swoosh"):this._swoosh.animations.currentAnim.stop()},i.prototype.setSwooshAngle=function(e,i){this._swoosh.angle=Phaser.Math.radToDeg(Math.atan2(i,e)),this._swoosh.scale.x=e/t.Gameplay.BALL_X_VEL/3},i.prototype.updateShadowPos=function(){this._shadow.x=this.x,this._shadow.scale.x=.5*this.y/t.Gameplay.FLOOR_LEVEL},Object.defineProperty(i.prototype,"bonus",{set:function(t){},enumerable:!0,configurable:!0}),i.prototype.move=function(e){if(3!==this._ballState&&4!==this._ballState){var i=this.game.time.physicsElapsed,s=0===this._ballState||2===this._ballState?-1:1,a=this._speed*i;if(this.x+=a*s,0===this._ballState||2===this._ballState){var n=e.getHeight(this.id,a);this.y=t.Gameplay.FLOOR_LEVEL+(n-t.Gameplay.BALL_Y_LIMIT)-t.Gameplay.BALL_RADIUS}else 1===this._ballState&&(this._yVelocity+=t.Gameplay.GRAVITY*i,this.y+=this._yVelocity*i,this.y>t.Gameplay.FLOOR_LEVEL-t.Gameplay.BALL_RADIUS&&(this.y=t.Gameplay.FLOOR_LEVEL-t.Gameplay.BALL_RADIUS,this._yVelocity*=-t.Gameplay.BALL_ELASTICITY),this.setSwooshAngle(this._speed,this._yVelocity));var o=this.getAngle();this.y>=496&&(this._angularSpeed=Phaser.Math.radToDeg(this._speed/64)),this.setAngle((o+this._angularSpeed*s*this.game.time.physicsElapsed)%360),this.updateShadowPos()}},i.ANIM_SWOOSH=["rychlost1","rychlost2"],i}(Phaser.Group);t.Ball=e}(FootballStar||(FootballStar={}));var FootballStar;!function(t){var e=function(e){function i(i,s){e.call(this,i,s),this._spot=new t.AnchoredSprite(i,0,0,"Sprites","ballpoint"),this._circle=new t.AnchoredSprite(i,0,0,"Sprites","rastr"),this.add(this._spot),this.add(this._circle),this.position.set(t.Gameplay.KICK_SPOT_CENTER_X,t.Gameplay.FLOOR_LEVEL-t.Gameplay.KICK_SPOT_CENTER_Y)}return __extends(i,e),i.prototype.setPosition=function(t){var e=t.y;if(e>=0)if(t.x<300)this.y=e;else{var i=(1-Phaser.Math.clamp((t.x-300)/300,0,1))/2+.5;this.y=Phaser.Math.linear(this.y,e,i)}var s=1+Math.max(0,t.x-this.x)/1280;this._circle.scale.set(s,s),this._circle.angle=(this._circle.angle+10*this.game.time.physicsElapsed)%360},i}(Phaser.Group);t.Crosshair=e}(FootballStar||(FootballStar={}));var FootballStar;!function(t){var e=function(t){function e(e,i,s){t.call(this,e,0,0,i,s),this.onFadeFinished=new Phaser.Signal,this._fadeRunning=!1,this.width=e.width,this.height=e.height,this.exists=!1,this.visible=!1}return __extends(e,t),Object.defineProperty(e.prototype,"fade",{set:function(t){this.alpha=t,this.visible=t>0},enumerable:!0,configurable:!0}),e.prototype.isRunning=function(){return this._fadeRunning},e.prototype.fadeIn=function(t,i){if(void 0===t&&(t=e.FADE_TIME_IN),void 0===i&&(i=0),!this._fadeRunning){this.alpha=0,this.exists=!0,this._fadeRunning=!0;var s=this.game.add.tween(this);s.to({alpha:1},t,Helper.Easing.halfSin,!0,i),s.onComplete.addOnce(function(){this.exist=!1,this.visible=!1,this._fadeRunning=!1,this.onFadeFinished.dispatch(!0)},this)}},e.prototype.fadeOut=function(t,i){if(void 0===t&&(t=e.FADE_TIME_OUT),void 0===i&&(i=0),!this._fadeRunning){this.alpha=0,this.exists=!0,this.visible=!0,this._fadeRunning=!0;var s=this.game.add.tween(this);s.to({alpha:1},t,Phaser.Easing.Sinusoidal.Out,!0,i),s.onComplete.addOnce(function(){this.exist=!1,this._fadeRunning=!1,this.onFadeFinished.dispatch(!1)},this)}},e.FADE_TIME_IN=250,e.FADE_TIME_OUT=250,e}(Phaser.Sprite);t.Fader=e}(FootballStar||(FootballStar={}));var FBUI;!function(t){var e=function(t){function e(e,i,s,a,n,o){void 0===n&&(n=2),t.call(this,e,0,0,"UI",s),i.add(this),"undefined"!=typeof o&&(this.width=o),this.anchor.y=.5,this._innerWidth=this.width-2*n,this._innerFill=new Phaser.Sprite(e,n,0,"UI",a),this._innerFill.anchor.y=.5,this._innerFill.width=0,this.addChild(this._innerFill)}return __extends(e,t),Object.defineProperty(e.prototype,"percent",{set:function(t){this._innerFill.width=Math.floor(this._innerWidth*t)},enumerable:!0,configurable:!0}),e}(Phaser.Sprite);t.Bar=e}(FBUI||(FBUI={}));var FBUI;!function(t){var e=function(e){function i(){e.apply(this,arguments),this._text=null}return __extends(i,e),i.prototype.createText=function(e){this._text=new Phaser.BitmapText(this.game,0,0,"FontSmall",e,t.SMALL_FONT_SIZE,"left"),this._text.anchor.set(0,.5),this.button.addChild(this._text)},Object.defineProperty(i.prototype,"textOffset",{set:function(t){null===this._text&&this.createText(""),this._text.x=-this._button.width*this._button.anchor.x+t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{set:function(t){null===this._text?this.createText(t):this._text.text=t},enumerable:!0,configurable:!0}),i}(UI.Button);t.ButtonWithText=e}(FBUI||(FBUI={}));var FBUI;!function(t){var e=function(e){function i(i,s){e.call(this,i,s),this._bg=i.add.sprite(0,0,"UI","cedule",this),this._bg.anchor.set(.5,1),this._level=i.add.sprite(0,-175,"UI","text_Park_Kickabout",this),this._level.anchor.set(.5),this._bar=new t.Bar(this.game,this,"pasekempty_small","pasek_small"),this._bar.position.set(-76,-120),this._trophy=i.add.sprite(110,-120,"UI",FootballStar.Global.playerStats.level<t.LEVELS.length-1?"pohar":"money",this),this._trophy.anchor.set(.5),this._percent=new Phaser.BitmapText(i,-82,-120,"FontSmall","0%",t.SMALL_FONT_SIZE,"right"),this._percent.anchor.set(1,.42),this.add(this._percent),this._score=new Phaser.BitmapText(i,0,-68,"FontBig","0",t.TABLE_FONT_SIZE,"center"),this._score.anchor.set(.5,.3),this.add(this._score),this._best=new Phaser.BitmapText(i,0,-26,"FontSmall","BEST 0",t.SMALL_FONT_SIZE,"center"),this._best.anchor.set(.5,.3),this._best.tint=16765971,this.add(this._best)}return __extends(i,e),i.prototype.setLevel=function(e){this._level.frameName=e,FootballStar.Global.playerStats.level>=t.LEVELS.length-1&&(this._trophy.frameName="money")},Object.defineProperty(i.prototype,"percent",{set:function(t){t=Phaser.Math.clamp(t,0,1),this._percent.text=Math.floor(100*t)+"%",this._bar.percent=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"score",{set:function(t){this._score.text=""+t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"best",{set:function(t){this._best.text="BEST "+t},enumerable:!0,configurable:!0}),i}(Phaser.Group);t.Tabule=e}(FBUI||(FBUI={}));var FBUI;!function(t){var e=function(e){function i(i,s,a,n,o){void 0===a&&(a=null),void 0===n&&(n=""),void 0===o&&(o=0),e.call(this,i,s),this._space=10,this._align=0,this._align=o,this._icon=i.add.sprite(0,0,"UI",a,this),this._icon.anchor.y=.5,this._text=new Phaser.BitmapText(i,0,0,"FontSmall","",t.SMALL_FONT_SIZE),this._text.align="left",this._text.anchor.set(0,.3),this.add(this._text),this.setText(n)}return __extends(i,e),Object.defineProperty(i.prototype,"icon",{get:function(){return this._icon},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"space",{get:function(){return this._space},set:function(t){this._space=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelWidth",{get:function(){return this._icon.width+this._space+this._text.textWidth},enumerable:!0,configurable:!0}),i.prototype.setIcon=function(t){this._icon.frameName=t,this.setPositions()},i.prototype.setText=function(t){"number"==typeof t&&(t=""+t),this._text.text=t,this.setPositions()},i.prototype.setPositions=function(){var t=this.labelWidth,e=2===this._align?-t:0===this._align?-t/2:0;e=Math.floor(e),this._icon.x=e,e+=this._icon.width,e+=this._space,this._text.x=e},i}(Phaser.Group);t.TextWithIcon=e}(FBUI||(FBUI={}));var FBUI;!function(t){var e=function(e){function i(i,s){e.call(this,i,s),this._texts=[],this._bg=i.add.sprite(0,0,"UI","tma",this),this._bg.anchor.set(.5,1),this._bg.alpha=.85,this._bg.width=i.width,this._bg.height=t.TUTORIAL_HEIGHT,this._icon=i.add.sprite(0,-175,"UI","tutor_pic",this),this._icon.anchor.set(.5),this._texts.push(this.addText("TAP TO PLAY AND ")),this._texts.push(this.addText("KICK")),this._texts.push(this.addText(" THE BALL IN THE KICK ZONE")),this._texts[1].tint=3460088,this.centerTexts()}return __extends(i,e),i.prototype.addText=function(e){var i=new Phaser.BitmapText(this.game,0,0,"FontSmall",e,t.SMALL_FONT_SIZE,"left");return i.anchor.y=.3,this.add(i),i},i.prototype.centerTexts=function(){var t=this._texts[0].textWidth+this._texts[1].textWidth,e=this._texts[2].textWidth;this._texts[0].position.set(-t/2,-85),this._texts[1].position.set(-t/2+this._texts[0].textWidth,-85),this._texts[2].position.set(-e/2,-55)},i}(Phaser.Group);t.TapToPlay=e}(FBUI||(FBUI={}));var FootballStar;!function(t){var e=function(t){function e(e,i,s,a){t.call(this,e,i);var n=e.cache.getFrameByName("Sprites",s),o=e.add.sprite(0,0,"Sprites",s,this);o.anchor.set(0,a),this._part1Crop=new Phaser.Rectangle(0,0,0,n.height),o.crop(this._part1Crop,!1),this._part1=o,o=e.add.sprite(0,0,"Sprites",s,this),o.anchor.set(0,a),this._part2Crop=new Phaser.Rectangle(0,0,0,n.height),o.crop(this._part2Crop,!1),this._part2=o}return __extends(e,t),e.prototype.move=function(t){0>t&&(t+=640);var e=Math.floor(t)%640;this._part1Crop.x=e,this._part1Crop.width=640-e,this._part1.updateCrop(),this._part2Crop.width=e,this._part2.x=640-e,this._part2.updateCrop()},e}(Phaser.Group);t.ParalaxLayer=e}(FootballStar||(FootballStar={}));var FootballStar;!function(t){var e=function(e){function i(t){e.call(this,t,112,i.Y,"Sprites"),this._yVel=0,this._inAir=!1,this._anims={},this.anchor.set(.5,1),this._anims["default"]=this.addAnims("");for(var s=0;s<FBUI.PLAYERS.length;s++){var a=FBUI.PLAYERS[s];this._anims[a]=this.addAnims(a)}this.playAnim("run")}return __extends(i,e),i.prototype.addAnims=function(t){var e={};return e.run=t+"run",this.animations.add(t+"run",this.adjustFrames(t,i.ANIM_RUN),8,!0),e.fall=t+"fall",this.animations.add(t+"fall",this.adjustFrames(t,i.ANIM_FALL),6,!1).onComplete.add(function(t){this.playAnim("fall2")},this),e.fall2=t+"fall2",this.animations.add(t+"fall2",this.adjustFrames(t,i.ANIM_FALL2),4,!0),e.fall_back=t+"fall_back",this.animations.add(t+"fall_back",this.adjustFrames(t,i.ANIM_FALL_BACK),4,!1).onComplete.add(function(t){this.playAnim("fall_back2")},this),e.fall_back2=t+"fall_back2",this.animations.add(t+"fall_back2",this.adjustFrames(t,i.ANIM_FALL_BACK2),2,!0),e.stand=t+"stand",this.animations.add(t+"stand",this.adjustFrames(t,i.ANIM_STAND),6,!0),e.head=t+"head",this.animations.add(t+"head",this.adjustFrames(t,i.ANIM_HEAD),6,!0).onLoop.add(function(){this._inAir=!1},this),e.fail_kick=t+"fail_kick",this.animations.add(t+"fail_kick",this.adjustFrames(t,i.ANIM_FAIL_KICK),12,!1).onComplete.add(function(t){this.playAnim("fall")},this),e.fail_kick2=t+"fail_kick2",this.animations.add(t+"fail_kick2",this.adjustFrames(t,i.ANIM_FAIL_KICK2),12,!1).onComplete.add(function(t){this.playAnim("fall_back")},this),e.kick=t+"kick",this.animations.add(t+"kick",this.adjustFrames(t,i.ANIM_KICK),6,!1).onComplete.add(function(t){this._inAir=!1,this.playAnim("run")},this),e},i.prototype.adjustFrames=function(t,e){if(0===t.length)return e;t+="_";for(var i=[],s=0;s<e.length;s++)i[s]=t+e[s];return i},i.prototype.resetAnim=function(){this.playAnim(this._currantAnim)},i.prototype.playAnim=function(e){this._currantAnim=e;var i=FBUI.PLAYERS[t.Global.playerStats.selectedPlayer];"undefined"==typeof this._anims[i]&&(i="default"),this.animations.play(this._anims[i][e])},i.prototype.fail=function(t,e,s){this.y=i.Y,s?t||e?this.playAnim("fail_kick2"):this.playAnim("fail_kick"):e?this.playAnim("fall_back"):this.playAnim("fail_kick")},i.prototype.kick=function(e){e>=150&&(this.y=t.Gameplay.FLOOR_LEVEL-e+this.height,this._inAir=!0),e>=200?(this.playAnim("head"),Utils.AudioUtils.playSound("head")):(this.playAnim("kick"),Utils.AudioUtils.playSound("kick")),this._yVel=0},i.prototype.move=function(){this._inAir||this.y<i.Y&&(this._yVel+=t.Gameplay.GRAVITY*this.game.time.physicsElapsed*5,this.y+=this._yVel*this.game.time.physicsElapsed,this.y>=i.Y&&(this.y=i.Y,this.playAnim("run")))},i.Y=786,i.ANIM_RUN=["beh1","beh2","beh3","beh2"],i.ANIM_KICK=["kop1"],i.ANIM_FAIL_KICK=["kop1","kop2","kop3","kop3","kop3","kop3"],i.ANIM_FAIL_KICK2=["kop1","kop2","kop3","kop3"],i.ANIM_FALL=["padani1"],i.ANIM_FALL2=["padani2","padani3"],i.ANIM_FALL_BACK=["padani4"],i.ANIM_FALL_BACK2=["padani5","padani6"],i.ANIM_STAND=["stoj"],i.ANIM_HEAD=["hlavicka"],i}(Phaser.Sprite);t.Player=e}(FootballStar||(FootballStar={}));var FootballStar;!function(t){var e=function(t){function e(i){t.call(this,i,i.width/2,e.PERFECT_Y,"Sprites","perfect"),this.anchor.set(.5,.5),this._tweenScale=i.add.tween(this.scale).to({x:.5,y:.5},1500,Phaser.Easing.Linear.None,!1,200),this._tweenScale.onComplete.add(function(){this.visible=!1},this),this._tweenAlphaMoveX=i.add.tween(this).to({alpha:0,x:i.width/2+100},1450,Phaser.Easing.Linear.None,!1,200),this._tweenMoveY=i.add.tween(this).to({y:e.PERFECT_Y-100},1450,Phaser.Easing.Sinusoidal.In,!1,200),this._tweenShout=i.add.tween(this.scale).to({x:1.5,y:1.5},1200,function(t){return Math.abs(Helper.Easing.sinWithExpDecay(t,2,.75))},!1,200),this._tweenShout.onComplete.add(function(){this.visible=!1},this)}return __extends(e,t),e.prototype.show=function(){this.visible=!0,this.scale.set(1,1),this.alpha=1,"perfect"===this.frameName||"missed"===this.frameName?(this.position.set(this.game.width/2,e.PERFECT_Y),this._tweenScale.start(),this._tweenAlphaMoveX.start(),this._tweenMoveY.start()):(this.position.set(this.game.width/2,e.GOAL_Y),this._tweenShout.start())},e.PERFECT_Y=400,e.GOAL_Y=500,e}(Phaser.Sprite);t.Title=e}(FootballStar||(FootballStar={}));var FootballStar;!function(t){var e=function(e){function i(i,s){e.call(this,i,s),this.classType=t.Title,this.createMultiple(5,"Sprites","perfect",!1)}return __extends(i,e),i.prototype.show=function(t){for(var e=0;e<this.length;e++){var i=this.getChildAt(e);if(!i.visible){i.frameName=t,i.show();break}}},i.prototype.hideAll=function(){for(var t=0;t<this.length;t++)this.getChildAt(t).visible=!1},i}(Phaser.Group);t.TitleLayer=e}(FootballStar||(FootballStar={}));var FBUI;!function(t){var e=function(e){function i(s,a){e.call(this,s,0,0,"UI",i.FRAME_BACK),this._flipped=!1,this._value=0,a.add(this),this.anchor.set(.5),this.inputEnabled=!0,this._frontGroup=new Phaser.Group(s,this),this._frontGroup.visible=!1,this._icon=s.add.sprite(0,-37,"UI","money",this._frontGroup),this._icon.anchor.set(.5),this._text=new Phaser.BitmapText(s,0,31,"FontSmall","",t.SMALL_FONT_SIZE,"center"),this._text.anchor.set(.5),this._text.tint=0,this._frontGroup.add(this._text)}return __extends(i,e),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this._text.text="+"+t+"\nCOINS"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"flipped",{get:function(){return this._flipped},set:function(t){this._flipped=t,this.frameName=t?i.FRAME_FRONT:i.FRAME_BACK,this._frontGroup.visible=t,this.inputEnabled=!t},enumerable:!0,configurable:!0}),i.FRAME_BACK="cardback",i.FRAME_FRONT="cardbonus",i}(Phaser.Sprite);t.BonusCard=e}(FBUI||(FBUI={}));var FootballStar;!function(t){var e=function(e){function i(){e.call(this),this._userScale=new Phaser.Point(1,1),this._gameDims=new Phaser.Point,this._forceResize=!0}return __extends(i,e),i.prototype.init=function(){this.input.maxPointers=1,this.stage.disableVisibilityChange=!0,this.calcGameDims(),this.scale.scaleMode=Phaser.ScaleManager.USER_SCALE,this.scale.setGameSize(this._gameDims.x,this._gameDims.y),this.scale.setUserScale(this._userScale.x,this._userScale.y),this.scale.pageAlignHorizontally=!0,this.scale.pageAlignVertically=!0,this.scale.setResizeCallback(this.gameResized,this),this.game.device.desktop||(this.scale.forceOrientation(!0,!1),this.scale.onOrientationChange.add(this.orientationChange,this)),this.androidUnlockAudio()},i.prototype.androidUnlockAudio=function(){this.game.device.android&&this.game.device.chrome&&this.game.device.chromeVersion>=55&&(this.game.sound.touchLocked=!0,this.game.input.touch.addTouchLockCallback(function(){if(this.noAudio||!this.touchLocked||null!==this._unlockSource)return!0;if(this.usingWebAudio){var t=this.context.createBuffer(1,1,22050);this._unlockSource=this.context.createBufferSource(),this._unlockSource.buffer=t,this._unlockSource.connect(this.context.destination),void 0===this._unlockSource.start?this._unlockSource.noteOn(0):this._unlockSource.start(0),"suspended"===this._unlockSource.context.state&&this._unlockSource.context.resume()}return!0},this.game.sound,!0))},i.prototype.create=function(){t.Global.GAMEE&&this.game.onSound(Gamee.Gamee.instance.sound),this.game.state.start("Preloader",!0,!1)},i.prototype.calcGameDims=function(){var e=window.innerWidth,i=window.innerHeight;e>=i&&(e=i*(640/1073));var s=(e+.01)/t.Global.GAME_WIDTH,a=Math.round(i/(e/t.Global.GAME_WIDTH)),n=(i+.01)/a;this._userScale.set(s,n),this._gameDims.set(t.Global.GAME_WIDTH,a)},i.prototype.gameResized=function(t,e){if(!t.incorrectOrientation){var i=this._userScale.x,s=this._userScale.y;this.calcGameDims();var a=this._gameDims,n=this._userScale;if(a.x!==this.game.width||a.y!==this.game.height||Math.abs(n.x-i)>.001||Math.abs(n.y-s)>.001||this._forceResize){this._forceResize=!1,this.scale.setGameSize(a.x,a.y),this.scale.setUserScale(n.x,n.y);var o=this.game.state.getCurrentState();"function"==typeof o.onResize&&o.onResize(a.x,a.y)}}},i.prototype.orientationChange=function(t,e,i){},i}(Phaser.State);t.Boot=e}(FootballStar||(FootballStar={}));var FootballStar;!function(t){var e=function(e){function i(){e.call(this),this._ready=!1}return __extends(i,e),i.prototype.preload=function(){var e="assets/sfx/";if(this.game.device.ie||Phaser.Device.isAndroidStockBrowser()){for(var i in t.Sounds.AUDIO_JSON.spritemap)this.load.audio(i,e+i+".mp3");this.load.audio("Music",e+"ambience.mp3")}else{var s=0;this.game.device.iOS&&(s=.1);var a=0;for(var i in t.Sounds.AUDIO_JSON.spritemap){var n=t.Sounds.AUDIO_JSON.spritemap[i];0!==a&&(n.start-=s),++a}this.load.audiosprite("Sfx",t.Sounds.AUDIO_JSON.resources,null,t.Sounds.AUDIO_JSON),this.load.audio("Music",[e+"ambience.ogg",e+"ambience.m4a"])}e="assets/",this.load.atlas("Sprites",e+"Sprites.png",e+"Sprites.json"),this.load.atlas("UI",e+"UI.png",e+"UI.json"),this.load.xml("FontSmall",e+"fontSmall.xml"),this.load.xml("FontBig",e+"fontBig.xml"),this.load.xml("FontMega",e+"fontMega.xml"),(t.Global.FACEBOOK||t.Global.FB_TEST)&&this.load.image("ShareImg",e+"ShareImg.jpg"),this.load.json("Config",e+"config.json")},i.prototype.loadUpdate=function(){this.setLoadingText(this.load.progress),t.Global.FACEBOOK&&window.FBInstant.setLoadingProgress(this.load.progress)},i.prototype.create=function(){this.cache.addBitmapFontFromImage("FontSmall",null,"UI",this.cache.getXML("FontSmall"),"xml"),this.cache.addBitmapFontFromImage("FontBig",null,"UI",this.cache.getXML("FontBig"),"xml"),this.cache.addBitmapFontFromImage("FontMega",null,"UI",this.cache.getXML("FontMega"),"xml"),this.readConfig();var e=this.add.audio("Music");if(e.volume=.2,Utils.AudioUtils.addMusic("Music",e),this.game.device.ie||Phaser.Device.isAndroidStockBrowser()){Utils.AudioUtils.setSounds(null);for(var i in t.Sounds.AUDIO_JSON.spritemap){var s=this.add.audio(i);s.allowMultiple=!0,Utils.AudioUtils.addSound(i,s)}}else{var a=this.add.audioSprite("Sfx");for(var i in t.Sounds.AUDIO_JSON.spritemap){var n=a.sounds[i];n.allowMultiple=!0}Utils.AudioUtils.setSounds(a)}},i.prototype.readConfig=function(){var e=this.game.cache.getJSON("Config");for(var i in e)t.Gameplay[i]=e[i];"undefined"!=typeof t.Gameplay.XP_TO_UNLOCK&&(FBUI.Stats.XP_TO_UNLOCK=t.Gameplay.XP_TO_UNLOCK),"undefined"!=typeof t.Gameplay.RESET_SAVEBUTTON&&(t.Global.RESET_SAVEBUTTON=t.Gameplay.RESET_SAVEBUTTON)},i.prototype.update=function(){var t=this.game.device.ie||Phaser.Device.isAndroidStockBrowser()||this.cache.isSoundDecoded("Sfx");t&&this.cache.isSoundDecoded("Music")&&this._ready===!1&&(this._ready=!0,this.game.state.start("Play"))},i.prototype.setLoadingText=function(t){},i}(Phaser.State);t.Preloader=e}(FootballStar||(FootballStar={}));var FootballStar;!function(t){var e=function(e){function i(){e.call(this),this._ballsPool=[],this._balls=[],this._gameOver=!1,this._runFromRestart=!1,this._resetTime=0,this._soundInCallback=!1,this._hiScoreShown=!1,this._hlpVec=new Phaser.Point,this._fbGameRunning=!1,this._fbGameReady=!1,this._firstGameEver=!1,this._tutor=null,this._tutorialOnScreen=!1,this._tutorialFinished=!1,this._tutorialReadyForKick=!1,this._tapToPlay=null,this._watermark=null,this._renderTexture=null,this._screenshotGroup=null,this._screenshotTaken=!1,this._waitingForFB=!1}return __extends(i,e),i.prototype.onResize=function(t,e){this.setView(t,e);var i=this.world.bounds.y;this._fader.width=t,this._fader.height=e,this._fader.y=i,this._bg.onResize(e),this._konfetyEmitter.y=i,this._konfetyEmitter.area.width=t,null!==this._watermark&&this._watermark.position.set(this.game.width/2,this.world.bounds.bottom-40)},i.prototype.setView=function(t,e){this.camera.focusOnXY(0,0)},i.prototype.getScreenCenterY=function(){return this.world.bounds.top+this.game.height/2},i.prototype.getScreenCenterX=function(){return this.game.width/2},i.prototype.create=function(){this.setView(this.game.width,this.game.height),this._bg=new t.Background(this.game,this.world),this._bg.onResize(this.game.height),this._tabule=new FBUI.Tabule(this.game,this.world),this._tabule.position.set(this.game.width/2,362),FBUI.Stats.onLevelUp.add(this._tabule.setLevel,this._tabule),FBUI.Stats.onCoins.add(function(e){t.Global.playerStats.totalCoins+=e,this._coinsCount+=e,this._topUI.coins=t.Global.playerStats.totalCoins,Utils.AudioUtils.playSound("coins_multiple")},this),this._tabule.percent=FBUI.Stats.getLevelPercent(),this._titleLayer=new t.TitleLayer(this.game,this.world),this._path=new t.BallPath(this.rnd),this._crosshair=new t.Crosshair(this.game,this.world),this._topUI=new FBUI.TopUI(this.game,this.world),this._topUI.onPlayers.add(this.onPlayers,this),this._topUI.onSkills.add(this.onSkills,this),this._fader=new t.Fader(this.game,"Sprites","bila"),this._fader.width=this.game.width,this._fader.height=this.game.height,this._fader.y=this.world.bounds.y,this.world.add(this._fader),this._shadowPlayer=this.add.sprite(112,784,"Sprites","stin"),this._shadowPlayer.anchor.set(.5,.5),this._shadowPlayer.scale.x=1;for(var e=[],s=0;s<i.BALLS_MAX;s++){var a=this.add.sprite(800,784,"Sprites","stin");a.anchor.set(.5,.5),e.push(a)}this._player=new t.Player(this.game),this.world.add(this._player);for(var s=0;s<i.BALLS_MAX;s++){var n=new t.Ball(this.game,this.world,e[s]);n.id=s,n.name="ball "+s,this._ballsPool.push(n)}this.createEmitters(),this._konfetyEmitter.y=this.world.bounds.y,this._kickKey=this.game.input.keyboard.addKey(Phaser.KeyCode.SPACEBAR),this._kickKey.onDown.add(this.handleInput,this);var o=this;if(this.game.input.onDown.add(function(t){t.position.y>160&&this.handleInput()},this),this._firstGameEver=t.Global.playerStats.firstTimeEver,t.Global.GAMEE||(this._watermark=new Phaser.Sprite(this.game,this.game.width/2,Math.max(t.Player.Y+70,this.game.height-40),"Sprites","GameeWatermark"),this._watermark.anchor.set(.5,1),this.world.add(this._watermark)),this._firstGameEver){var r=new FBUI.Tutorial(this.game,this.world);r.focusOn(this._player.x+40,this._player.y-75,2200,2200),this._tutor=r,this._tutorialOnScreen=!0,this._tapToPlay=new Phaser.Sprite(this.game,this.game.width/2,this._player.y+.35*(this.game.height-this._player.y),"UI","taptoplay"),this._tapToPlay.anchor.set(.5),this.world.add(this._tapToPlay)}else this._tutor=new FBUI.TapToPlay(this.game,this.world),this._tutor.position.set(this.game.width/2,this.world.bounds.top+this.game.height);if(this._UIManager=new FBUI.UIManager(this.game),this.reset(),t.Global.FACEBOOK&&window.FBInstant.startGameAsync().then(function(){o._fbGameReady=!0,o._ignoreFirstKickIfTooFast=!0,o._kickTime=o.time.time,o._fbGameRunning=!0,Utils.AudioUtils.playMusic("Music")}),FBUI.Stats.isNextPrizePlayDay(),FBUI.Stats.isNextDailyCoinDay()&&this.showDailyCoin(),t.Global.RESET_SAVEBUTTON){var h=new UI.Button(this.game,"Reset","UI","NUKE");h.position.set(this.game.width/2,50),this.world.add(h),h.onClick.add(function(){t.Global.playerStats=FBUI.Stats.createEmptyStats(),t.Global.FACEBOOK?this.FB_save():Utils.StorageUtils.save()},this)}t.Global.GAMEE&&Gamee.Gamee.instance.gameReady()},i.prototype.onGameePause=function(){this.game.paused=!0},i.prototype.onGameeUnpause=function(){this.game.paused=!1},i.prototype.onGameeRestart=function(e,i,s){t.Global.game.paused=!1,e&&(t.Global.playerStats=FBUI.Stats.createEmptyStats()),Utils.AudioUtils.playSound("button"),this.reset()},i.prototype.onGameeButtonDown=function(t){this.handleInput()},i.prototype.onGameeButtonUp=function(t){},i.prototype.handleInput=function(){var t=this.time.time;if(!this._UIManager.isOn)return this._waitForInputToPlay?(this._waitForInputToPlay=!1,null===this._tutor||null===this._tutor.parent||this._firstGameEver||this.world.remove(this._tutor),void(null!==this._tapToPlay&&(this.world.remove(this._tapToPlay),this._tapToPlay=null))):void(this._fbGameRunning&&this._ignoreFirstKickIfTooFast&&t-this._kickTime<i.KICK_DELAY||(this._ignoreFirstKickIfTooFast=!1,this._kickDown=!0))},i.prototype.reset=function(){this._gameOver=!1,this._maxActiveBalls=1,this._spawnBalls=0,this._nextBallTime=0,this._kickDown=!1,this._kickKey.justDown,this._waitForInputToPlay=!0,this._screenshotTaken=!1,this._fbGameRunning=!0,this._score=0,this._hiScoreShown=!1,FBUI.Stats.resetScore(t.Global.playerStats),this._standardCount=0,this._perfectCount=0,this._perfectCounter=0,this._coinsCount=0,this._tabule.score=0,this._tabule.best=t.Global.playerStats.highScore,this._bonusBall=!1,this._kickCount=0;for(var e=this._ballsCount-1;e>=0;e--){var s=this._balls[e];this.clearBall(s)}for(var e=0;e<i.BALLS_MAX;e++){
var s=this._ballsPool[e];s.exists=!1,s.x=-100,s.updateShadowPos()}this._ballsCount=0,this.resetBall(t.Gameplay.BALL_X_VEL),this._kickEmitter.killAllParticles(),this._konfetyEmitter.killAllParticles(),this._player.playAnim("run"),this._titleLayer.hideAll(),this._perfectsToFanSounds=this.game.rnd.integerInRange(8,10),Utils.AudioUtils.playMusic("Music"),this._resetTime=0},i.prototype.getFreeBall=function(){for(var t=0;t<i.BALLS_MAX;t++){var e=this._ballsPool[t];if(!e.exists)return this._balls[this._ballsCount++]=e,e.exists=!0,e}return null},i.prototype.clearBall=function(t){t.exists=!1,t.x=-100,t.updateShadowPos();for(var e=-1,i=0;i<this._ballsCount;i++)if(this._balls[i]===t){e=i;break}for(--this._ballsCount;e<this._ballsCount;e++)this._balls[e]=this._balls[e+1]},i.prototype.resetBall=function(e){if(!(this._ballsCount>=this._maxActiveBalls||this._gameOver)){if(this._spawnBalls>=this._maxActiveBalls){if(0!==this._ballsCount)return;this._spawnBalls=0}else if(this._nextBallTime>0)return;var i=0;if("undefined"==typeof e){var s=Math.min((t.Gameplay.MIN_KICK_SPEED_END-t.Gameplay.MIN_KICK_SPEED_START)/t.Gameplay.MIN_KICK_SPEED_STEPS*this._kickCount,t.Gameplay.MIN_KICK_SPEED_END-t.Gameplay.MIN_KICK_SPEED_START)+t.Gameplay.MIN_KICK_SPEED_START,a=Math.min((t.Gameplay.MAX_KICK_SPEED_END-t.Gameplay.MAX_KICK_SPEED_START)/t.Gameplay.MAX_KICK_SPEED_STEPS*this._kickCount,t.Gameplay.MAX_KICK_SPEED_END-t.Gameplay.MAX_KICK_SPEED_START)+t.Gameplay.MAX_KICK_SPEED_START;if(this._ballsCount>0){var n=this._balls[this._ballsCount-1];if(n.x>t.Gameplay.KICK_SPOT_CENTER_X){var o=n.x-t.Gameplay.KICK_SPOT_CENTER_X,r=o/n.speed,h=640+t.Gameplay.BALL_RADIUS-(t.Gameplay.KICK_SPOT_CENTER_X+250),l=h/r/t.Gameplay.BALL_X_VEL;if(s>=l)return void(this._nextBallTime=this.rnd.realInRange(t.Gameplay.NEXT_BALL_TIME_MIN,t.Gameplay.NEXT_BALL_TIME_MAX));a=Math.min(l,a)}}i=t.Gameplay.BALL_X_VEL*this.rnd.realInRange(s,a)}else i=e;var c=this.getFreeBall();++this._spawnBalls,c.setSwoosh(!1),c.bonus=this._bonusBall,this._bonusBall=!1,c.speed=i,this._path.reset(c.id,c.speed,this._firstGameEver),c.x=640+t.Gameplay.BALL_RADIUS;var _=Phaser.Math.radToDeg(c.speed/64);c.angularSpeed=this.rnd.realInRange(_/10,_/2),c.state=0,this._nextBallTime=this.rnd.realInRange(t.Gameplay.NEXT_BALL_TIME_MIN,t.Gameplay.NEXT_BALL_TIME_MAX)}},i.prototype.update=function(){if(this._UIManager.isOn)return this._kickDown=!1,void(this._tabule.visible=!1);if(this._tabule.visible=!0,!this._waitingForFB){if(null!==this._tapToPlay&&(this._tapToPlay.visible=this.game.time.time%600<400),t.Global.FACEBOOK&&!this._fbGameRunning||this._waitForInputToPlay)return this._player.move(),this._shadowPlayer.scale.x=this._player.y/t.Gameplay.FLOOR_LEVEL,void(this._gameOver||this._bg.move());if(!t.Global.FACEBOOK||this._fbGameReady){var e=this._balls[0];if(!this._gameOver&&!this._tutorialFinished&&null!==this._tutor&&this._firstGameEver)if(e.x<=this._crosshair.x)this._tutorialReadyForKick||(e.x=this._crosshair.x,this._tutorialReadyForKick=!0,this._tutor.itemsVisible=!0,this._firstGameEver=!1);else{var s=Math.max(270,4*Math.abs(e.x-this._player.x));this._tutor.focusOn(this._player.x+40,this._player.y-75,s,s)}if(0===e.state&&this._kickDown&&this._tutorialOnScreen&&(this._tutorialReadyForKick?(this.world.remove(this._tutor),this._tutorialOnScreen=!1,this._tutorialReadyForKick=!1,this._tutorialFinished=!0):this._kickDown=!1),0===e.state){if(this._kickDown){var a=Math.abs(e.x-t.Gameplay.KICK_SPOT_CENTER_X);if(a>t.Gameplay.KICK_SPOT_LIMIT_X_FAIL)this.game.time.events.add(350,function(){this._titleLayer.show("missed")},this),this.setGameOver(!0);else{var n=1,o=!1;a<t.Gameplay.KICK_SPOT_LIMIT_X_FAIL*t.Gameplay.KICK_SPOT_LIMIT_PERFECT_PERCENT?(n=2,++this._coinsCount,FBUI.Stats.addCoin(),this._topUI.coins=t.Global.playerStats.totalCoins,this._titleLayer.show("perfect"),Utils.AudioUtils.playSound("coins"),++this._perfectCount,++this._perfectCounter,this._bonusBall=2===this._perfectCounter,--this._perfectsToFanSounds<=0?(Utils.AudioUtils.playSoundRnd(i.FAN_SOUNDS),this._perfectsToFanSounds=this.game.rnd.integerInRange(8,10)):Utils.AudioUtils.playSound("perfect"),this._perfectCounter>=3&&(n+=2,this._perfectCounter=0,o=!0,this._titleLayer.show("goal"),Utils.AudioUtils.playSound("perfect"),this._konfetyEmitter.flow(100,3,50,!0))):(++this._standardCount,this._perfectCounter=0,this._bonusBall=!1),this.addScore(n),this._score>t.Global.playerStats.highScore&&(this._hiScoreShown||(this._hiScoreShown=!0,t.Global.playerStats.highScore>0&&this.game.time.events.add(o?1500:10,function(){this._titleLayer.show("newbest")},this)),t.Global.playerStats.highScore=this._score,this._tabule.best=this._score),this._score>t.Gameplay.THREE_BALLS_SCORE?this._maxActiveBalls=3:this._score>t.Gameplay.TWO_BALLS_SCORE?this._maxActiveBalls=2:this._maxActiveBalls=1,++this._kickCount,e.state=1,e.speed*=2,e.yVelocity=-500*((t.Gameplay.FLOOR_LEVEL-t.Gameplay.BALL_RADIUS-e.y)/t.Gameplay.MAX_REACHABLE_HEIGHT),e.yVelocity+=this.rnd.realInRange(-500,0),this._player.kick(t.Gameplay.FLOOR_LEVEL-this._crosshair.y),e.setSwoosh(!0);var r=this._hlpVec;r.set(this._player.x-e.x,this._player.y-e.y),r.setMagnitude(t.Gameplay.BALL_RADIUS),this._kickEmitter.position.set(e.x+r.x,e.y+r.y),this._kickEmitter.angle=Phaser.Math.radToDeg(Math.atan2(r.y,r.x)),this._kickEmitter.explode(20)}}this._kickDown=!1}this._player.move(),this._shadowPlayer.scale.x=this._player.y/t.Gameplay.FLOOR_LEVEL,this._gameOver||this._bg.move();for(var h=0;h<this._ballsCount;h++){var l=this._balls[h];if(0===l.state&&l.x>t.Gameplay.KICK_SPOT_CENTER_X||h===this._ballsCount-1){this._crosshair.setPosition(l);break}}for(var h=this._ballsCount-1;h>=0;h--)if(e=this._balls[h],this._tutorialReadyForKick||e.move(this._path),this._gameOver){if(3===e.state)this.time.time>this._gameOverTime+t.Gameplay.FAIL_TIME&&(e.state=2);else if(2===e.state&&e.x<-t.Gameplay.BALL_RADIUS)if(e.state=4,t.Global.FACEBOOK){var c=this;c._fbGameRunning=!1,Utils.AudioUtils.stopMusic(),this.FB_save(this.showResult,this)}else t.Global.GAMEE?(Gamee.Gamee.instance.gameSave(JSON.stringify(t.Global.playerStats)),Gamee.Gamee.instance.gameOver()):t.Global.FB_TEST?(Utils.StorageUtils.save(),this.showResult()):this.showResult()}else 0===e.state?e.x<t.Gameplay.KICK_SPOT_CENTER_X-t.Gameplay.KICK_SPOT_LIMIT_X_FAIL&&(this.game.time.events.add(350,function(){this._titleLayer.show("missed")},this),this.setGameOver(!1)):1===e.state&&(e.x>640+t.Gameplay.BALL_RADIUS||e.y<0-t.Gameplay.BALL_RADIUS)&&(this.clearBall(e),this.resetBall());this._nextBallTime>0&&(this._nextBallTime-=this.time.physicsElapsed)<0&&(this._nextBallTime=0,this.resetBall())}}},i.prototype.setGameOver=function(e){if(!this._gameOver){this._gameOver=!0,this._gameOverTime=this.time.time;for(var i=this._balls[0],s=0;s<this._ballsCount;s++)1!==this._balls[s].state&&(this._balls[s].state=3);this._player.fail(i.x>t.Gameplay.KICK_SPOT_CENTER_X,t.Gameplay.FLOOR_LEVEL-this._crosshair.y>120,e),this.time.events.add(250,function(){this._fader.fadeIn(.5*t.Gameplay.FAIL_TIME)},this),Utils.AudioUtils.playSound("fail")}},i.prototype.createEmitters=function(){var e=new t.ParticlesEmitter(this.game,0,0,32);e.lifetime=.25,e.setXSpeed(-600,100),e.setYSpeed(-400,400),e.setAngularSpeed(0,0),e.minParticleScale=.5,e.maxParticleScale=2,e.setScaleChange(t.eParameterChangeType.IN_TIME,-1,.25),e.makeParticles("Sprites","hlina"),this.world.add(e),this._kickEmitter=e,e=new t.ParticlesEmitter(this.game,0,0,100),e.lifetime=3,e.setXSpeed(-50,50),e.setYSpeed(150,200),e.setAngularSpeed(-90,90),e.minParticleScale=.5,e.maxParticleScale=1,e.area=new Phaser.Line(0,0,this.game.width,0),e.makeParticles("Sprites",["konfeta1","konfeta2","konfeta3"],1e3),this.world.add(e),this._konfetyEmitter=e},i.prototype.addScore=function(e){this._score+=e,FBUI.Stats.addScore(e),this._tabule.percent=FBUI.Stats.getLevelPercent(),this._tabule.score=this._score,t.Global.GAMEE&&Gamee.Gamee.instance.setScore(this._score)},i.prototype.takeScreenshot=function(){if(null===this._renderTexture||this._renderTexture.height!==this.game.height||this._renderTexture.width!==this.game.width){this._screenshotGroup=new Phaser.Group(this.game,null),this._screenshotImg=this.game.add.image(0,0,"ShareImg",0,this._screenshotGroup);var e=355;this._screenshotTextShadow=new Phaser.BitmapText(this.game,840,e+10,"FontMega","",200,"center"),this._screenshotTextShadow.tint=0,this._screenshotTextShadow.anchor.set(.5),this._screenshotTextShadow.smoothed=!1,this._screenshotGroup.add(this._screenshotTextShadow),this._screenshotText=new Phaser.BitmapText(this.game,840,e,"FontMega","",200,"center"),this._screenshotText.anchor.set(.5),this._screenshotText.smoothed=!1,this._screenshotGroup.add(this._screenshotText),this._renderTexture=new Phaser.RenderTexture(this.game,this._screenshotImg.width,this._screenshotImg.height,"Screenshot")}var i=t.Global.playerStats.highScore;return this._screenshotTextShadow.text=""+i,this._screenshotText.text=""+i,this._renderTexture.renderXY(this._screenshotGroup,0,0),this._renderTexture.getBase64()},i.prototype.onPlayers=function(){this.showPlayers()},i.prototype.showPlayers=function(){this._topUI.setVisible(!1,!1,!1);var e=this._UIManager.getScreen("Players");e.coins=t.Global.playerStats.totalCoins,e.listenToMoves(!0),e.enablePrizePlayButton=t.Global.playerStats.totalCoins>=t.Gameplay.COINS_FOR_PRIZE_PLAY&&t.Global.playerStats.cardsForPrizePlayThisDay.length>0,0===e.onPrizePlay.getNumListeners()&&(e.onPrizePlay.add(this.showPrizePlay,this),e.onClose.add(this.saveAndClose,this),e.onPlayerSelected.add(function(){this._player.resetAnim()},this)),e.reset(),this._UIManager.show("Players")},i.prototype.saveAndClose=function(){t.Global.FACEBOOK?this.FB_save(this.doClose,this):t.Global.GAMEE?(Gamee.Gamee.instance.gameSave(JSON.stringify(t.Global.playerStats)),this.doClose()):(Utils.StorageUtils.save(),this.doClose())},i.prototype.doClose=function(){this._UIManager.hide(),this._topUI.setVisible(!0,!0,!0),this._topUI.coins=t.Global.playerStats.totalCoins},i.prototype.onSkills=function(){this._UIManager.isOn},i.prototype.showPrizePlay=function(){this._topUI.setVisible(!1,!1,!1);var t=this._UIManager.getScreen("PrizePlay");t.reset(),0===t.onPrizePlayEnded.getNumListeners()&&t.onPrizePlayEnded.add(this.onPrizePlayEnded,this),this._UIManager.show("PrizePlay")},i.prototype.onPrizePlayEnded=function(){-1!==t.Global.playerStats.cardUnlockedInPrizePlay?t.Global.FACEBOOK?this.FB_save(this.showPlayerWon,this):t.Global.GAMEE?(Gamee.Gamee.instance.gameSave(JSON.stringify(t.Global.playerStats)),this.showPlayerWon()):(Utils.StorageUtils.save(),this.showPlayerWon()):this.doClose()},i.prototype.showPlayerWon=function(){var t=this._UIManager.getScreen("PrizePlayWon");t.reset(),0===t.onClose.getNumListeners()&&(t.onContinue.add(this.showPlayers,this),t.onClose.add(this.doClose,this)),this._UIManager.show("PrizePlayWon")},i.prototype.showResult=function(){this._topUI.setVisible(!1,!1,!1);var e=this._UIManager.getScreen("Result");0===e.onShare.getNumListeners()&&(e.onShare.add(this.onShare,this),e.onOK.add(this.closeResult,this));var i=t.Global.playerStats;e.setBarPercent(FBUI.Stats.getCurrentLevelScore(),FBUI.Stats.getCurrentLevelScoreRange()),e.standard=this._standardCount,e.perfect=this._perfectCount,e.total=i.currentScore,e.coins=this._coinsCount,this._UIManager.show("Results"),t.Global.FACEBOOK&&this.FB_sendSessionData()},i.prototype.showDailyCoin=function(){this._topUI.setVisible(!1,!1,!1);var e=this._UIManager.getScreen("DailyCoin");0===e.onCardSelected.getNumListeners()&&(t.Global.FACEBOOK?e.onCardSelected.add(this.FB_save,this,1,this.onDailyCoinCard,this):e.onCardSelected.add(this.onDailyCoinCard,this)),e.reset(),this._UIManager.show("DailyCoin")},i.prototype.onDailyCoinCard=function(){this._topUI.coins=t.Global.playerStats.totalCoins,this.game.time.events.add(1e3,function(){if(t.Global.playerStats.totalCoins>=t.Gameplay.COINS_FOR_PRIZE_PLAY){var e=this._UIManager.getScreen("PrizePlayAsk");0===e.onPrizePlay.getNumListeners()&&(e.onPrizePlay.add(this.showPrizePlay,this),e.onClose.add(this.saveAndClose,this)),this._UIManager.show("PrizePlayAsk")}else this._topUI.setVisible(!0,!0,!0),this._UIManager.hide()},this)},i.prototype.closeResult=function(){this.doClose(),this.reset()},i.prototype.onShare=function(){if(t.Global.FACEBOOK&&this._UIManager.isOn&&"Results"===this._UIManager.getCurrentScreenName()){var e=this._UIManager.getCurrentScreen();e.buttonsEnabled=!1,this.FB_share(function(){e.buttonsEnabled=!0},this)}},i.prototype.FB_save=function(e,i){void 0===e&&(e=null),void 0===i&&(i=null),window.FBInstant.player.setDataAsync({saveData:t.Global.playerStats}).then(function(){null!==e&&e.call(i)})},i.prototype.FB_share=function(e,i){var s=this.takeScreenshot();t.Global.FACEBOOK&&window.FBInstant.shareAsync({intent:"INVITE",image:s,text:"Try to beat me at Football Striker! I scored "+t.Global.playerStats.highScore+", can you do better?"}).then(function(){e.call(i)})},i.prototype.FB_sendSessionData=function(){var e={id:window.FBInstant.player.getID(),name:window.FBInstant.player.getName(),score:t.Global.playerStats.currentScore};window.FBInstant.setSessionData(e)},i.FAN_SOUNDS=["fan1","fan2","fan3"],i.WINDOW_OFFSET=.15,i.BALLS_MAX=3,i.KICK_DELAY=250,i}(Phaser.State);t.Play=e}(FootballStar||(FootballStar={}));var Utils;!function(t){var e=function(){function t(){}return t.setSounds=function(e,i){void 0===i&&(i=null),t._sfx=e,t._sfxIds=i,t._isAudioSprite=null!==e&&e instanceof Phaser.AudioSprite},t.addSound=function(e,i){t._sfxs[e]=i},t.playSoundRnd=function(e,i,s){null!==e&&0!==e.length&&t.playSound(Phaser.ArrayUtils.getRandomItem(e,i,s))},t.playSound=function(e){var i=t.getSoundName(e);FootballStar.Global.soundOn&&(null!==t._sfx?t._isAudioSprite?t._sfx.play(i):t._sfx.play(i):void 0!==t._sfxs[i]&&t._sfxs[i].play())},t.stopSound=function(e){var i=t.getSoundName(e);null!==t._sfx?t._isAudioSprite&&t._sfx.stop(i):void 0!==t._sfxs[i]&&t._sfxs[i].stop()},t.getSoundName=function(e){var i;return i="number"==typeof e?t._sfxIds[e]:e},Object.defineProperty(t,"currentMusic",{get:function(){return t._currentMusic},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isMusicPlaying",{get:function(){if(null===this._currentMusic||0===this._currentMusic.length)return!1;var e=t._music[t._currentMusic];return e.isPlaying},enumerable:!0,configurable:!0}),t.addMusic=function(e,i){t._music[e]=i},t.playMusic=function(e,i){if(void 0===i&&(i=!0),t._currentMusic!==e&&(null!==t._currentMusic&&t._currentMusic.length>0&&t.stopMusic(),e in t._music&&FootballStar.Global.musicOn)){t._currentMusic=e;var s=t._music[e];s.loop=i,s.play(),i||s.onStop.addOnce(function(){t.onFinished.dispatch(e)},this)}},t.stopMusic=function(){if(null!==t._currentMusic&&t._currentMusic.length>0){var e=t._music[t._currentMusic];e.isPlaying&&e.stop(),t._currentMusic=""}},t.pauseMusic=function(){if(null!==t._currentMusic&&t._currentMusic.length>0){var e=t._music[t._currentMusic];e.isPlaying&&e.pause()}},t.resumeMusic=function(){if(null!==t._currentMusic&&t._currentMusic.length>0){var e=t._music[t._currentMusic];e.paused&&e.resume()}},t._sfx=null,t._isAudioSprite=!1,t._sfxs={},t._music={},t._currentMusic="",t.onFinished=new Phaser.Signal,t}();t.AudioUtils=e}(Utils||(Utils={}));var Utils;!function(t){var e=function(){function t(){}return t.supported=function(){var t=FootballStar.Global.game;return t.scale.compatibility.supportsFullScreen},t.isFullscreen=function(){return FootballStar.Global.game.scale.isFullScreen},t.changeFullscreen=function(){var e=FootballStar.Global.game;t._fullscreen?e.scale.stopFullScreen():e.scale.startFullScreen(!1,!1)},t.onEnterFullscreen=function(){t._fullscreen=!0,null!==t._listener&&t._listener.call(t._listenerContext,!0)},t.onLeaveFullscreen=function(){t._fullscreen=!1,null!==t._listener&&t._listener.call(t._listenerContext,!1)},t.setListener=function(e,i){t._listener=e,t._listenerContext=i},t.removeListener=function(){t._listener=null,t._listenerContext=null},t._fullscreen=!1,t._listener=null,t._listenerContext=null,t}();t.FullscreenUtils=e}(Utils||(Utils={}));var Utils;!function(t){var e=function(){function t(){}return t.ChangeAnimationPhaserJSONData=function(t){Phaser.AnimationParser.myCallback=t,Phaser.AnimationParser.JSONData=function(t,e){if(e.frames){for(var i=new Phaser.FrameData,s=e.frames,a=0;a<s.length;a++){var n=i.addFrame(new Phaser.Frame(a,s[a].frame.x,s[a].frame.y,s[a].frame.w,s[a].frame.h,s[a].filename));s[a].trimmed&&n.setTrim(s[a].trimmed,s[a].sourceSize.w,s[a].sourceSize.h,s[a].spriteSourceSize.x,s[a].spriteSourceSize.y,s[a].spriteSourceSize.w,s[a].spriteSourceSize.h),Phaser.AnimationParser.myCallback(n,s[a])}return i}}},t.AdjustTweenFunctions=function(){Phaser.TweenManager.prototype.removeFromUpdateQueue=function(t){var e=this._tweens.indexOf(t);-1!==e?this._tweens.splice(e,1):(e=this._add.indexOf(t),-1!==e&&this._add.splice(e,1))},Phaser.Tween.prototype.stopAndRemoveFromUpdateQueue=function(t){var e=this,i=e.stop(t);return e.manager.removeFromUpdateQueue(e),e.pendingDelete=!1,i}},t.AddBitmapFontAddMethod=function(){Phaser.Cache.prototype.addBitmapFontFromImage=function(t,e,i,s,a,n,o){var r=this.getImage(i,!0),h={url:e,data:r.data,font:null,base:r.base};void 0===n&&(n=0),void 0===o&&(o=0),"json"===a?h.font=Phaser.LoaderParser.jsonBitmapFont(s,h.base,n,o,null,1):h.font=Phaser.LoaderParser.xmlBitmapFont(s,h.base,n,o,null,1),this._cache.bitmapFont[t]=h,this._resolveURL(e,h)}},t}();t.PhaserUtils=e}(Utils||(Utils={}));var Utils;!function(t){var e=function(){function t(){}return t}();t.ScreenMetrics=e,function(t){t[t.PORTRAIT=0]="PORTRAIT",t[t.LANDSCAPE=1]="LANDSCAPE"}(t.Orientation||(t.Orientation={}));var i=t.Orientation,s=function(){function t(){}return t.calculateScreenMetrics=function(t,s,a,n,o){void 0===a&&(a=i.LANDSCAPE);var r,h;r=window.innerWidth,h=window.innerHeight,r=Math.min(r,1.5*t),h=Math.min(h,1.5*s);var l=a===i.LANDSCAPE?t/s:t/s,c=r/h,_=0,u=0,p=0,d=0;c>l?(d=s,p=2*Math.ceil(d*c/2),p=Math.min(p,n),_=(p-t)/2,u=0):(p=t,d=2*Math.ceil(p/c/2),d=Math.min(d,o),_=0,u=(d-s)/2);var f=r/p,m=h/d;return this.screenMetrics=new e,this.screenMetrics.windowWidth=r,this.screenMetrics.windowHeight=h,this.screenMetrics.defaultGameWidth=t,this.screenMetrics.defaultGameHeight=s,this.screenMetrics.maxGameWidth=n,this.screenMetrics.maxGameHeight=o,this.screenMetrics.gameWidth=p,this.screenMetrics.gameHeight=d,this.screenMetrics.scaleX=f,this.screenMetrics.scaleY=m,this.screenMetrics.offsetX=_,this.screenMetrics.offsetY=u,this.screenMetrics},t}();t.ScreenUtils=s}(Utils||(Utils={}));var Utils;!function(t){var e=(function(){function t(){}return t}(),function(){function t(){}return t.save=function(){if(t.localStorageSupported()){var e=JSON.stringify(FootballStar.Global.playerStats);localStorage.setItem("fotbal_save",e)}},t.load=function(){if(t.localStorageSupported()){var e=localStorage.getItem("fotbal_save"),i=JSON.parse(e);return null===i||void 0===i?!1:(FootballStar.Global.playerStats=i,!0)}},t.localStorageSupported=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}},t}());t.StorageUtils=e}(Utils||(Utils={}));var Utils;!function(t){var e=function(){function t(){}return t.padNumber=function(t,e,i){void 0===i&&(i="0");var s=t+"";return s.length>=e?s:new Array(e-s.length+1).join(i)+s},t.addSpacingToNumber=function(t,e){return void 0===e&&(e=" "),(""+t).replace(/\B(?=(\d{3})+(?!\d))/g,e)},t.formatTime=function(e,i,s,a){void 0===s&&(s=-1),void 0===a&&(a=":"),e=Math.floor(e);var n=!1,o="";if(e>3600||0===i){var r=Math.floor(e/3600);o+=(-1!==s?t.padNumber(r,s):r)+a,e%=3600,n=!0}if(n===!0||e>60||1===i){var h=Math.floor(e/60);o+=(-1!==s?t.padNumber(h,s):h)+a,e%=60,n=!0}var l=e;return o+=t.padNumber(l,2)},t}();t.StringUtils=e}(Utils||(Utils={}));var Utils;!function(t){var e=function(){function t(){}return t.isAndroidStockBrowser=function(){var t=navigator.userAgent,e=/Android/.test(t),i=/Chrome/.test(t);return e&&!i},t}();t.SystemUtils=e}(Utils||(Utils={}));var Utils;!function(t){var e=function(){function t(){}return t.setTexts=function(e){t._texts=e},t.getText=function(e){if(null===t._texts)return"Texts not set";var i=t._texts;if(void 0===i[e])return"";var s=i[e][FootballStar.Global.currentLanguage];return void 0===s&&(FootballStar.Global.currentLanguage="en",s=i[e][FootballStar.Global.currentLanguage]),s},t.game=null,t._texts=null,t}();t.TextUtils=e}(Utils||(Utils={}));
