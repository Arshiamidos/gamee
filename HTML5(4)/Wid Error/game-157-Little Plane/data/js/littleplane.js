var Gamee,Log,Helper;!function(t){var e=function(){function a(t,e,i,n){this._game=null,this._controller=null,this._saveState=null,this._replayData=null,this._socialData=null,this._indices={right:1,up:2,left:4,down:8,A:16,B:32,button:64},this._pressesCache=0,this._isDown=0,this._justDown=0,this._justUp=0,this._gameRunning=!1,this._score=0,this._ghostScore=0,this._gameReady=!1,this._platform=null,this._isBattle=!1,this._isVideoLoading=!1,this._isVideoReady=!1,this._gameReady=!1,void 0!==window.gamee&&(this.setEventHandlers(),window.gamee.gameInit(t,{},i,function(t,e){this.initResponse(t,e),n()}.bind(this))),a._instance=this}return Object.defineProperty(a,"instance",{get:function(){return a._instance},enumerable:!0,configurable:!0}),a.prototype.initResponse=function(t,e){var i=e.sound;void 0===i&&(i=!0),this._controller=e.controller,this._sound=i,null!=e.replayData&&null!=e.replayData.data&&0!==e.replayData.data.length&&(this._replayData=JSON.parse(e.replayData.data)),null!=e.socialData&&0!==e.socialData.length&&(this._socialData=JSON.parse(e.socialData)),null!=e.platform&&0!==e.platform.length&&(this._platform=e.platform),null!=e.gameContext&&0!==e.gameContext.length&&(this._isBattle="battle"===e.gameContext),this.loadRewardedVideo(),this.setKeyHandlers()},a.prototype.setGame=function(t){this._game=t},Object.defineProperty(a.prototype,"gameRunning",{get:function(){return this._gameRunning},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"sound",{get:function(){return this._sound},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"replayData",{get:function(){return this._replayData},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"saveState",{get:function(){return this._saveState},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isWeb",{get:function(){return null!==this._platform&&("web"===this._platform||"mobile_web"===this._platform)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isBattle",{get:function(){return this._isBattle},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isVideoReady",{get:function(){return this._isVideoReady},enumerable:!0,configurable:!0}),a.prototype.gameReady=function(){window.gamee.gameReady(),this._gameReady=!0},a.prototype.setKeyHandlers=function(){var i=this;this._controller.on("keydown",function(t){i._pressesCache|=i._indices[t.button];var e=i._game.state.getCurrentState();"function"==typeof e.onGameeButtonDown&&e.onGameeButtonDown(t.button)}),this._controller.on("keyup",function(t){i._pressesCache&=~i._indices[t.button];var e=i._game.state.getCurrentState();"function"==typeof e.onGameeButtonUp&&e.onGameeButtonUp(t.button)})},a.prototype.setEventHandlers=function(){var e=this;window.gamee.emitter.addEventListener("pause",function(){e.onPause()}),window.gamee.emitter.addEventListener("resume",function(){e.onUnpause()}),window.gamee.emitter.addEventListener("mute",function(){e._game&&e._game.onSound(!1)}),window.gamee.emitter.addEventListener("unmute",function(){e._game&&e._game.onSound(!0)}),window.gamee.emitter.addEventListener("start",function(t){e.onStart(t)})},a.prototype.onPause=function(){var t=this._game.state.getCurrentState();"function"==typeof t.onGameePause&&t.onGameePause()},a.prototype.onUnpause=function(){var t=this._game.state.getCurrentState();"function"==typeof t.onGameeUnpause&&t.onGameeUnpause()},a.prototype.onStart=function(t){if(!this._gameReady)throw new Error("Game received 'start' event before gameReady() was called!");this.gameStart();var e=this._game.state.getCurrentState();if("function"==typeof e.onGameeRestart){var i=void 0!==t.detail.opt_resetState&&t.detail.opt_resetState,n=void 0!==t.detail.opt_replay&&t.detail.opt_replay,a=void 0!==t.detail.opt_ghostMode&&t.detail.opt_ghostMode;e.onGameeRestart(i,n,a)}t.detail.callback()},Object.defineProperty(a.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),a.prototype.setScore=function(t,e){void 0===e&&(e=!1),e?(this._ghostScore=t,window.gamee.updateScore(t,!0)):(this._score=t,window.gamee.updateScore(t))},a.prototype.gameStart=function(){this._gameRunning,this._gameRunning=!0},a.prototype.gameOver=function(t){this._gameRunning,this._gameRunning=!1,null!=t&&(t={data:JSON.stringify(t)}),window.gamee.gameOver(t)},a.prototype.gameSave=function(t,e){window.gamee.gameSave(t,e)},a.prototype.loadRewardedVideo=function(){if(!this._isVideoReady&&!this._isVideoLoading){var i=this;window.gamee.loadRewardedVideo(function(t,e){i._isVideoLoading=!1,e&&e.videoLoaded?i._isVideoReady=!0:i._isVideoReady=!1})}},a.prototype.showRewardedVideo=function(i){var n=this;this._isVideoReady&&window.gamee.showRewardedVideo(function(t,e){e&&e.videoPlayed?i(!0):i(!1),n._isVideoReady=!1})},a._instance=null,a}();t.Gamee=e}(Gamee||(Gamee={})),function(t){var e=function(){function t(t,e){this._rnd=t,this.reset(e)}return t.prototype.reset=function(t){--t;var e=Math.ceil(t/2);this._lbound=-e,this._ubound=t-e,this._currentBalance=0===t?this._rnd.integerInRange(-1,0):0},t.prototype.getBoolean=function(){var t=this._currentBalance+this._rnd.integerInRange(this._lbound,this._ubound);return this._currentBalance+=0<=t?-1:1,0<=t},t}();t.RandomBooleanBalancer=e}(Helper||(Helper={})),function(t){var e=function(){function n(){}return n.msg=function(t){var e=n.messages;if(e.length<n.MAX_LINE)n.messages.push(t);else{for(var i=1;i<n.MAX_LINE;i++)e[i-1]=e[i];e[n.MAX_LINE-1]=t}},n.render=function(t){for(var e=n.messages,i=0;i<e.length;i++)t.text(e[i],50,70+16*i,"RGB(255, 0, 0)")},n.MAX_LINE=20,n.messages=[],n}();t.Log=e}(Log||(Log={})),function(t){var e=function(){function r(){}return r.randomizeArray=function(t,e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var a=i?e.slice():e;return Phaser.ArrayUtils.shuffle(a),n?a.slice(0,t):a},r.sort=function(t,e,i,n){if(void 0===i&&(i=0),void 0===n&&(n=t.length),i<n){for(var a,o=i,s=i+1;s<=n;s++)0<e(t[i],t[s])&&(a=t[++o],t[o]=t[s],t[s]=a);a=t[i],t[i]=t[o],t[o]=a,r.sort(t,e,i,o-1),r.sort(t,e,o+1,n)}},r}();t.ArrayUtils=e}(Helper||(Helper={})),function(t){!function(t){function e(t){return-2*t*t+3*t}t.wiggle=function(t,e,i){var n=t*Math.PI*2*e,a=t*(2*Math.PI*i+Math.PI/2);return Math.sin(n)*Math.cos(a)},t.sinWithExpDecay=function(t,e,i){var n=t*Math.PI*2*e,a=-t*i;return Math.sin(n)*Math.exp(a)},t.pop5=e,t.pop5rev=function(t){return-(e(1-t)-1)},t.sin=function(t){return Math.sin(2*t*Math.PI)},t.halfSin=function(t){return Math.sin(t*Math.PI)},t.sinWithPeriod=function(t,e){return Math.sin(2*t*Math.PI*e)}}(t.Easing||(t.Easing={}))}(Helper||(Helper={})),function(t){var e=function(){function u(){}return u.create=function(t,e,i,n,a,o,s,r,l,h){return void 0===o&&(o=0),void 0===s&&(s=0),void 0===r&&(r=0),void 0===l&&(l=0),void 0===h&&(h=!1),u._image=new Phaser.Image(t,0,0,n),u._frame="string"==typeof a?t.cache.getFrameByName(n,a):t.cache.getFrameByIndex(n,a),u.calculateNineImage(e,i,o,s,r,l,h),u._nineImage=new Phaser.BitmapData(t,"NineImage"+u._textureKey++,u._width,u._height),u.renderNineImage(),u._nineImage},u.calculateNineImage=function(t,e,i,n,a,o,s){var r=u._frame;if(u._centralWidth=r.width-n-o,u._centralHeight=r.height-i-a,s)u._horizontalRepeats=t,u._verticalRepeats=e,u._width=n+o+u._centralWidth*t,u._height=i+a+u._centralHeight*e,u._lastWidth=0,u._lastHeight=0;else{var l=t-n-o;u._horizontalRepeats=Math.floor(l/u._centralWidth),u._lastWidth=l%u._centralWidth;var h=e-i-a;u._verticalRepeats=Math.floor(h/u._centralHeight),u._lastHeight=h%u._centralHeight,u._width=t,u._height=e}u._leftWidth=n,u._rightWidth=o,u._topHeight=i,u._bottomHeight=a},u.renderNineImage=function(){var t=u._frame.y,e=0;0<u._topHeight&&(u.renderNineImageRow(u._image,t,e,u._topHeight),t+=u._topHeight,e+=u._topHeight);for(var i=0;i<u._verticalRepeats;i++)u.renderNineImageRow(u._image,t,e,u._centralHeight),e+=u._centralHeight;0<u._lastHeight&&(u.renderNineImageRow(u._image,t,e,u._lastHeight),e+=u._lastHeight),t+=u._centralHeight,0<u._bottomHeight&&u.renderNineImageRow(u._image,t,e,u._bottomHeight)},u.renderNineImageRow=function(t,e,i,n){var a=u._frame.x,o=0;0<u._leftWidth&&(u._nineImage.copy(t,a,e,u._leftWidth,n,o,i),o+=u._leftWidth,a+=u._leftWidth);for(var s=0;s<u._horizontalRepeats;s++)u._nineImage.copy(t,a,e,u._centralWidth,n,o,i),o+=u._centralWidth;0<u._lastWidth&&(u._nineImage.copy(t,a,e,u._lastWidth,n,o,i),o+=u._lastWidth),a+=u._centralWidth,0<u._rightWidth&&u._nineImage.copy(t,a,e,u._rightWidth,n,o,i)},u._textureKey=0,u}();t.NineImage=e}(Helper||(Helper={})),function(t){var G,e;(e=G||(G={}))[e.UNDEFINED=-1]="UNDEFINED",e[e.SPACE=1]="SPACE",e[e.NEWLINE=2]="NEWLINE",e[e.CHARACTER=3]="CHARACTER";var i=function(){function M(){}return M.hasNext=function(){return M.textPosition<M.text.length},M.getChar=function(){return M.text.charAt(M.textPosition++)},M.peekChar=function(){return M.text.charAt(M.textPosition)},M.getPosition=function(){return M.textPosition},M.setPosition=function(t){M.textPosition=t},M.getCharAdvance=function(t,e){var i=M.fontData.chars[t],n=i.xAdvance;return 0<e&&i.kerning[e]&&(n+=i.kerning[e]),n},M.getCharType=function(t){return" "===t?G.SPACE:/(?:\r\n|\r|\n)/.test(t)?G.NEWLINE:G.CHARACTER},M.wrapText=function(t,e,i,n,a,o){M.text=e,M.setPosition(0),M.fontData=t.cache.getBitmapFont(a).font,void 0===o&&(o=M.fontData.size);var s=o/M.fontData.size,r=M.fontData.lineHeight*s,l=i/s,h=[],u=[],c=[],p=0,_=0,d=0;h[p]=d,c[_++]=0;for(var m=n;M.hasNext();){for(var f=0,g=0,y=-1,P=G.UNDEFINED,v=G.UNDEFINED,b=l,S=-1;M.hasNext();){d=M.getPosition();var A=M.getChar();P=M.getCharType(A);var E=A.charCodeAt(0);if(P===G.SPACE)v!==G.SPACE&&(g=f),++f,b-=M.getCharAdvance(E,S);else if(P===G.CHARACTER){if(v!==G.CHARACTER&&(y=d),(b-=M.getCharAdvance(E,S))<0)break;++f}else if(P===G.NEWLINE){var C=!1;if(M.hasNext()&&(C=!0,g=f,d=y=M.getPosition(),b=-1,P=G.CHARACTER),C)break}v=P,S=E}(m-=r)<0&&(c[_++]=p),b<0&&P===G.CHARACTER?(u[p]=0!==g?g:f,!1,m<0&&(!0,m=n-r),0!==g?(h[++p]=y,M.setPosition(y)):(h[++p]=d,M.setPosition(d))):M.hasNext()||(P===G.CHARACTER?u[p]=f:P===G.SPACE&&(u[p]=g))}c[_]=p+1;for(var O=[],w=1;w<=_;w++){for(var T=c[w-1],I=c[w],L=[],x=T;x<I;x++)L.push(M.text.substr(h[x],u[x]));O.push(L.join("\n"))}return O},M}();t.TextWrapper=i}(Helper||(Helper={})),function(n){var t=function(){function i(t,e){this.maxVelocity=i.MAX_VELOCITY,this._delay=0,this._velocity=new Phaser.Point(0,0),this._angularVelocity=0,this._friction=0,this._angularDrag=0,this._gravity=0,this._alpha=1,this._scaleChange=0,this._alphaChange=0,this._game=t}return Object.defineProperty(i.prototype,"visual",{get:function(){return this._visual},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"on",{set:function(t){this._on=t,this._visual.exists=t,this._visual.visible=t},enumerable:!0,configurable:!0}),i.prototype.remove=function(){var t=this._visual.parent;null!==t&&(t instanceof Phaser.Group?t.remove(this._visual):t.removeChild(this._visual),t=null)},i.prototype.bringToTop=function(){var t=this._visual.parent;t instanceof Phaser.Group&&t.bringToTop(this._visual)},i.prototype.sendToBack=function(){var t=this._visual.parent;t instanceof Phaser.Group&&t.sendToBack(this._visual)},Object.defineProperty(i.prototype,"textureKey",{set:function(t){this._textureKey=t},enumerable:!0,configurable:!0}),i.prototype.setScaleChange=function(t,e){void 0===e&&(e=0),this._scaleChangeType=t,this._scaleChange=e},Object.defineProperty(i.prototype,"delay",{set:function(t){0<(this._delay=t)&&(this.on=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"alpha",{set:function(t){this._alpha=t,this._visual.alpha=Phaser.Math.clamp(t,0,1)},enumerable:!0,configurable:!0}),i.prototype.setAlphaChange=function(t,e){void 0===e&&(e=0),this._alphaChangeType=t,this._alphaChange=e},i.prototype.setPhysics=function(t,e,i,n,a,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===a&&(a=0),void 0===o&&(o=0),this._velocity.setTo(t,e),this._angularVelocity=i,this._friction=n,this._angularDrag=a,this._gravity=o,this._simplePhysics=0===o&&0===n&&0===a},i.prototype.setFrame=function(t){},i.prototype.onEmit=function(t){t.add(this._visual)},i.prototype.onKill=function(t){},i.prototype.update=function(t){void 0===t&&(t=!0);var e=this._game.time.physicsElapsed;if(0<this._delay){if(0<(this._delay-=e))return!0;this.on=!0}if(0<this.lifetime&&(this.lifetime-=e)<=0)return!1;if(0===this._velocity.x&&0===this._velocity.y||(this._visual.x+=this._velocity.x*e,this._visual.y+=this._velocity.y*e),0!==this._angularVelocity&&(this._visual.angle+=this._angularVelocity*e),this._simplePhysics||(this._velocity.x+=-this._friction*this._velocity.x*e,this._velocity.y+=(this._gravity-this._friction*this._velocity.y)*e,this._angularVelocity+=-this._angularDrag*this._angularVelocity*e),!t)return!0;if(this._scaleChangeType!=n.eParameterChangeType.NO_CHANGE)switch(this._scaleChangeType){case n.eParameterChangeType.IN_TIME:(this._visual.scale.x+=this._scaleChange*e)<0&&(this._visual.scale.x=0,this._scaleChange<0&&(this._scaleChangeType=n.eParameterChangeType.NO_CHANGE)),(this._visual.scale.y+=this._scaleChange*e)<0&&(this._visual.scale.y=0,this._scaleChange<0&&(this._scaleChangeType=n.eParameterChangeType.NO_CHANGE))}if(this._alphaChangeType!=n.eParameterChangeType.NO_CHANGE)switch(this._alphaChangeType){case n.eParameterChangeType.IN_TIME:this._alpha+=this._alphaChange*e,this._alpha<0?(this._visual.alpha=0,this._alphaChange<0&&(this._alphaChangeType=n.eParameterChangeType.NO_CHANGE)):1<this._alpha?(this._visual.alpha=1,0<this._alphaChange&&(this._alphaChangeType=n.eParameterChangeType.NO_CHANGE)):this._visual.alpha=this._alpha}return!0},i.MAX_VELOCITY=1e3,i}();n.Particle=t}(Particles||(Particles={}));var Particles,App,__extends=this&&this.__extends||function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.setFrame=function(t){var e=this._visual;"string"==typeof t?e.frameName=t:e.frame=t},e.prototype.onCreate=function(t){var e=new Phaser.Sprite(this._game,0,0,this._textureKey);e.anchor.setTo(.5,.5),this._visual=e},e}(t.Particle);t.SpriteParticle=e}(Particles||(Particles={})),function(t){var e=function(o){function t(t,e){var i=o.call(this,t,e)||this;return void 0!==e&&null===e||(i._anims=e[0]),i}return __extends(t,o),t.prototype.onCreate=function(t){o.prototype.onCreate.call(this,t);for(var e=this._visual,i=0;i<this._anims.length;i++){var n=this._anims[i],a=e.animations.add(n.name,n.frames,n.frameRate,n.loop);!n.loop&&n.killOnComplete&&(a.killOnComplete=!0)}},t.prototype.update=function(t){void 0===t&&(t=!0);var e=this._delay,i=o.prototype.update.call(this,t);return 0<e&&this._delay<=0&&this._visual.animations.currentAnim.play(),i},t.prototype.setFrame=function(t){this.setAnim(t)},t.prototype.setAnim=function(t){var e=this._visual;e.animations.stop(null,!0),this._delay<=0?e.animations.play(t):(e.animations.currentAnim=e.animations.getAnimation(t),e.frame=e.animations.currentAnim._frames[0])},t.prototype.setRandomAnim=function(){this._visual;var t=this._anims[this._game.rnd.integerInRange(0,this._anims.length-1)].name;this.setAnim(t)},t}(t.SpriteParticle);t.AnimatedParticle=e}(Particles||(Particles={})),function(n){var t=function(){function s(t){this.area=new Phaser.Point(0,0),this.gravity=0,this.minLifetime=1,this.maxLifetime=1,this.delay=0,this.minScale=1,this.maxScale=1,this.scaleChange=0,this.scaleChangeType=n.eParameterChangeType.NO_CHANGE,this.minAngle=0,this.maxAngle=0,this.minSpeedX=0,this.maxSpeedX=0,this.minSpeedY=0,this.maxSpeedY=0,this.friction=0,this.minAngularSpeed=0,this.maxAngularSpeed=0,this.angularDrag=0,this.minAlpha=1,this.maxAlpha=1,this.alphaChange=0,this.alphaChangeType=n.eParameterChangeType.NO_CHANGE,this.frames=null,this._minAdvScale=new Phaser.Point(1,1),this._maxAdvScale=new Phaser.Point(1,1),this._game=t}return s.readParams=function(t,e){var i={};for(var n in e){var a=new s(t);s.doReadParams(a,e,n),i[n]=a}return i},s.doReadParams=function(t,e,i){var n=e[i];if(void 0!==n.parent&&null!==n.parent){var a=n.parent;s.doReadParams(t,e,a)}for(var o in n)"parent"!==o&&(t[o],t[o]=n[o])},s.prototype.clear=function(){this.gravity=0,this.setXSpeed(0,0),this.setYSpeed(0,0),this.setAngularSpeed(0)},s.prototype.randomFrame=function(){var t=null;return null!==this.frames&&(t=Array.isArray(this.frames)?(this.frames[0],this._game.rnd.pick(this.frames)):this.frames),t},s.prototype.setXSpeed=function(t,e){t=t||0,e=e||0,this.minSpeedX=t,this.maxSpeedX=e},s.prototype.setYSpeed=function(t,e){t=t||0,e=e||0,this.minSpeedY=t,this.maxSpeedY=e},s.prototype.setAngularSpeed=function(t,e){t=t||0,e=e||0,this.minAngularSpeed=t,this.maxAngularSpeed=e},s.prototype.setAlpha=function(t,e){void 0===t&&(t=1),void 0===e&&(e=1),this.minAlpha=t,this.maxAlpha=e},s.prototype.setAlphaChange=function(t,e,i){switch(void 0===e&&(e=0),void 0===i&&(i=0),this.alphaChangeType=t){case n.eParameterChangeType.NO_CHANGE:this.alphaChange=0;break;case n.eParameterChangeType.IN_TIME:0===i&&(i=1),this.alphaChange=e/i}},s.prototype.setScale=function(t,e){t=t||0,e=e||0,this.minScale=t,this.maxScale=e},Object.defineProperty(s.prototype,"advScaleMin",{get:function(){return this._minAdvScale},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"advScaleMax",{get:function(){return this._maxAdvScale},enumerable:!0,configurable:!0}),s.prototype.setAdvScale=function(t,e,i,n){void 0===t&&(t=1),void 0===e&&(e=1),void 0===i&&(i=1),void 0===n&&(n=1),this._minAdvScale.setTo(t,i),this._maxAdvScale.setTo(e,n)},s.prototype.setScaleChange=function(t,e,i){switch(void 0===e&&(e=0),void 0===i&&(i=0),this.scaleChangeType=t){case n.eParameterChangeType.NO_CHANGE:this.scaleChange=0;break;case n.eParameterChangeType.IN_TIME:0===i&&(i=1),this.scaleChange=e/i}},s.prototype.setAngle=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.minAngle=t,this.maxAngle=e},s}();n.ParticleParams=t}(Particles||(Particles={})),function(r){var l,t,h,e;(t=l||(l={}))[t.NONE=0]="NONE",t[t.FLOW=1]="FLOW",t[t.EXPLODE=2]="EXPLODE",(e=h=r.eParameterChangeType||(r.eParameterChangeType={}))[e.NO_CHANGE=0]="NO_CHANGE",e[e.IN_TIME=1]="IN_TIME";var i=function(o){function s(t,e,i,n){var a=o.call(this,t,null)||this;return a._maxParticles=s.MAX_PARTICELES,a.emitPoint=new Phaser.Point(0,0),a.emitObject=null,a.particleClass=r.SpriteParticle,a.particleBringToTop=!1,a.particleSendToBack=!1,a.frequency=100,a.forceEmit=!1,a._alternativeParams=null,a._on=!1,a._mode=l.NONE,a._flowQuantity=0,a._flowTotal=0,a._flowCounter=0,a._particlesPool=[],a._counterPool=0,a._particlesUsed=[],a._counterUsed=0,a._timer=0,a._emitPoint=new Phaser.Point(0,0),a._params=new r.ParticleParams(t),a.position.setTo(e,i),a._maxParticles=n,a}return __extends(s,o),Object.defineProperty(s.prototype,"params",{get:function(){return this._params},set:function(t){this._params=t},enumerable:!0,configurable:!0}),s.prototype.clear=function(){this._params.clear()},s.prototype.update=function(){if(this._on&&this.game.time.time>=this._timer&&(this._timer=this.game.time.time+this.frequency*this.game.time.slowMotion,this._mode===l.FLOW))if(-1!==this._flowTotal&&this._flowCounter>=this._flowTotal)this.stopFlow();else for(var t=Math.max(1,this._flowQuantity),e=0;e<t&&!(this.emitParticle(this.forceEmit)&&(this._flowCounter++,-1!==this._flowTotal&&this._flowCounter>=this._flowTotal));e++);for(e=this._counterUsed-1;0<=e;e--){var i=this._particlesUsed[e];i.update()||(i.on=!1,i.remove(),i.onKill(this),this._particlesUsed[e]=this._particlesUsed[--this._counterUsed],this._particlesPool[this._counterPool++]=i)}},s.prototype.makeParticles=function(t,e,i,n){(void 0===i||i>this._maxParticles)&&(i=this._maxParticles),void 0!==e&&(this._params.frames=e);for(var a=0;a<i;a++){var o=new this.particleClass(this.game,n);o.textureKey=t,o.onCreate(this),o.on=!1,this._particlesPool[this._counterPool++]=o}},Object.defineProperty(s.prototype,"on",{set:function(t){this._on=t,this.exists=t,this.visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"countUsed",{get:function(){return this._counterUsed},enumerable:!0,configurable:!0}),s.prototype.explode=function(t,e,i){this._mode=l.EXPLODE,this.on=!0,this.emitParticles(t,e,i)},s.prototype.flow=function(t,e,i,n,a,o){this._mode=l.FLOW,this.on=!0,void 0!==e&&0!==e||(e=1),void 0===i&&(i=-1),void 0===n&&(n=!0),e>this._maxParticles&&(e=this._maxParticles),this.frequency=t,this._flowCounter=0,this._flowQuantity=e,this._flowTotal=i,n&&(this.emitParticles(e,a,o),this._flowCounter+=e,this._timer=this.game.time.time+t*this.game.time.slowMotion)},s.prototype.stopFlow=function(){this._mode=l.NONE},s.prototype.killAllParticles=function(t){for(void 0===t&&(t=!0);0<this._counterUsed;){var e=this._particlesUsed[--this._counterUsed];e.remove(),t||e.onKill(this),this._particlesPool[this._counterPool++]=e}},s.prototype.emitParticles=function(t,e,i){for(var n=0;n<t;n++){var a=this.emitParticle(this.forceEmit);if(null===a)break;null!=e&&e.call(i,a)}},s.prototype.emitParticle=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),0===this._counterPool){if(!t)return null;var i=this._particlesUsed[0];this._particlesUsed[0]=this._particlesUsed[--this._counterUsed],i.remove(),i.onKill(this),this._particlesPool[this._counterPool++]=i}var n=this._particlesPool[--this._counterPool];(this._particlesUsed[this._counterUsed++]=n).on=!0;var a=null!==this._alternativeParams?this._alternativeParams:this._params;if(this.randomEmitPoint(this._emitPoint,a),n.visual.position.set(this._emitPoint.x,this._emitPoint.y),n.visual.angle=0,e)n.lifetime=-1,n.visual.scale.set(1,1),n.setScaleChange(h.NO_CHANGE),n.visual.angle=0,n.alpha=1,n.setAlphaChange(h.NO_CHANGE),n.setPhysics();else{if(n.lifetime=this.game.rnd.realInRange(a.minLifetime,a.maxLifetime),n.delay=a.delay,1!==a.minScale||1!==a.maxScale){var o=this.game.rnd.realInRange(a.minScale,a.maxScale);n.visual.scale.set(o,o)}else a.advScaleMin.x!==a.advScaleMax.x||a.advScaleMin.y!==a.advScaleMax.y?n.visual.scale.set(this.game.rnd.realInRange(a.advScaleMin.x,a.advScaleMax.x),this.game.rnd.realInRange(a.advScaleMin.y,a.advScaleMax.y)):n.visual.scale.set(1,1);n.setScaleChange(a.scaleChangeType,a.scaleChange),n.visual.angle=a.minAngle===a.maxAngle?a.minAngle:this.game.rnd.realInRange(a.minAngle,a.maxAngle),n.alpha=this.game.rnd.realInRange(a.minAlpha,a.maxAlpha),n.setAlphaChange(a.alphaChangeType,a.alphaChange),n.setPhysics(this.game.rnd.realInRange(a.minSpeedX,a.maxSpeedX),this.game.rnd.realInRange(a.minSpeedY,a.maxSpeedY),this.game.rnd.realInRange(a.minAngularSpeed,a.maxAngularSpeed),a.friction,a.angularDrag,a.gravity),null!==a.frames&&n.setFrame(a.randomFrame())}return n.onEmit(this),this.particleBringToTop?n.bringToTop():this.particleSendToBack&&n.sendToBack(),n},s.prototype.destroy=function(){r.ParticlesManager.instance.remove(this),o.prototype.destroy.call(this,!0,!1)},s.prototype.randomEmitPoint=function(t,e){return e.area instanceof Phaser.Point?t.setTo(0,0):e.area.random(t),t.x+=this.emitPoint.x,t.y+=this.emitPoint.y,null!==this.emitObject&&(t.x+=this.emitObject.x,t.y+=this.emitObject.y),t},Object.defineProperty(s.prototype,"area",{set:function(t){this._params.area=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"gravity",{set:function(t){this._params.gravity=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"friction",{set:function(t){this._params.friction=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"angularDrag",{set:function(t){this._params.angularDrag=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"minScale",{set:function(t){this._params.minScale=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"maxScale",{set:function(t){this._params.maxScale=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"minAngle",{set:function(t){this._params.minAngle=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"maxAngle",{set:function(t){this._params.maxAngle=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"lifetime",{set:function(t){this._params.minLifetime=this._params.maxLifetime=t},enumerable:!0,configurable:!0}),s.prototype.setXSpeed=function(t,e){this._params.setXSpeed(t,e)},s.prototype.setYSpeed=function(t,e){this._params.setYSpeed(t,e)},s.prototype.setAngularSpeed=function(t,e){this._params.setAngularSpeed(t,e)},s.prototype.setAlpha=function(t,e){this._params.setAlpha(t,e)},s.prototype.setAlphaChange=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),this._params.setAlphaChange(t,e,i)},s.prototype.setScale=function(t,e){this._params.setScale(t,e)},s.prototype.setAdvScale=function(t,e,i,n){this._params.setAdvScale(t,e,i,n)},s.prototype.setScaleChange=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),this._params.setScaleChange(t,e,i)},s.prototype.setAngle=function(t,e){this._params.setAngle(t,e)},s.prototype.emitAt=function(t,e){this.emitPoint.setTo(t,e)},s.prototype.emitAtObject=function(t){t.center?this.emitPoint.setTo(t.center.x,t.center.y):this.emitPoint.setTo(t.x,t.y)},s.MAX_PARTICELES=16,s}(Phaser.Group);r.ParticlesEmitter=i}(Particles||(Particles={})),function(t){var e=function(){function t(t,e,i,n){void 0===i&&(i=null),void 0===n&&(n=null),this._emitter=null,this._game=t,this._emitter=e,this._animEmitter=i,this._params=n}return t.prototype.emit=function(t,e,i,n,a){for(this._emitter.emitAt(t,e),null!==this._animEmitter&&this._animEmitter.emitAt(t,e);null!==i;){var o=i.animated?this._animEmitter:this._emitter;if(null===this._params&&i.paramsName,null!==this._params){var s=this._params[i.paramsName];void 0===s||(o.params=s)}o.explode(this._game.rnd.integerInRange(i.countMin,i.countMax),n,a),i=i.next}},t}();t.ParticleChain=e}(Particles||(Particles={})),function(t){var e=function(){function t(){this._emitters=[],this._emittersCount=0}return Object.defineProperty(t,"instance",{get:function(){return null===t._instance&&(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.add=function(t){this._emitters[this._emittersCount++]=t},t.prototype.remove=function(t){for(var e=this._emittersCount-1;0<=e&&this._emitters[e]!==t;e--);-1!==e&&(this._emitters[e]=this._emitters[--this._emittersCount])},t.prototype.update=function(){for(var t=0;t<this._emittersCount;t++){var e=this._emitters[t];e.exists&&e.update()}},t._instance=null,t}();t.ParticlesManager=e}(Particles||(Particles={})),function(t){var e=function(){function t(){}return t.SPEED=450,t.TURN_ANGLE=55,t.PILLAR_ANGLE_MAX=55,t.TURN_TIME=.25,t.PLAYER_SPEED_COEF_MIN=1,t.PLAYER_SPEED_COEF_MAX=2,t.PLAYER_SPEED_INCREASE_FROM=2,t.PLAYER_SPEED_INCREASE_TO=90,t.FIRST_PILLAR_X=640,t.PILLARS_STEP_X=250,t.PILLAR_HOLE=100,t.PILLARS_SCREEN_BOUNDS=120,t.PILLARS_TUTORIAL=4,t.PILLARS_STEP_X_TUTORIAL=1.25*t.PILLARS_STEP_X,t.PILLARS_MOVE_DISTANCE=20,t.PILLARS_MOVING_PROB_MIN=10,t.PILLARS_MOVING_PROB_MAX=40,t.PILLARS_MOVING_PROB_FROM=2,t.PILLARS_MOVING_PROB_TO=15,t.PILLARS_MOVE_SPEED_MIN=.2,t.PILLARS_MOVE_SPEED_MAX=.7,t.PILLARS_MOVE_SPEED_FROM=2,t.PILLARS_MOVE_SPEED_TO=20,t.PILLARS_FOR_TUNNEL=5,t.TUNNEL_MIN=4,t.TUNNEL_MAX=4,t.BONUS_MIN_DIST=300,t.BONUS_MIN_PILLAR=5,t.BONUS_TIME_PILLARS=10,t.BONUS_TIME_STEP_X=128,t.BONUS_TIME_BONUSES_MIN=4,t.BONUS_TIME_BONUSES_MAX=7,t.CONSECUTIVE_BONUS_TIME=2e3,t.CONSECUTIVE_BONUSES_FOR_SOUND=5,t}();t.Gameplay=e}(LittlePlane||(LittlePlane={})),function(t){var e=function(){function t(t,e,i){void 0===i&&(i=null),this.name="<no name>",this.debug=0,this._newFunction=null,this._count=0,this._pool=[],this._canGrow=!0,this._poolSize=0,this._classType=t,this._newFunction=i;for(var n=0;n<e;n++){var a=this.newItem();this._pool[this._count++]=a}this._poolSize=e}return t.prototype.createItem=function(){return 0===this._count?(this.debug,this._canGrow?this.newItem():null):(this.debug,this._pool[--this._count])},t.prototype.destroyItem=function(t){this.debug,this._pool[this._count++]=t},Object.defineProperty(t.prototype,"newFunction",{set:function(t){this._newFunction=t},enumerable:!0,configurable:!0}),t.prototype.newItem=function(){return null!==this._newFunction?this._newFunction():new this._classType},Object.defineProperty(t.prototype,"canGrow",{set:function(t){this._canGrow=t},enumerable:!0,configurable:!0}),t.DEBUG_ALLOCATION=1,t.DEBUG_CREATE=2,t.DEBUG_DESTROY=4,t.DEBUG_ALL=7,t}();t.Pool=e}(LittlePlane||(LittlePlane={})),function(t){var e=function(a){function e(t,e,i){var n=a.call(this,t)||this;return n.onDialogClosed=new Phaser.Signal,n._width=0,n._height=0,n._blocker=null,n._dialogContainer=null,n._dialogBgBmd=null,n._question=null,n._dekorace=null,n._btnClose=null,n._tweenInPosition=null,n._tweenInAlpha=null,n._tweenOutPosition=null,n._tweenOutAlpha=null,n._hideSourceName=null,n.fixedToCamera=!0,n._width=e,n._height=i,n._blocker=new Phaser.Sprite(t,0,0,"Dialog","Fill"),n._blocker.anchor.set(.5),n._blocker.width=t.width,n._blocker.height=t.height,n._blocker.tint=16777215,n._blocker.alpha=0,n._blocker.inputEnabled=!0,n.add(n._blocker),n._dialogContainer=new Phaser.Group(t),n._dialogContainer.position.set(0,0),n.add(n._dialogContainer),n._question=t.add.sprite(0,-210,"Dialog","Question",n._dialogContainer),n._question.anchor.set(.5),n._dekorace=t.add.sprite(t.width/2,-210,"Dialog","Dekorace",n._dialogContainer),n._dekorace.anchor.set(1,.33),n.createCloseButton(t),n.createTweens(t),n.activate(!1),n}return __extends(e,a),e.prototype.pop=function(t){return-.746410162*t*t+.946410162*t+.8},e.prototype.createCloseButton=function(t){this._btnClose=new UI.Button(t,"Continue","Sprites","ui_cancel",!1,"ui_cancel2"),this._btnClose.position.set(0,this._height/2-40),this._btnClose.onClick.add(this.onCloseClicked,this),this._dialogContainer.add(this._btnClose)},e.prototype.createTweens=function(t){this._tweenInPosition=t.add.tween(this).to({containerScale:1,containerAlpha:1},e.TWEEN_DURATION,Phaser.Easing.Linear.None,!1,100),this._tweenInPosition.onComplete.add(this.onShownComplete,this),this._tweenInAlpha=t.add.tween(this).to({blockerAlpha:1},e.TWEEN_DURATION+100,Phaser.Easing.Cubic.Out,!1),this._tweenOutPosition=t.add.tween(this).to({containerScale:0,containerAlpha:0},e.TWEEN_DURATION,Phaser.Easing.Linear.None,!1),this._tweenOutAlpha=t.add.tween(this).to({blockerAlpha:0},e.TWEEN_DURATION+100,Phaser.Easing.Linear.None,!1),this._tweenOutAlpha.onComplete.add(this.onHideComplete,this)},Object.defineProperty(e.prototype,"blockerAlpha",{get:function(){return this._blocker.alpha},set:function(t){this._blocker.alpha=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"containerX",{get:function(){return this._dialogContainer.x},set:function(t){this._dialogContainer.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"containerScale",{get:function(){return this._dialogContainer.scale.x},set:function(t){this._dialogContainer.scale.set(this.pop(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"containerAlpha",{get:function(){return this._dialogContainer.alpha},set:function(t){this._dialogContainer.alpha=t},enumerable:!0,configurable:!0}),e.prototype.enableInput=function(t){null!==this._btnClose&&this._btnClose.setEnabled(t)},e.prototype.activate=function(t){this.exists=t,this.visible=t},e.prototype.onResize=function(t,e){this._blocker.width=this.game.width,this._blocker.height=this.game.height,this._dekorace.x=t/2,this.cameraOffset.set(t/2,e/2)},e.prototype.show=function(){this.onResize(this.game.width,this.game.height),this._dialogContainer.scale.set(0),this._dialogContainer.x=0,this._dialogContainer.alpha=.5,this.enableInput(!1),this.activate(!0),this._tweenOutPosition.resume(),this._tweenInPosition.start(),this._tweenInAlpha&&(this._tweenInAlpha.resume(),this._tweenInAlpha.start())},e.prototype.onShownComplete=function(){this.enableInput(!0)},e.prototype.hide=function(t){void 0===t&&(t=null),this._hideSourceName=t,this.enableInput(!1),this._tweenOutPosition.resume(),this._tweenOutPosition.start(),this._tweenOutAlpha&&(this._tweenInAlpha.resume(),this._tweenOutAlpha.start())},e.prototype.onHideComplete=function(){this.activate(!1);var t=this._hideSourceName;this._hideSourceName=null,this.onDialogClosed.dispatch(t)},e.prototype.onCloseClicked=function(t){this.hide("Close")},e.TWEEN_DURATION=200,e}(Phaser.Group);t.DialogBase=e}(LittlePlane||(LittlePlane={})),function(t){var e=function(a){function t(t,e,i){var n=a.call(this,t,e,i)||this;return n._btnYes=null,n._btnNo=null,n._btnYes=new UI.Button(t,"Yes","Dialog","ContinueYes1",!1,"ContinueYes2"),n._btnYes.position.set(0,76),n._btnYes.onClick.add(n.onDialogButtonClick,n),n._dialogContainer.add(n._btnYes),n._btnNo=new UI.Button(t,"No","Dialog","ContinueNo1",!1,"ContinueNo2"),n._btnNo.position.set(0,238),n._btnNo.onClick.add(n.onDialogButtonClick,n),n._dialogContainer.add(n._btnNo),n}return __extends(t,a),t.prototype.createCloseButton=function(t){},t.prototype.enableInput=function(t){a.prototype.enableInput.call(this,t),this._btnYes.setEnabled(t),this._btnNo.setEnabled(t)},t.prototype.onDialogButtonClick=function(t){this.hide(t.name)},t}(t.DialogBase);t.DialogContinue=e}(LittlePlane||(LittlePlane={})),function(a){var t=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i._topBlack=null,i._bottomBlack=null,i._topBlack=t.add.sprite(0,0,"Sprites","black",i),i._topBlack.anchor.y=0,i._topBlack.fixedToCamera=!0,i._bottomBlack=t.add.sprite(0,0,"Sprites","black",i),i._bottomBlack.anchor.y=1,i._bottomBlack.fixedToCamera=!0,i._top=new a.BgLayer(t,i,"Sprites","paralax",0,2,-1),i._bottom=new a.BgLayer(t,i,"Sprites","paralax",0,2),i}return __extends(t,n),t.prototype.onResize=function(t,e){var i=e/2;this._top.y=i-320,this._bottom.y=i+320;var n=i-320-this._top.height;this._topBlack.cameraOffset.x=-5,this._topBlack.cameraOffset.y=0,this._topBlack.width=t+10,this._topBlack.height=n,this._bottomBlack.cameraOffset.x=-5,this._bottomBlack.cameraOffset.y=e,this._bottomBlack.width=t+10,this._bottomBlack.height=n},t.prototype.updateBackground=function(t){this._top.updatePosition(t),this._bottom.updatePosition(t)},t}(Phaser.Group);a.Foreground=t}(LittlePlane||(LittlePlane={})),function(t){var e=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return __extends(n,i),n.prototype.update=function(t){void 0===t&&(t=!0);this._game.time.physicsElapsed;var e=this.lifetime/n.LIFETIME*255+64;return 255<e&&(e=255),i.prototype.update.call(this,t)},n.LIFETIME=.25,n}(Particles.SpriteParticle);t.TintedParticle=e}(LittlePlane||(LittlePlane={})),function(t){var e=function(s){function t(t,e,i,n,a){var o=s.call(this,t,e,i,n)||this;return void 0!==a&&o.setAnchoredFrame(a),o}return __extends(t,s),t.prototype.setAnchoredFrame=function(t){if("string"==typeof this.key){var e=null;void 0!==(e="string"==typeof t?(this.frameName=t,this.game.cache.getFrameByName(this.key,t)):(this.frame=t,this.game.cache.getFrameByIndex(this.key,t))).anchorX&&void 0!==e.anchorY&&this.anchor.setTo(e.anchorX,e.anchorY)}},t}(Phaser.Sprite);t.AnchoredSprite=e}(LittlePlane||(LittlePlane={})),function(a){var t=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i._bg=new a.BgLayer(t,i,"Background",0,.5,.25),i._l2top=new a.BgLayer(t,i,"Sprites","layer2top",0,.5),i._l2bottom=new a.BgLayer(t,i,"Sprites","layer2bottom",1,.5),i._l1top=new a.BgLayer(t,i,"Sprites","layer1top",0,.75),i._l1bottom=new a.BgLayer(t,i,"Sprites","layer1bottom",1,.75),i}return __extends(t,n),t.prototype.onResize=function(t,e){var i=e/2;this._bg.y=i,this._l2top.y=i-320-27,this._l2bottom.y=i+320+27,this._l1top.y=i-320-27,this._l1bottom.y=i+320+27},t.prototype.updateBackground=function(t){this._bg.updatePosition(t),this._l2top.updatePosition(t),this._l2bottom.updatePosition(t),this._l1top.updatePosition(t),this._l1bottom.updatePosition(t)},t}(Phaser.Group);a.Background=t}(LittlePlane||(LittlePlane={})),function(t){var e=function(u){function t(t,e,i,n,a,o,s){void 0===s&&(s=1);var r,l=u.call(this,t,e)||this;l._scrollCoef=o,r="number"==typeof n?t.cache.getFrameByIndex(i,n):t.cache.getFrameByName(i,n),l._frame=r;var h=t.add.sprite(0,0,i,n,l);return h.anchor.y=a,h.fixedToCamera=!0,l._sprite1Crop=new Phaser.Rectangle(0,0,0,r.height),h.crop(l._sprite1Crop,!1),l._sprite1=h,l._sprite1.scale.y=s,(h=t.add.sprite(0,0,i,n,l)).fixedToCamera=!0,h.anchor.y=a,l._sprite2Crop=new Phaser.Rectangle(0,0,0,r.height),h.crop(l._sprite2Crop,!1),l._sprite2=h,l._sprite2.scale.y=s,l.updatePosition(0),l}return __extends(t,u),t.prototype.updatePosition=function(t){(t*=this._scrollCoef)<0&&(t+=640);var e=this._frame.sourceSizeW,i=Math.floor(t)%e;this._sprite1Crop.x=i,this._sprite1Crop.width=Math.min(e-i,this.game.width),this._sprite1.updateCrop(),this._sprite2Crop.width=this.game.width-this._sprite1Crop.width,this._sprite2.cameraOffset.x=this._sprite1Crop.width,this._sprite2.updateCrop()},t}(Phaser.Group);t.BgLayer=e}(LittlePlane||(LittlePlane={})),function(t){var e=function(i){function n(t){var e=i.call(this,t,0,0,"Sprites")||this;return e.anchor.set(.5,.5),e.scale.set(1.5,1.5),e.animations.add("explosion",n.ANIM,12,!1).onComplete.add(function(){this.exists=!1},e),e.exists=!1,e}return __extends(n,i),n.prototype.explode=function(){this.exists=!0,this.game.camera.flash(16777215,200),this.game.camera.shake(.008,700),this.animations.play("explosion")},n.ANIM=["ex1","ex1","ex1","ex2","ex3","ex4","ex5","ex6","ex7"],n}(Phaser.Sprite);t.Explosion=e}(LittlePlane||(LittlePlane={})),function(t){var e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._savePosition=new Phaser.Point(0,0),t._saveScale=1,t}return __extends(t,e),t.prototype.setColliders=function(t,e,i){this._saveScale=e;var n=this.body,a=(.5-this.anchor.x)*this.width*(i?-1:1),o=(.5-this.anchor.y)*this.height;n.clearShapes();for(var s=0;s<t.length;s++){var r=t[s];switch(r.type){case"circle":var l=r.data;n.addCircle(l.radius*e,(i?this.width-l.x:l.x)*e-this.width/2+a,l.y*e-this.height/2+o);break;case"rect":l=r.data;n.addRectangle(l.width*e,l.height*e,(i?this.width-l.x-l.width/2:l.x+l.width/2)*e-this.width/2+a,(l.y+l.height/2)*e-this.height/2+o);break;case"poly":var h=r.data.points,u=[];if(i)for(var c=h.length-2,p=0;0<=c;c-=2,p+=2)u[p]=(this.width-h[c])*e+a,u[p+1]=h[c+1]*e+o;else for(var _=0;_<h.length;_+=2)u[_]=h[_]*e+a,u[_+1]=h[_+1]*e+o;var d=[{shape:u}];n.loadPolygon(null,d)}}},t.prototype.setPosition=function(t,e){var i=this.body;i.x=t,i.y=e,this._savePosition.set(t,e)},t.prototype.setY=function(t){this.body.y=t,this._savePosition.y=t},t.prototype.setX=function(t){this.body.x=t,this._savePosition.x=t},t.prototype.setRotation=function(t){this.body.angle=t},t.prototype.setCollisionGroup=function(t){this.body.setCollisionGroup(t)},t.prototype.collides=function(t,e,i){this.body.collides(t,e,i)},t}(Phaser.Sprite);t.P2Sprite=e}(LittlePlane||(LittlePlane={})),function(h){var u={sloup1:{collisions:[{type:"poly",data:{points:[1,34,34,0,75,0,108,34,108,639,1,639]}}],touchPoint:{x:0,y:0}},money:{collisions:[{type:"circle",data:{radius:30,x:26,y:20}}],touchPoint:{x:0,y:0}}},t=function(l){function t(t,e,i,n){var a=l.call(this,t,-1e3,1e3,"Sprites",e)||this;a._touchPoint=new Phaser.Point,a._hlpPoint=new Phaser.Point,a._remove=!1,a._tag=n;var o=t.cache.getFrameByName("Sprites",e);t.physics.p2.enable(a,h.Play.DEBUG);var s=u[e];if(void 0===s)return a;var r=void 0!==s.scale?s.scale:1;return a.anchor.set(o.anchorX,o.anchorY),a.scale.set(r,r),a.setColliders(s.collisions,r,i),a.body.static=!0,i&&(a.scale.x=-1),h.Play.DEBUG&&(a.alpha=.25),a._touchPoint.set(s.touchPoint.x,s.touchPoint.y),a}return __extends(t,l),Object.defineProperty(t.prototype,"tag",{get:function(){return this._tag},enumerable:!0,configurable:!0}),t.prototype.getTransformedTouchPoint=function(){return this._hlpPoint.copyFrom(this._touchPoint),this.scale.x<0&&(this._hlpPoint.x*=-1),this._hlpPoint.rotate(0,0,this.body.angle,!0),this._hlpPoint},Object.defineProperty(t.prototype,"remove",{get:function(){return this._remove},set:function(t){this._remove=t},enumerable:!0,configurable:!0}),t.prototype.offset=function(){var t=(this.game.time.time+10*this._savePosition.x)%1e3/1e3,e=5*Math.sin(2*Math.PI*t);this.body.y=this._savePosition.y+e},t}(h.P2Sprite);h.Obstacle=t}(LittlePlane||(LittlePlane={})),function(_){var t=function(){function t(e,i,n){this.onScoreAdd=new Phaser.Signal,this._game=e,this._pillarsPool=new _.Pool(_.Pillar,8,function(){var t=new _.Pillar(e);return i.call(n,t.pillarTop),i.call(n,t.pillarBottom),t}),this._bonusPool=new _.Pool(_.Obstacle,8,function(){var t=new _.Obstacle(e,"money",!1,1);return i.call(n,t),t}),this._pillarsLayer=new Phaser.Group(e,null),this._bonusLayer=new Phaser.Group(e,null),this._randomBalancer=new Helper.RandomBooleanBalancer(e.rnd,1),this.reset()}return Object.defineProperty(t.prototype,"pillarsLayer",{get:function(){return this._pillarsLayer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bonusLayer",{get:function(){return this._bonusLayer},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.removePillars(0,!0);for(var t=this._pillarsPool._pool,e=0;e<t.length;e++)t[e].disable();this.removeBonuses(0,!0),this._nextPillarX=_.Gameplay.FIRST_PILLAR_X,this._prevHoleY=this._game.height/2,this._prevPillar=null,this._inTunnel=!1,this._bonusTimeCounter=_.Gameplay.BONUS_TIME_PILLARS,this._randomBalancer.reset(1),this._repeats=_.Gameplay.PILLARS_TUTORIAL,this._generateHoles=!1,this._pillarsCount=0,this._lastBonusX=0,this._movingSpeedMax=0,this._movingProbMax=0,this._state=0},t.prototype.prepareForContinue=function(t){var e=t+640+200;this.removePillars(e,!1),this.removeBonuses(e,!1)},t.prototype.removePillars=function(t,e){for(var i=this._pillarsLayer.length-1;0<=i;i--){var n=this._pillarsLayer.getChildAt(i);(n.pillarX<t-200||e)&&(this._pillarsLayer.remove(n),n.disable(),this._pillarsPool.destroyItem(n))}},t.prototype.removeBonuses=function(t,e){for(var i=this._bonusLayer.length-1;0<=i;i--){var n=this._bonusLayer.getChildAt(i);(n.x<t-200||n.remove||e)&&(this._bonusLayer.remove(n),n.exists=!1,this._bonusPool.destroyItem(n))}},t.prototype.generate=function(t){this.removePillars(t,!1),this.removeBonuses(t,!1);for(var e=this._pillarsLayer.length-1;0<=e;e--){var i=this._pillarsLayer.getChildAt(e);i.updatePillar();var n=t+125;!i.scoreCounted&&i.pillarX<n&&(i.scoreCounted=!0,this.onScoreAdd.dispatch(1))}this.generateObjects(t)},t.prototype.generateObjects=function(t){for(;this._nextPillarX<t+this._game.width+_.Gameplay.PILLARS_STEP_X;)switch(this._state){case 1:var e=this._bonusPool.createItem();null!==e&&(e.setPosition(this._nextPillarX,this._game.rnd.integerInRange(-200,200)),e.exists=!0,e.remove=!1,this._bonusLayer.add(e)),--this._bonusTimeCounter<=0&&(this._bonusTimeCounter=_.Gameplay.BONUS_TIME_PILLARS,this._state=0),this._nextPillarX+=1===this._state?_.Gameplay.BONUS_TIME_STEP_X:_.Gameplay.PILLARS_STEP_X;break;case 0:var i=this._pillarsPool.createItem();if(null===i){this._nextPillarX+=_.Gameplay.PILLARS_STEP_X;break}i.exists=!0,this._pillarsLayer.add(i),this.setupPillar(this._nextPillarX,i),this._inTunnel?this._nextPillarX+=110:this._pillarsCount>=_.Gameplay.PILLARS_TUTORIAL?this._nextPillarX+=_.Gameplay.PILLARS_STEP_X:this._nextPillarX+=_.Gameplay.PILLARS_STEP_X_TUTORIAL,this._inTunnel||(++this._pillarsCount,--this._bonusTimeCounter<=0&&(this._bonusTimeCounter=this._game.rnd.integerInRange(_.Gameplay.BONUS_TIME_BONUSES_MIN,_.Gameplay.BONUS_TIME_BONUSES_MAX),this._state=1)),this.updateDifficulty(this._nextPillarX)}},t.prototype.setupPillar=function(t,e){var i=this._prevPillar,n=this._inTunnel,a=this.getPillarType(),o=0,s=0;if(a===_.ePillarType.TOP||a===_.ePillarType.BOTTOM){o=307.2-320,a===_.ePillarType.BOTTOM&&(o=320-307.2)}else if(n)s=_.Gameplay.PILLAR_HOLE,o=this._prevHoleY;else{var r=Math.tan(Phaser.Math.degToRad(_.Gameplay.PILLAR_ANGLE_MAX))*_.Gameplay.PILLARS_STEP_X,l=this._prevHoleY-r,h=this._prevHoleY+r;l=Math.max(l,-320+_.Gameplay.PILLARS_SCREEN_BOUNDS),h=Math.min(h,320-_.Gameplay.PILLARS_SCREEN_BOUNDS),s=_.Gameplay.PILLAR_HOLE,o=this._game.rnd.integerInRange(l,h)}if(e.setPillar(a,t,o,s),e.setFrameIdx(this._pillarsCount%3),n?i.isMoving&&(this._synchronizeTunnel?e.copyMoving(i):e.setMoving(i.movingType,this._game.rnd.realInRange(_.Gameplay.PILLARS_MOVE_SPEED_MIN,this._movingSpeedMax))):this._pillarsCount>=_.Gameplay.PILLARS_TUTORIAL&&this._game.rnd.integerInRange(0,99)<this._movingProbMax&&e.setMoving(this._game.rnd.integerInRange(0,1),this._game.rnd.realInRange(_.Gameplay.PILLARS_MOVE_SPEED_MIN,this._movingSpeedMax)),this._pillarsCount>=_.Gameplay.BONUS_MIN_PILLAR&&t>this._lastBonusX+_.Gameplay.BONUS_MIN_DIST){var u=this._bonusPool.createItem();if(null!==u){var c=t,p=e.pillarTop.exists?e.topY+_.Gameplay.PILLAR_HOLE:e.bottomY-_.Gameplay.PILLAR_HOLE;u.setPosition(c,p),u.exists=!0,u.remove=!1,this._bonusLayer.add(u),this._lastBonusX=c}}this._prevPillar=e,this._prevHoleY=o},t.prototype.getPillarType=function(){var t;return!this._inTunnel&&0<this._pillarsCount&&this._pillarsCount%_.Gameplay.PILLARS_FOR_TUNNEL==0&&(this._inTunnel=!0,this._generateHoles=!0,this._repeats=this._game.rnd.integerInRange(_.Gameplay.TUNNEL_MIN,_.Gameplay.TUNNEL_MAX),this._synchronizeTunnel=1===this._game.rnd.sign()),--this._repeats,t=this._generateHoles?_.ePillarType.HOLE:this._randomBalancer.getBoolean()?_.ePillarType.TOP:_.ePillarType.BOTTOM,this._repeats<=0&&(this._inTunnel=!1,this._generateHoles=!this._generateHoles,this._generateHoles||this._randomBalancer.reset(this._game.rnd.integerInRange(1,3)),this._repeats=this._game.rnd.integerInRange(1,3)),t},t.prototype.updateDifficulty=function(t){this._movingProbMax=this.mapLinear(t,640*_.Gameplay.PILLARS_MOVING_PROB_FROM,640*_.Gameplay.PILLARS_MOVING_PROB_TO,_.Gameplay.PILLARS_MOVING_PROB_MIN,_.Gameplay.PILLARS_MOVING_PROB_MAX),this._movingSpeedMax=this.mapLinear(t,640*_.Gameplay.PILLARS_MOVE_SPEED_FROM,640*_.Gameplay.PILLARS_MOVE_SPEED_TO,_.Gameplay.PILLARS_MOVE_SPEED_MIN,_.Gameplay.PILLARS_MOVE_SPEED_MAX)},t.prototype.mapLinear=function(t,e,i,n,a){return t=Phaser.Math.clamp(t,e,i),Phaser.Math.mapLinear(t,e,i,n,a)},t}();_.Generator=t}(LittlePlane||(LittlePlane={})),function(n){var a,t,o,e;(t=a=n.ePillarType||(n.ePillarType={}))[t.TOP=0]="TOP",t[t.BOTTOM=1]="BOTTOM",t[t.HOLE=2]="HOLE",(e=o=n.eMovingType||(n.eMovingType={}))[e.SAME=0]="SAME",e[e.OPPOSITE=1]="OPPOSITE";var i=function(i){function e(t){var e=i.call(this,t,null)||this;return e._top=new n.Obstacle(t,"sloup1",!0,0),e._top.setRotation(180),e.add(e._top),e._bottom=new n.Obstacle(t,"sloup1",!1,0),e.add(e._bottom),e}return __extends(e,i),Object.defineProperty(e.prototype,"pillarTop",{get:function(){return this._top},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pillarBottom",{get:function(){return this._bottom},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topY",{get:function(){return this._top.body.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomY",{get:function(){return this._bottom.body.y},enumerable:!0,configurable:!0}),e.prototype.setPosition=function(t,e,i){void 0===i&&(i=0),this._top.setPosition(t,e-i),this._bottom.setPosition(t,e+i)},Object.defineProperty(e.prototype,"pillarX",{get:function(){return this._top.body.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pillarY",{get:function(){return this._saveY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreCounted",{get:function(){return this._scoreCounted},set:function(t){this._scoreCounted=t},enumerable:!0,configurable:!0}),e.prototype.setPillar=function(t,e,i,n){this._type=t,this._saveY=i,this._saveHole=n,this.setPosition(e,i,n),this._top.exists=t===a.TOP||t===a.HOLE,this._bottom.exists=t===a.BOTTOM||t===a.HOLE,this._moving=!1,this._scoreCounted=!1},e.prototype.disable=function(){this.setPosition(-1e3,0),this._top.exists=!1,this._bottom.exists=!1},e.prototype.setFrameIdx=function(t){this._top.frameName=e.FRAMES[t],this._bottom.frameName=e.FRAMES[t]},e.prototype.setMoving=function(t,e){this._moving=!0,this._movingType=t,this._moveSpeed=e,this._moveTime=this.game.rnd.realInRange(0,e)},e.prototype.copyMoving=function(t){this._moving=t.isMoving,this._movingType=t.movingType,this._moveSpeed=t.movingSpeed,this._moveTime=t.moveTime},Object.defineProperty(e.prototype,"isMoving",{get:function(){return this._moving},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"movingType",{get:function(){return this._movingType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"movingSpeed",{get:function(){return this._moveSpeed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"moveTime",{get:function(){return this._moveTime},enumerable:!0,configurable:!0}),e.prototype.updatePillar=function(){if(this._moving){var t=void 0;this._moveTime+=this.game.time.physicsElapsed*this._moveSpeed,t=this._moveTime,t=2*Math.PI*(t%1);var e=n.Gameplay.PILLARS_MOVE_DISTANCE*Math.sin(t);this._top.setY(this._saveY+e-this._saveHole),this._movingType===o.OPPOSITE&&(e=-e),this._bottom.setY(this._saveY+e+this._saveHole)}},e.FRAMES=["sloup1","sloup2","sloup3"],e}(Phaser.Group);n.Pillar=i}(LittlePlane||(LittlePlane={})),function(s){var t=function(i){function n(t){var e=i.call(this,t,0,0,"Sprites","letadlof1")||this;t.physics.p2.enable(e,s.Play.DEBUG),e.anchor.set(.5,.5),e.setColliders(n.COLLISIONS,1,!1);e.body;return e.animations.add("fly",n.ANIM,10,!0),e.animations.play("fly"),s.Play.DEBUG&&(e.alpha=.25),e}return __extends(n,i),n.prototype.resetPlayer=function(t){this.setPosition(t,0),this._goUp=!1;var e=this.body;e.setZeroForce(),e.setZeroVelocity(),e.setZeroRotation(),e.setZeroDamping(),this._speedCoef=s.Gameplay.PLAYER_SPEED_COEF_MIN},n.prototype.handleInput=function(){this._goUp=!this._goUp},n.prototype.move=function(){this.updateSpeedCoef();var t=this.body;t.y<=-320&&this._goUp?this._goUp=!1:320<=t.y&&!this._goUp&&(this._goUp=!0);var e=t.angle,i=2*s.Gameplay.TURN_ANGLE/s.Gameplay.TURN_TIME*this.game.time.physicsElapsed;this._goUp&&(i=-i*this._speedCoef),e=Phaser.Math.clamp(e+i,-s.Gameplay.TURN_ANGLE,s.Gameplay.TURN_ANGLE),t.angle=e;var n=Phaser.Math.degToRad(e),a=Math.cos(n)*s.Gameplay.SPEED*this._speedCoef,o=Math.sin(n)*s.Gameplay.SPEED*this._speedCoef;t.moveRight(a),t.moveDown(o)},n.prototype.updateSpeedCoef=function(){var t=640*s.Gameplay.PLAYER_SPEED_INCREASE_FROM,e=640*s.Gameplay.PLAYER_SPEED_INCREASE_TO,i=Phaser.Math.clamp(this.x,t,e);this._speedCoef=Phaser.Math.mapLinear(i,t,e,s.Gameplay.PLAYER_SPEED_COEF_MIN,s.Gameplay.PLAYER_SPEED_COEF_MAX)},n.COLLISIONS=[{type:"circle",data:{radius:10,x:41,y:13}},{type:"rect",data:{width:51,height:28,x:12,y:12}},{type:"poly",data:{points:[0,10,9,10,18,11,12,37,0,27]}}],n.ANIM=["letadlof1","letadlof2","letadlof3","letadlof2"],n}(s.P2Sprite);s.Player=t}(LittlePlane||(LittlePlane={})),function(t){var e=function(e){function t(){var t=e.call(this)||this;return t._userScale=new Phaser.Point(1,1),t._gameDims=new Phaser.Point,t}return __extends(t,e),t.prototype.init=function(){this.input.maxPointers=1,this.stage.disableVisibilityChange=!0,this.calcGameDims(),this.scale.scaleMode=Phaser.ScaleManager.USER_SCALE,this.scale.setUserScale(this._userScale.x,this._userScale.y),this.scale.pageAlignHorizontally=!0,this.scale.pageAlignVertically=!0,this.scale.setResizeCallback(this.gameResized,this),this.game.device.desktop||(this.scale.forceOrientation(!1,!0),this.scale.onOrientationChange.add(this.orientationChange,this)),Utils.Device.androidUnlockAudio(this.game)},t.prototype.create=function(){App.Global.GAMEE&&this.game.onSound(Gamee.Gamee.instance.sound),this.game.state.start("Preloader",!0,!1)},t.prototype.calcGameDims=function(){var t=window.innerWidth,e=window.innerHeight;e<t&&(t=640*e/App.Global.GAME_HEIGHT);var i,n,a,o;i=n=t/App.Global.GAME_WIDTH,a=App.Global.GAME_WIDTH,o=(e+.01)/i,this._userScale.set(n,i),this._gameDims.set(a,o)},t.prototype.gameResized=function(t,e){if(!t.incorrectOrientation){var i=this._userScale.x,n=this._userScale.y;this.calcGameDims();var a=this._gameDims,o=this._userScale;if(a.x!==this.game.width||a.y!==this.game.height||.001<Math.abs(o.x-i)||.001<Math.abs(o.y-n)){this.scale.setGameSize(a.x,a.y),this.scale.setUserScale(o.x,o.y);var s=this.game.state.getCurrentState();"function"==typeof s.onResize&&s.onResize(a.x,a.y)}}},t.prototype.orientationChange=function(t,e,i){t.isPortrait?this.leaveIncorrectOrientation():this.enterIncorrectOrientation()},t.prototype.enterIncorrectOrientation=function(){document.getElementById("sbc_orientation").style.display="block";var t=this.game.state.getCurrentState();"function"==typeof t.onPause&&t.onPause()},t.prototype.leaveIncorrectOrientation=function(){document.getElementById("sbc_orientation").style.display="none";var t=this.game.state.getCurrentState();"function"==typeof t.onResume&&t.onResume()},t}(Phaser.State);t.Boot=e}(LittlePlane||(LittlePlane={})),function(t){var e=function(e){function t(){var t=e.call(this)||this;return t._restartCounter=2,t}return __extends(t,e),t.prototype.create=function(){this._once=!1,this._pressed=!1;var t=this.add.image(0,0,"Tut");t.inputEnabled=!0,t.events.onInputUp.add(function(){this._pressed=!0},this),this._space=this.input.keyboard.addKey(Phaser.KeyCode.SPACEBAR)},t.prototype.onGameeRestart=function(){--this._restartCounter<=0&&(this._pressed=!0)},t.prototype.onGameeButtonDown=function(t){this._pressed=!0},t.prototype.update=function(){this._once||(this._space.justDown&&(this._pressed=!0),this._pressed&&(this._once=!0,App.Global.GAMEE&&Gamee.Gamee.instance.gameStart(),this.game.state.start("Play")))},t}(Phaser.State);t.Menu=e}(LittlePlane||(LittlePlane={})),function(o){var t=function(e){function t(){var t=e.call(this)||this;return t._ready=!1,t}return __extends(t,e),t.prototype.preload=function(){var t="assets/sfx/";if(this.game.device.ie||Phaser.Device.isAndroidStockBrowser()){for(var e in o.Sounds.AUDIO_JSON.spritemap)this.load.audio(e,t+e+".mp3");this.load.audio("Music",t+"music.mp3")}else{var i=0;this.game.device.iOS&&(i=.1);var n=0;for(var e in o.Sounds.AUDIO_JSON.spritemap){var a=o.Sounds.AUDIO_JSON.spritemap[e];0!==n&&(a.start-=i),++n}this.load.audiosprite("Sfx",o.Sounds.AUDIO_JSON.resources,null,o.Sounds.AUDIO_JSON),this.load.audio("Music",[t+"music.ogg",t+"music.m4a"])}t="assets/",this.load.image("Background",t+"Background.jpg"),this.load.atlas("Sprites",t+"Sprites.png",t+"Sprites.json"),this.load.atlas("Dialog",t+"Dialog.png",t+"Dialog.json"),this.load.json("Config",t+"config.json")},t.prototype.loadUpdate=function(){this.setLoadingText(this.load.progress)},t.prototype.create=function(){this.readConfig();var t=this.add.audio("Music");if(t.volume=.5,Utils.AudioUtils.addMusic("Music",t),this.game.device.ie||Phaser.Device.isAndroidStockBrowser())for(var e in Utils.AudioUtils.setSounds(null),o.Sounds.AUDIO_JSON.spritemap){(n=this.add.audio(e)).allowMultiple=!0,Utils.AudioUtils.addSound(e,n)}else{var i=this.add.audioSprite("Sfx");for(var e in o.Sounds.AUDIO_JSON.spritemap){var n;(n=i.sounds[e]).allowMultiple=!0}Utils.AudioUtils.setSounds(i)}},t.prototype.readConfig=function(){var t=this.game.cache.getJSON("Config");for(var e in t)o.Gameplay[e]=t[e]},t.prototype.update=function(){!1===this._ready&&(this._ready=!0,App.Global.GAMEE&&Gamee.Gamee.instance.gameReady(),this.game.state.start("Play"))},t.prototype.setLoadingText=function(t){},t}(Phaser.State);o.Preloader=t}(LittlePlane||(LittlePlane={})),function(c){var t=function(e){function t(){var t=e.call(this)||this;return t._gameOver=!1,t._playerXBeforeCrash=0,t._runFromRestart=!1,t._gameDirty=!0,t._bounceVector=new Phaser.Point(0,0),t._shouts=["rich1","rich2","rich3"],t._dlgContinue=null,t._continueUsed=!1,t}return __extends(t,e),t.prototype.create=function(){this.stage.backgroundColor=1249810,this.camera.bounds=null,this.game.physics.startSystem(Phaser.Physics.P2JS),this.game.physics.p2.gravity.y=800,this.game.physics.p2.applyGravity=!1,this._playerCollisionGroup=this.physics.p2.createCollisionGroup(),this._pillarsCollisionGroup=this.game.physics.p2.createCollisionGroup(),this._bonusCollisionGroup=this.physics.p2.createCollisionGroup(),this._button=this.game.input.keyboard.addKey(Phaser.KeyCode.SPACEBAR),this.game.input.onDown.add(function(){this._buttonDown=!0},this),this.game.input.onUp.add(function(){this._buttonDown=!1},this),this._bg=new c.Background(this.game,this.world),this._player=new c.Player(this.game),this.world.add(this._player),this._player.setCollisionGroup(this._playerCollisionGroup),this._player.collides([this._pillarsCollisionGroup,this._bonusCollisionGroup]),this._player.body.onBeginContact.add(this.resolveCollision,this),this._generator=new c.Generator(this.game,this.finishObstacleSetup,this),this.world.add(this._generator.pillarsLayer),this.world.add(this._generator.bonusLayer),this._generator.onScoreAdd.add(this.onScore,this),this.world.bringToTop(this._player),this._explosion=new c.Explosion(this.game),this.world.add(this._explosion),this.createEmitters(),this._fg=new c.Foreground(this.game,this.world),this.reset(),this._player.resetPlayer(-360),this.onResize(this.game.width,this.game.height)},t.prototype.setView=function(t,e){this.camera.bounds=null,this.world.setBounds(-t/2,-e/2,t/2,e/2),this.camera.focusOnXY(0,0)},t.prototype.onResize=function(t,e){this.setView(t,e),this._bg.onResize(t,e),this._fg.onResize(t,e)},t.prototype.onGameePause=function(){this.game.paused=!0},t.prototype.onGameeUnpause=function(){this.game.paused=!1},t.prototype.onGameeRestart=function(){App.Global.game.paused=!1,this.reset(),Utils.AudioUtils.playSound("change",.1)},t.prototype.reset=function(t){void 0===t&&(t=!1),this._gameOver=!1,this._buttonDown=!1,t||(this.camera.x=0),this._player.resetPlayer(t?this._playerXBeforeCrash:-70),this._player.setCollisionGroup(this._playerCollisionGroup),this._player.collides([this._pillarsCollisionGroup,this._bonusCollisionGroup]),this._killPlayer=!1,t||this._gameDirty&&(this._generator.reset(),this._gameDirty=!1),this._jetEmitter.killAllParticles(),this._jetEmitter.params=this._jetParamsNormal,this._jetEmitter.flow(50,4,-1,!0),this._moneyEmitter.killAllParticles(),this._lastBonusTime=0,this._consecutiveBonuses=0,this._shoutsCount=this.game.rnd.integerInRange(0,this._shouts.length-1),t||(this._score=0,this._lastScoreTime=0),Utils.AudioUtils.stopMusic(),Utils.AudioUtils.playMusic("Music"),t||(this._continueUsed=!1,App.Global.GAMEE&&Gamee.Gamee.instance.loadRewardedVideo())},t.prototype.update=function(){if(!App.Global.GAMEE||Gamee.Gamee.instance.gameRunning){this.swingBonuses();var t=this._player.body;if(this._killPlayer){this._killPlayer=!1,this._playerXBeforeCrash=this._player.x,this.game.physics.p2.applyGravity=!0,t.removeCollisionGroup([this._pillarsCollisionGroup,this._bonusCollisionGroup],!1);var e=this.game.rnd.realInRange(10,20)*this.game.rnd.sign(),i=this.game.rnd.realInRange(10,20)*this.game.rnd.sign();t.applyImpulse([this._bounceVector.x,this._bounceVector.y],e,i),Math.abs(t.data.angularVelocity)<10&&(t.data.angularVelocity=this.game.rnd.realInRange(5,15)*Phaser.Math.sign(t.data.angularVelocity)),this._jetEmitter.params=this._jetParamsDeath,this._jetEmitter.flow(25,1,-1,!0),this.setGameOver()}this._gameOver||((!App.Global.GAMEE||App.Global.GAMEE&&Gamee.Gamee.instance.gameRunning)&&(this.handleInput(),this._player.move(),this._gameDirty=!0),this._generator.generate(this.camera.x),this.camera.x=Math.max(0,t.x-125)),this._bg.updateBackground(this.camera.x),this._fg.updateBackground(this.camera.x)}},t.prototype.swingBonuses=function(){for(var t=this._generator.bonusLayer,e=t.length-1;0<=e;e--)t.getChildAt(e).offset()},t.prototype.handleInput=function(){this._button.justDown&&(this._buttonDown=!0),this._buttonDown&&(this._player.handleInput(),this._buttonDown=!1,Utils.AudioUtils.playSound("change",.35))},t.prototype.finishObstacleSetup=function(t){if(0===t.tag)t.setCollisionGroup(this._pillarsCollisionGroup),t.collides(this._playerCollisionGroup);else{t.setCollisionGroup(this._bonusCollisionGroup),t.collides(this._playerCollisionGroup);for(var e=t.body.data.shapes,i=0;i<e.length;i++)e[i].sensor=!0}},t.prototype.resolveCollision=function(t,e,i,n,a){if(!this._gameOver){var o=e.parent.sprite,s=o.tag;if(0===s){var r=a[0].bodyA.position,l=a[0].contactPointA,h=this.game.physics.p2.mpxi(r[0]+l[0]),u=this.game.physics.p2.mpxi(r[1]+l[1]);this._explosion.position.set(h,u),this._explosion.explode(),this._killPlayer=!0,this._bounceVector.set(-this.game.physics.p2.mpxi(l[0]),-this.game.physics.p2.mpxi(l[1])).setMagnitude(10)}else 1===s&&(o.remove||(o.remove=!0,this.onScore(1),this._moneyEmitter.emitAt(o.x,o.y),this._moneyEmitter.explode(15),Utils.AudioUtils.playSound("bonus"),this.time.time-this._lastBonusTime<c.Gameplay.CONSECUTIVE_BONUS_TIME?++this._consecutiveBonuses===c.Gameplay.CONSECUTIVE_BONUSES_FOR_SOUND&&(Utils.AudioUtils.playSound(this._shouts[this._shoutsCount]),this._shoutsCount=(this._shoutsCount+1)%3,this._consecutiveBonuses=0):this._consecutiveBonuses=1,this._lastBonusTime=this.time.time))}},t.prototype.setGameOver=function(){this._gameOver||(this._gameOver=!0,Utils.AudioUtils.playSound("crash"),this.time.events.add(2e3,function(){this.game.physics.p2.applyGravity=!1,!this._continueUsed&&(App.Global.TEST_ADS||App.Global.GAMEE&&Gamee.Gamee.instance.isVideoReady)?(null===this._dlgContinue&&(this._dlgContinue=new c.DialogContinue(this.game,100,100),this._dlgContinue.onDialogClosed.add(this.onContinueDialogClosed,this),this.world.bringToTop(this._dlgContinue)),Utils.AudioUtils.stopMusic(),this._dlgContinue.show()):this.doGameOver(!1)},this))},t.prototype.onContinueDialogClosed=function(t){if("Yes"===t)if(App.Global.GAMEE){var e=this;Gamee.Gamee.instance.showRewardedVideo(function(t){e.doGameOver(t)})}else this.doGameOver(!0);else this.doGameOver(!1)},t.prototype.doGameOver=function(t){t?(this._continueUsed=!0,this._generator.prepareForContinue(this.camera.x),this.reset(!0)):(Utils.AudioUtils.stopMusic(),App.Global.GAMEE?(this._runFromRestart=!0,Gamee.Gamee.instance.gameOver()):this.reset())},t.prototype.onScore=function(t){this._score+=t,App.Global.GAMEE&&Gamee.Gamee.instance.setScore(this._score)},t.prototype.createEmitters=function(){var t=new Particles.ParticlesEmitter(this.game,0,0,40),e=c.TintedParticle.LIFETIME;t.lifetime=e,t.setXSpeed(0,0),t.setYSpeed(-50,50),t.setScaleChange(Particles.eParameterChangeType.IN_TIME,-.5,e),t.setAlphaChange(Particles.eParameterChangeType.IN_TIME,-1,e),t.area=new Phaser.Circle(0,0,10),t.makeParticles("Sprites","particle1",40),t.emitAt(0,5),t.emitObject=this._player.body,this._jetParamsNormal=t.params,this.world.addAt(t,this.world.getChildIndex(this._player)),this._jetEmitter=t;var i=new Particles.ParticleParams(this.game);e=3*c.TintedParticle.LIFETIME,i.minLifetime=i.maxLifetime=e,i.setAngle(0,360),i.setXSpeed(-50,50),i.setYSpeed(-150,50),i.setScaleChange(Particles.eParameterChangeType.IN_TIME,2,e),i.setAlphaChange(Particles.eParameterChangeType.IN_TIME,-1,e),i.frames=["smoke"],this._jetParamsDeath=i,(t=new Particles.ParticlesEmitter(this.game,0,0,150)).lifetime=2.5,t.setXSpeed(-400,400),t.setYSpeed(-500,100),t.setAngle(-45,45),t.setAngularSpeed(-120,120),t.gravity=400,t.friction=2.5,t.makeParticles("Sprites",["moneyParticle"],150),this.world.add(t),this._moneyEmitter=t},t.DEBUG=!1,t}(Phaser.State);c.Play=t}(LittlePlane||(LittlePlane={})),function(t){var e=function(){function t(){}return t.GAMEE=!0,t.TEST_ADS=!1,t.game=null,t.GAME_WIDTH=640,t.GAME_HEIGHT=1024,t.MAX_GAME_WIDTH=640,t.MAX_GAME_HEIGHT=640,t.scaleX=1,t.scaleY=1,t.correctOrientation=!1,t.musicOn=!0,t.soundOn=!0,t.showLanguages=!1,t.supportedLanguages=["en"],t.currentLanguage="en",t}();t.Global=e}(App||(App={}));var LittlePlane,UI,Utils,PhaserGlobal={stopFocus:!0};function startGame(){var t=new LittlePlane.Game;return App.Global.game=t}window.onload=function(){if(App.Global.GAMEE)var e=new Gamee.Gamee("OneButton",{},["rewardedAds"],function(){var t=startGame();e.setGame(t)});else startGame()},function(a){var t=function(i){function n(){var t=this,e=n.getRenderer();return t=i.call(this,{width:1,height:1,renderer:e,parent:"content",transparent:!1,antialias:!0,physicsConfig:null,preserveDrawingBuffer:!0})||this,n.game=t,Utils.PhaserUtils.ChangeAnimationPhaserJSONData(t.additionalFrameProperties),Utils.PhaserUtils.AdjustTweenFunctions(),Utils.PhaserUtils.AddBitmapFontAddMethod(),t.state.add("Boot",a.Boot),t.state.add("Preloader",a.Preloader),t.state.add("Menu",a.Menu),t.state.add("Play",a.Play),t.state.add("Test",a.Play),t.state.start("Boot"),t}return __extends(n,i),n.getRenderer=function(){var t,e,i,n=[/.*Mali.400.*/i,/.*Mali.450.*/i,/.*Mediatek.MT6582.*/i],a=document.createElement("canvas");try{t=a.getContext("webgl")||a.getContext("experimental-webgl")}catch(t){return Phaser.AUTO}if(!t)return Phaser.AUTO;if(!(e=t.getExtension("WEBGL_debug_renderer_info")))return Phaser.AUTO;i=t.getParameter(e.UNMASKED_RENDERER_WEBGL);for(var o=0;o<n.length;o++){if(n[o].test(i))return Phaser.CANVAS}return Phaser.AUTO},n.prototype.onSound=function(t){if(null!=this.sound)if(this.sound.mute=!t,App.Global.soundOn=t,App.Global.musicOn=t){if(!this.cache.checkSoundKey("Music"))return;Utils.AudioUtils.playMusic("Music")}else Utils.AudioUtils.stopMusic()},n.prototype.additionalFrameProperties=function(t,e){e.anchor&&(t.anchorX=e.anchor.w,t.anchorY=e.anchor.h),e.nextitem&&(t.nextItemX=e.nextitem.w,t.nextItemY=e.nextitem.h)},n}(Phaser.Game);a.Game=t}(LittlePlane||(LittlePlane={})),function(t){var e=function(){function t(){}return t.AUDIO_JSON={resources:["assets\\sfx\\Sfx.ogg","assets\\sfx\\Sfx.m4a"],spritemap:{rich1:{start:0,end:1.4460544217687075,loop:!1},rich2:{start:3,end:4.153560090702948,loop:!1},rich3:{start:6,end:7.29172335600907,loop:!1},bonus:{start:9,end:9.527006802721088,loop:!1},crash:{start:11,end:12.878231292517007,loop:!1},change:{start:14,end:14.931224489795918,loop:!1}}},t}();t.Sounds=e}(LittlePlane||(LittlePlane={})),function(t){var e=function(h){function t(t,e,i,n,a,o,s){var r=h.call(this,t)||this;r.onClick=new Phaser.Signal,r.onDown=new Phaser.Signal,r.scaleOnOver=new Phaser.Point(1,1),r.scaleOnDown=new Phaser.Point(1,1),r.offsetOnOver=new Phaser.Point(0,0),r.offsetOnDown=new Phaser.Point(0,0),r._tinted=!1,r._downTint=8421504,r._overTint=16777215,r._savePosition=new Phaser.Point,r._saveScale=new Phaser.Point,r._over=!1,r._down=!1,r.name=e;var l=new Phaser.Button(t,0,0,i);return r.add(l),r._button=l,void 0!==a&&a&&(r._tinted=!0),void 0===o&&(o="string"==typeof n?n+"Down":null,(r._tinted||o&&!t.cache.getFrameByName(i,o))&&(o=null)),void 0===s&&(s="string"==typeof n?n+"Over":null,(r._tinted||s&&!t.cache.getFrameByName(i,s))&&(s=null)),l.setFrames(s,n,o,n),l.anchor.setTo(.5,.5),l.name=e,l.onInputOver.add(r.overEvent,r),l.onInputOut.add(r.outEvent,r),l.onInputDown.add(r.downEvent,r),l.onInputUp.add(r.upEvent,r),r}return __extends(t,h),Object.defineProperty(t.prototype,"button",{get:function(){return this._button},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._button.anchor},enumerable:!0,configurable:!0}),t.prototype.setEnabled=function(t){this._button.inputEnabled=t},t.prototype.setHitArea=function(t){this._button.hitArea=t},t.prototype.setTint=function(t,e){void 0===e&&(e=0),this._downTint=t,this._overTint=e},t.prototype.overEvent=function(t,e){this.setButton(!0,this._down),this.overAction()},t.prototype.outEvent=function(t,e){this.setButton(!1,!1),this.outAction()},t.prototype.downEvent=function(t,e){this.setButton(this._over,!0),this.downAction(),this.onDown.dispatch(this)},t.prototype.upEvent=function(t,e,i){this.setButton(this._over,!1),this.upAction(),i&&this.onClick.dispatch(this)},t.prototype.setButton=function(t,e){if(this._over||this._down||(this._saveScale.copyFrom(this._button.scale),this._savePosition.copyFrom(this._button.position)),this._down=e,this._over=t,e){if(Phaser.Point.multiply(this._saveScale,this.scaleOnDown,this._button.scale),Phaser.Point.add(this._button.position,this.offsetOnDown,this._button.position),this._tinted){this._button.tint=this._downTint;for(var i=0;i<this._button.children.length;i++)this._button.getChildAt(i).tint=this._downTint}}else if(t){if(Phaser.Point.multiply(this._saveScale,this.scaleOnOver,this._button.scale),Phaser.Point.add(this._button.position,this.offsetOnOver,this._button.position),this._tinted){this._button.tint=this._overTint;for(i=0;i<this._button.children.length;i++)this._button.getChildAt(i).tint=this._overTint}}else if(this._button.scale.copyFrom(this._saveScale),this._button.position.copyFrom(this._savePosition),this._tinted){this._button.tint=16777215;for(i=0;i<this._button.children.length;i++)this._button.getChildAt(i).tint=16777215}},t.prototype.overAction=function(){},t.prototype.outAction=function(){},t.prototype.downAction=function(){Utils.AudioUtils.playSound("bonus")},t.prototype.upAction=function(){},t.prototype.reset=function(){for(var t=this._button.input._pointerData,e=0;e<10;e++)t[e]={id:e,x:0,y:0,isDown:!1,isUp:!1,isOver:!1,isOut:!1,timeOver:0,timeOut:0,timeDown:0,timeUp:0,downDuration:0,isDragged:!1};this.setButton(!1,!1)},t}(Phaser.Group);t.Button=e}(UI||(UI={})),function(t){var e=function(){function n(){}return n.setSounds=function(t,e){void 0===e&&(e=null),n._sfx=t,n._sfxIds=e,n._isAudioSprite=null!==t&&t instanceof Phaser.AudioSprite},n.addSound=function(t,e){n._sfxs[t]=e},n.playSound=function(t,e){void 0===e&&(e=1);var i=n.getSoundName(t);App.Global.soundOn&&(null!==n._sfx?n._isAudioSprite?n._sfx.play(i,e):n._sfx.play(i,0,e):void 0!==n._sfxs[i]&&n._sfxs[i].play("",0,e))},n.stopSound=function(t){var e=n.getSoundName(t);null!==n._sfx?n._isAudioSprite&&n._sfx.stop(e):void 0!==n._sfxs[e]&&n._sfxs[e].stop()},n.getSoundName=function(t){return"number"==typeof t?n._sfxIds[t]:t},Object.defineProperty(n,"currentMusic",{get:function(){return n._currentMusic},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isMusicPlaying",{get:function(){return null!==this._currentMusic&&0!==this._currentMusic.length&&n._music[n._currentMusic].isPlaying},enumerable:!0,configurable:!0}),n.addMusic=function(t,e){n._music[t]=e},n.playMusic=function(t,e){if(void 0===e&&(e=!0),n._currentMusic!==t&&(null!==n._currentMusic&&0<n._currentMusic.length&&n.stopMusic(),t in n._music&&App.Global.musicOn)){n._currentMusic=t;var i=n._music[t];i.loop=e,i.play(),e||i.onStop.addOnce(function(){n.onFinished.dispatch(t)},this)}},n.stopMusic=function(){if(null!==n._currentMusic&&0<n._currentMusic.length){var t=n._music[n._currentMusic];t.isPlaying&&t.stop(),n._currentMusic=""}},n.pauseMusic=function(){if(null!==n._currentMusic&&0<n._currentMusic.length){var t=n._music[n._currentMusic];t.isPlaying&&t.pause()}},n.resumeMusic=function(){if(null!==n._currentMusic&&0<n._currentMusic.length){var t=n._music[n._currentMusic];t.paused&&t.resume()}},n._sfx=null,n._isAudioSprite=!1,n._sfxs={},n._music={},n._currentMusic="",n.onFinished=new Phaser.Signal,n}();t.AudioUtils=e}(Utils||(Utils={})),function(t){var e=function(){function t(){}return t.supported=function(){return App.Global.game.scale.compatibility.supportsFullScreen},t.isFullscreen=function(){return App.Global.game.scale.isFullScreen},t.changeFullscreen=function(){var t=App.Global.game;t.scale.isFullScreen?t.scale.stopFullScreen():t.scale.startFullScreen(!1,!1)},t}();t.FullscreenUtils=e}(Utils||(Utils={})),function(t){var e=function(){function t(){}return t.ChangeAnimationPhaserJSONData=function(t){Phaser.AnimationParser.myCallback=t,Phaser.AnimationParser.JSONData=function(t,e){if(e.frames){for(var i=new Phaser.FrameData,n=e.frames,a=0;a<n.length;a++){var o=i.addFrame(new Phaser.Frame(a,n[a].frame.x,n[a].frame.y,n[a].frame.w,n[a].frame.h,n[a].filename));n[a].trimmed&&o.setTrim(n[a].trimmed,n[a].sourceSize.w,n[a].sourceSize.h,n[a].spriteSourceSize.x,n[a].spriteSourceSize.y,n[a].spriteSourceSize.w,n[a].spriteSourceSize.h),Phaser.AnimationParser.myCallback(o,n[a])}return i}}},t.AdjustTweenFunctions=function(){Phaser.TweenManager.prototype.removeFromUpdateQueue=function(t){var e=this._tweens.indexOf(t);-1!==e?this._tweens.splice(e,1):-1!==(e=this._add.indexOf(t))&&this._add.splice(e,1)},Phaser.Tween.prototype.stopAndRemoveFromUpdateQueue=function(t){var e=this.stop(t);return this.manager.removeFromUpdateQueue(this),this.pendingDelete=!1,e}},t.AddBitmapFontAddMethod=function(){Phaser.Cache.prototype.addBitmapFontFromImage=function(t,e,i,n,a,o,s){var r=this.getImage(i,!0),l={url:e,data:r.data,font:null,base:r.base};void 0===o&&(o=0),void 0===s&&(s=0),l.font="json"===a?Phaser.LoaderParser.jsonBitmapFont(n,l.base,o,s):Phaser.LoaderParser.xmlBitmapFont(n,l.base,o,s),this._cache.bitmapFont[t]=l,this._resolveURL(e,l)}},t}();t.PhaserUtils=e}(Utils||(Utils={})),function(t){var f,e,g=function(){};t.ScreenMetrics=g,(e=f=t.eOrientation||(t.eOrientation={}))[e.PORTRAIT=0]="PORTRAIT",e[e.LANDSCAPE=1]="LANDSCAPE";var i=function(){function t(){}return t.calculateScreenMetrics=function(t,e,i,n,a,o){var s,r;if(void 0===i&&(i=f.LANDSCAPE),((s=window.innerWidth)<(r=window.innerHeight)&&i===f.LANDSCAPE||r<s&&i===f.PORTRAIT)&&!n){var l=s;s=r,r=l}void 0!==a&&void 0!==o||(o=i===f.LANDSCAPE?(a=Math.round(1024*t/960),Math.round(720*e/600)):(a=Math.round(720*t/600),Math.round(1024*e/960)));var h=s/r,u=0,c=0,p=0,_=0;c=t/e<h?(_=e,p=2*Math.ceil(_*h/2),u=((p=Math.min(p,a))-t)/2,0):(p=t,_=2*Math.ceil(p/h/2),u=0,((_=Math.min(_,o))-e)/2);var d=(s+.01)/p,m=(r+.01)/_;return n&&i===f.LANDSCAPE&&(d=m),this.screenMetrics=new g,this.screenMetrics.windowWidth=s,this.screenMetrics.windowHeight=r,this.screenMetrics.defaultGameWidth=t,this.screenMetrics.defaultGameHeight=e,this.screenMetrics.maxGameWidth=a,this.screenMetrics.maxGameHeight=o,this.screenMetrics.gameWidth=p,this.screenMetrics.gameHeight=_,this.screenMetrics.scaleX=d,this.screenMetrics.scaleY=m,this.screenMetrics.offsetX=u,this.screenMetrics.offsetY=c,this.screenMetrics},t}();t.ScreenUtils=i}(Utils||(Utils={})),function(t){var a=function(){},e=function(){function n(){}return n.save=function(){var t=new a;t.musicOn=App.Global.musicOn,t.soundOn=App.Global.soundOn,t.currentLanguage=App.Global.currentLanguage;var e=n.getLocalStorage();if(null!==e){var i=JSON.stringify(t);e.setItem("littleplane_save",i)}},n.load=function(){var t=null;if(null==t){var e=n.getLocalStorage();if(null===e)return!1;t=JSON.parse(e.getItem("littleplane_save"))}return null!=t&&(App.Global.musicOn=t.musicOn,App.Global.soundOn=t.soundOn,App.Global.currentLanguage=t.currentLanguage,!0)},n.getLocalStorage=function(){try{if("localStorage"in window&&null!==window.localStorage)return localStorage}catch(t){return null}return null},n}();t.StorageUtils=e}(Utils||(Utils={})),function(t){var e=function(){function h(){}return h.padNumber=function(t,e,i){void 0===i&&(i="0");var n=t+"";return e<=n.length?n:new Array(e-n.length+1).join(i)+n},h.addSpacingToNumber=function(t,e){return void 0===e&&(e=" "),(""+t).replace(/\B(?=(\d{3})+(?!\d))/g,e)},h.formatTime=function(t,e,i,n){void 0===i&&(i=-1),void 0===n&&(n=":");var a=!1,o="";if(3600<(t=Math.floor(t))||0===e){var s=Math.floor(t/3600);o+=(-1!==i?h.padNumber(s,i):s)+n,t%=3600,a=!0}if(!0===a||60<t||1===e){var r=Math.floor(t/60);o+=(-1!==i?h.padNumber(r,i):r)+n,t%=60,a=!0}var l=t;return o+=-1!==i?h.padNumber(l,i):l},h}();t.StringUtils=e}(Utils||(Utils={})),function(t){var e=function(){function a(){}return a.setTexts=function(t){a._texts=t},a.getText=function(t,e){if(null===a._texts)return"Texts not set";void 0===e&&(e=App.Global.currentLanguage);var i=a._texts[e];if(void 0===i)return"Invalid language "+e;var n=i[t];return void 0===n?"!MISSING TEXT!":n},a._texts=null,a}();t.TextUtils=e}(Utils||(Utils={})),function(t){var e=function(){function t(){}return t.isAndroidStockBrowser=function(){var t=window.navigator.userAgent.match(/Android.*AppleWebKit\/([\d.]+)/);return t&&parseFloat(t[1])<537},t.androidVersion=function(){var t=navigator.userAgent.match(/Android\s([0-9\.]*)/);return t?parseFloat(t[1]):-1},t.androidUnlockAudio=function(t){t.device.android&&t.device.chrome&&55<=t.device.chromeVersion&&(t.sound.touchLocked=!0,t.input.addTouchLockCallback(function(){if(this.noAudio||!this.touchLocked||null!==this._unlockSource)return!0;if(this.usingWebAudio){var t=this.context.createBuffer(1,1,22050);this._unlockSource=this.context.createBufferSource(),this._unlockSource.buffer=t,this._unlockSource.connect(this.context.destination),void 0===this._unlockSource.start?this._unlockSource.noteOn(0):this._unlockSource.start(0),"suspended"===this._unlockSource.context.state&&this._unlockSource.context.resume()}return!0},t.sound,!0))},t}();t.Device=e}(Utils||(Utils={}));
